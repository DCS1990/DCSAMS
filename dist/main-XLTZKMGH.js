import{b as Av,c as Mv,f as Lw,g as Nv}from"./chunk-65CJINC2.js";import{a as N,b as ie,c as Di,e as Vn,g as Fw,h as Ow}from"./chunk-VOSPIT4N.js";var Qx=Vn(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});var Mg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ng.default=Mg});var Fg=Vn(Pl=>{"use strict";var Zx=Pl&&Pl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pl,"__esModule",{value:!0});var GA=Zx((Nv(),Ow(Lw))),zA=Zx(Qx()),Rg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=GA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let i=this.fetch,r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,u,d;let m=null,p=null,g=null,C=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){let z=await o.text();z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=z:p=JSON.parse(z))}let P=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),$=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");P&&$&&$.length>1&&(g=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,C=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{let P=await o.text();try{m=JSON.parse(P),Array.isArray(m)&&o.status===404&&(p=[],m=null,C=200,_="OK")}catch{o.status===404&&P===""?(C=204,_="No Content"):m={message:P}}if(m&&this.isMaybeSingle&&(!((d=m?.details)===null||d===void 0)&&d.includes("0 rows"))&&(m=null,C=200,_="OK"),m&&this.shouldThrowOnError)throw new zA.default(m)}return{error:m,data:p,count:g,status:C,statusText:_}});return this.shouldThrowOnError||(r=r.catch(o=>{var s,u,d;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(u=o?.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=o?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,e)}};Pl.default=Rg});var Lg=Vn(Vl=>{"use strict";var qA=Vl&&Vl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vl,"__esModule",{value:!0});var WA=qA(Fg()),Og=class extends WA.default{select(t){let e=!1,i=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){let s=o?`${o}.order`:"order",u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){let r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:r=i}={}){let o=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:s="text"}={}){var u;let d=[t?"analyze":null,e?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${m}"; options=${d};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vl.default=Og});var Yd=Vn(jl=>{"use strict";var QA=jl&&jl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jl,"__esModule",{value:!0});var ZA=QA(Lg()),Pg=class extends ZA.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let i=Array.from(new Set(e)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let s=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){let r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}};jl.default=Pg});var jg=Vn(Bl=>{"use strict";var YA=Bl&&Bl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bl,"__esModule",{value:!0});var Ul=YA(Yd()),Vg=class{constructor(t,{headers:e={},schema:i,fetch:r}){this.url=t,this.headers=e,this.schema=i,this.fetch=r}select(t,{head:e=!1,count:i}={}){let r=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer=`count=${i}`),new Ul.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:i=!0}={}){let r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(s.length>0){let u=[...new Set(s)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ul.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){let s="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&u.push(this.headers.Prefer),r&&u.push(`count=${r}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){let d=t.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){let m=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ul.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new Ul.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Ul.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bl.default=Vg});var Yx=Vn(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.version=void 0;Kd.version="0.0.0-automated"});var Kx=Vn(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.DEFAULT_HEADERS=void 0;var KA=Yx();Jd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${KA.version}`}});var Xx=Vn($l=>{"use strict";var Jx=$l&&$l.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($l,"__esModule",{value:!0});var JA=Jx(jg()),XA=Jx(Yd()),eM=Kx(),Ug=class n{constructor(t,{headers:e={},schema:i,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},eM.DEFAULT_HEADERS),e),this.schemaName=i,this.fetch=r}from(t){let e=new URL(`${this.url}/${t}`);return new JA.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:i=!1,get:r=!1,count:o}={}){let s,u=new URL(`${this.url}/rpc/${t}`),d;i||r?(s=i?"HEAD":"GET",Object.entries(e).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{u.searchParams.append(p,g)})):(s="POST",d=e);let m=Object.assign({},this.headers);return o&&(m.Prefer=`count=${o}`),new XA.default({method:s,url:u,headers:m,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};$l.default=Ug});var oC=Vn(It=>{"use strict";var Hl=It&&It.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(It,"__esModule",{value:!0});It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;var eC=Hl(Xx());It.PostgrestClient=eC.default;var tC=Hl(jg());It.PostgrestQueryBuilder=tC.default;var nC=Hl(Yd());It.PostgrestFilterBuilder=nC.default;var iC=Hl(Lg());It.PostgrestTransformBuilder=iC.default;var rC=Hl(Fg());It.PostgrestBuilder=rC.default;It.default={PostgrestClient:eC.default,PostgrestQueryBuilder:tC.default,PostgrestFilterBuilder:nC.default,PostgrestTransformBuilder:iC.default,PostgrestBuilder:rC.default}});var zf;function qf(){return zf}function jn(n){let t=zf;return zf=n,t}var Pw=Symbol("NotFound"),cc=class extends Error{name="\u0275NotFound";constructor(t){super(t)}};function kr(n){return n===Pw||n?.name==="\u0275NotFound"}function pc(n,t){return Object.is(n,t)}var Je=null,uc=!1,Wf=1,Vw=null,yt=Symbol("SIGNAL");function de(n){let t=Je;return Je=n,t}function hc(){return Je}var ei={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ar(n){if(uc)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(n);let t=Je.nextProducerIndex++;if(yc(Je),t<Je.producerNode.length&&Je.producerNode[t]!==n&&pa(Je)){let e=Je.producerNode[t];vc(e,Je.producerIndexOfThis[t])}Je.producerNode[t]!==n&&(Je.producerNode[t]=n,Je.producerIndexOfThis[t]=pa(Je)?Fv(n,Je,t):0),Je.producerLastReadVersion[t]=n.version}function Rv(){Wf++}function gc(n){if(!(pa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Wf)){if(!n.producerMustRecompute(n)&&!Mr(n)){fc(n);return}n.producerRecomputeValue(n),fc(n)}}function Qf(n){if(n.liveConsumerNode===void 0)return;let t=uc;uc=!0;try{for(let e of n.liveConsumerNode)e.dirty||jw(e)}finally{uc=t}}function Zf(){return Je?.consumerAllowSignalWrites!==!1}function jw(n){n.dirty=!0,Qf(n),n.consumerMarkedDirty?.(n)}function fc(n){n.dirty=!1,n.lastCleanEpoch=Wf}function ti(n){return n&&(n.nextProducerIndex=0),de(n)}function Ti(n,t){if(de(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pa(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)vc(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Mr(n){yc(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(gc(e),i!==e.version))return!0}return!1}function Nr(n){if(yc(n),pa(n))for(let t=0;t<n.producerNode.length;t++)vc(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Fv(n,t,e){if(Ov(n),n.liveConsumerNode.length===0&&Lv(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Fv(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function vc(n,t){if(Ov(n),n.liveConsumerNode.length===1&&Lv(n))for(let i=0;i<n.producerNode.length;i++)vc(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];yc(r),r.producerIndexOfThis[i]=t}}function pa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function yc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ov(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Lv(n){return n.producerNode!==void 0}function bc(n){Vw?.(n)}function _c(n,t){let e=Object.create(Uw);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(gc(e),Ar(e),e.value===fa)throw e.error;return e.value};return i[yt]=e,bc(e),i}var dc=Symbol("UNSET"),mc=Symbol("COMPUTING"),fa=Symbol("ERRORED"),Uw=ie(N({},ei),{value:dc,dirty:!0,error:null,equal:pc,kind:"computed",producerMustRecompute(n){return n.value===dc||n.value===mc},producerRecomputeValue(n){if(n.value===mc)throw new Error("");let t=n.value;n.value=mc;let e=ti(n),i,r=!1;try{i=n.computation(),de(null),r=t!==dc&&t!==fa&&i!==fa&&n.equal(t,i)}catch(o){i=fa,n.error=o}finally{Ti(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function Bw(){throw new Error}var Pv=Bw;function Vv(n){Pv(n)}function Yf(n){Pv=n}var $w=null;function Kf(n,t){let e=Object.create(Cc);e.value=n,t!==void 0&&(e.equal=t);let i=()=>jv(e);return i[yt]=e,bc(e),i}function jv(n){return Ar(n),n.value}function Ii(n,t){Zf()||Vv(n),n.equal(n.value,t)||(n.value=t,Hw(n))}function xc(n,t){Zf()||Vv(n),Ii(n,t(n.value))}var Cc=ie(N({},ei),{equal:pc,value:void 0,kind:"signal"});function Hw(n){n.version++,Rv(),Qf(n),$w?.(n)}function ge(n){return typeof n=="function"}function Rr(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var wc=Rr(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ki(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var $e=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(ge(i))try{i()}catch(o){t=o instanceof wc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Uv(o)}catch(s){t=t??[],s instanceof wc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new wc(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Uv(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ki(e,t)}remove(t){let{_finalizers:e}=this;e&&ki(e,t),t instanceof n&&t._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var Jf=$e.EMPTY;function Sc(n){return n instanceof $e||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function Uv(n){ge(n)?n():n.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fr={setTimeout(n,t,...e){let{delegate:i}=Fr;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Fr;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ec(n){Fr.setTimeout(()=>{let{onUnhandledError:t}=cn;if(t)t(n);else throw n})}function ha(){}var Bv=Xf("C",void 0,void 0);function $v(n){return Xf("E",void 0,n)}function Hv(n){return Xf("N",n,void 0)}function Xf(n,t,e){return{kind:n,value:t,error:e}}var Ai=null;function Or(n){if(cn.useDeprecatedSynchronousErrorHandling){let t=!Ai;if(t&&(Ai={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=Ai;if(Ai=null,e)throw i}}else n()}function Gv(n){cn.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=n)}var Mi=class extends $e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sc(t)&&t.add(this)):this.destination=qw}static create(t,e,i){return new Lr(t,e,i)}next(t){this.isStopped?tp(Hv(t),this):this._next(t)}error(t){this.isStopped?tp($v(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?tp(Bv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gw=Function.prototype.bind;function ep(n,t){return Gw.call(n,t)}var np=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Dc(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Dc(i)}else Dc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Dc(e)}}},Lr=class extends Mi{constructor(t,e,i){super();let r;if(ge(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ep(t.next,o),error:t.error&&ep(t.error,o),complete:t.complete&&ep(t.complete,o)}):r=t}this.destination=new np(r)}};function Dc(n){cn.useDeprecatedSynchronousErrorHandling?Gv(n):Ec(n)}function zw(n){throw n}function tp(n,t){let{onStoppedNotification:e}=cn;e&&Fr.setTimeout(()=>e(n,t))}var qw={closed:!0,next:ha,error:zw,complete:ha};var Pr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(n){return n}function ip(...n){return rp(n)}function rp(n){return n.length===0?Lt:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var we=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=Qw(e)?e:new Lr(e,i,r);return Or(()=>{let{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=zv(i),new i((r,o)=>{let s=new Lr({next:u=>{try{e(u)}catch(d){o(d),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Pr](){return this}pipe(...e){return rp(e)(this)}toPromise(e){return e=zv(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function zv(n){var t;return(t=n??cn.Promise)!==null&&t!==void 0?t:Promise}function Ww(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function Qw(n){return n&&n instanceof Mi||Ww(n)&&Sc(n)}function op(n){return ge(n?.lift)}function De(n){return t=>{if(op(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new sp(n,t,e,i,r)}var sp=class extends Mi{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(u){try{e(u)}catch(d){t.error(d)}}:super._next,this._error=r?function(u){try{r(u)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Vr(){return De((n,t)=>{let e=null;n._refCount++;let i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var jr=class extends we{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,op(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $e;let e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$e.EMPTY)}return t}refCount(){return Vr()(this)}};var qv=Rr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Tc(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new qv}next(e){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Jf:(this.currentObservers=null,o.push(e),new $e(()=>{this.currentObservers=null,ki(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new we;return e.source=this,e}}return n.create=(t,e)=>new Tc(t,e),n})(),Tc=class extends Ue{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Jf}};var dt=class extends Ue{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var ga={now(){return(ga.delegate||Date).now()},delegate:void 0};var va=class extends Ue{constructor(t=1/0,e=1/0,i=ga){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=e.now(),u=0;for(let d=1;d<i.length&&i[d]<=s;d+=2)u=d;u&&i.splice(0,u+1)}}};var Ic=class extends $e{constructor(t,e){super()}schedule(t,e=0){return this}};var ya={setInterval(n,t,...e){let{delegate:i}=ya;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=ya;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var kc=class extends Ic{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return ya.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&ya.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ki(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Ur=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};Ur.now=ga.now;var Ac=class extends Ur{constructor(t,e=Ur.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var Wv=new Ac(kc);var kt=new we(n=>n.complete());function Qv(n){return n&&ge(n.schedule)}function Zv(n){return n[n.length-1]}function Mc(n){return ge(Zv(n))?n.pop():void 0}function ni(n){return Qv(Zv(n))?n.pop():void 0}function Kv(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})}function Yv(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(n){return this instanceof Ni?(this.v=n,this):new Ni(n)}function Jv(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(M){return Promise.resolve(M).then(_,g)}}function u(_,M){i[_]&&(r[_]=function(P){return new Promise(function($,z){o.push([_,P,$,z])>1||d(_,P)})},M&&(r[_]=M(r[_])))}function d(_,M){try{m(i[_](M))}catch(P){C(o[0][3],P)}}function m(_){_.value instanceof Ni?Promise.resolve(_.value.v).then(p,g):C(o[0][2],_)}function p(_){d("next",_)}function g(_){d("throw",_)}function C(_,M){_(M),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Xv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Yv=="function"?Yv(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(u,d){s=n[o](s),r(u,d,s.done,s.value)})}}function r(o,s,u,d){Promise.resolve(d).then(function(m){o({value:m,done:u})},s)}}var Nc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Rc(n){return ge(n?.then)}function Fc(n){return ge(n[Pr])}function Oc(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function Lc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Zw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pc=Zw();function Vc(n){return ge(n?.[Pc])}function jc(n){return Jv(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield Ni(e.read());if(r)return yield Ni(void 0);yield yield Ni(i)}}finally{e.releaseLock()}})}function Uc(n){return ge(n?.getReader)}function We(n){if(n instanceof we)return n;if(n!=null){if(Fc(n))return Yw(n);if(Nc(n))return Kw(n);if(Rc(n))return Jw(n);if(Oc(n))return ey(n);if(Vc(n))return Xw(n);if(Uc(n))return eS(n)}throw Lc(n)}function Yw(n){return new we(t=>{let e=n[Pr]();if(ge(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Kw(n){return new we(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function Jw(n){return new we(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ec)})}function Xw(n){return new we(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function ey(n){return new we(t=>{tS(n,t).catch(e=>t.error(e))})}function eS(n){return ey(jc(n))}function tS(n,t){var e,i,r,o;return Kv(this,void 0,void 0,function*(){try{for(e=Xv(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function At(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Bc(n,t=0){return De((e,i)=>{e.subscribe(Se(i,r=>At(i,n,()=>i.next(r),t),()=>At(i,n,()=>i.complete(),t),r=>At(i,n,()=>i.error(r),t)))})}function $c(n,t=0){return De((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ty(n,t){return We(n).pipe($c(t),Bc(t))}function ny(n,t){return We(n).pipe($c(t),Bc(t))}function iy(n,t){return new we(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function ry(n,t){return new we(e=>{let i;return At(e,t,()=>{i=n[Pc](),At(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}function Hc(n,t){if(!n)throw new Error("Iterable cannot be null");return new we(e=>{At(e,t,()=>{let i=n[Symbol.asyncIterator]();At(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function oy(n,t){return Hc(jc(n),t)}function sy(n,t){if(n!=null){if(Fc(n))return ty(n,t);if(Nc(n))return iy(n,t);if(Rc(n))return ny(n,t);if(Oc(n))return Hc(n,t);if(Vc(n))return ry(n,t);if(Uc(n))return oy(n,t)}throw Lc(n)}function Le(n,t){return t?sy(n,t):We(n)}function ue(...n){let t=ni(n);return Le(n,t)}function Br(n,t){let e=ge(n)?n:()=>n,i=r=>r.error(e());return new we(t?r=>t.schedule(i,0,r):i)}function ap(n){return!!n&&(n instanceof we||ge(n.lift)&&ge(n.subscribe))}var Un=Rr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(n,t){return De((e,i)=>{let r=0;e.subscribe(Se(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:nS}=Array;function iS(n,t){return nS(t)?n(...t):n(t)}function Gc(n){return pe(t=>iS(n,t))}var{isArray:rS}=Array,{getPrototypeOf:oS,prototype:sS,keys:aS}=Object;function zc(n){if(n.length===1){let t=n[0];if(rS(t))return{args:t,keys:null};if(lS(t)){let e=aS(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function lS(n){return n&&typeof n=="object"&&oS(n)===sS}function qc(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Wc(...n){let t=ni(n),e=Mc(n),{args:i,keys:r}=zc(n);if(i.length===0)return Le([],t);let o=new we(cS(i,t,r?s=>qc(r,s):Lt));return e?o.pipe(Gc(e)):o}function cS(n,t,e=Lt){return i=>{ay(t,()=>{let{length:r}=n,o=new Array(r),s=r,u=r;for(let d=0;d<r;d++)ay(t,()=>{let m=Le(n[d],t),p=!1;m.subscribe(Se(i,g=>{o[d]=g,p||(p=!0,u--),u||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function ay(n,t,e){n?At(e,n,t):t()}function ly(n,t,e,i,r,o,s,u){let d=[],m=0,p=0,g=!1,C=()=>{g&&!d.length&&!m&&t.complete()},_=P=>m<i?M(P):d.push(P),M=P=>{o&&t.next(P),m++;let $=!1;We(e(P,p++)).subscribe(Se(t,z=>{r?.(z),o?_(z):t.next(z)},()=>{$=!0},void 0,()=>{if($)try{for(m--;d.length&&m<i;){let z=d.shift();s?At(t,s,()=>M(z)):M(z)}C()}catch(z){t.error(z)}}))};return n.subscribe(Se(t,_,()=>{g=!0,C()})),()=>{u?.()}}function Qe(n,t,e=1/0){return ge(t)?Qe((i,r)=>pe((o,s)=>t(i,o,r,s))(We(n(i,r))),e):(typeof t=="number"&&(e=t),De((i,r)=>ly(i,r,n,e)))}function $r(n=1/0){return Qe(Lt,n)}function cy(){return $r(1)}function Hr(...n){return cy()(Le(n,ni(n)))}function ba(n){return new we(t=>{We(n()).subscribe(t)})}function lp(...n){let t=Mc(n),{args:e,keys:i}=zc(n),r=new we(o=>{let{length:s}=e;if(!s){o.complete();return}let u=new Array(s),d=s,m=s;for(let p=0;p<s;p++){let g=!1;We(e[p]).subscribe(Se(o,C=>{g||(g=!0,m--),u[p]=C},()=>d--,void 0,()=>{(!d||!g)&&(m||o.next(i?qc(i,u):u),o.complete())}))}});return t?r.pipe(Gc(t)):r}function mt(n,t){return De((e,i)=>{let r=0;e.subscribe(Se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Bn(n){return De((t,e)=>{let i=null,r=!1,o;i=t.subscribe(Se(e,void 0,void 0,s=>{o=We(n(s,Bn(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function uy(n,t,e,i,r){return(o,s)=>{let u=e,d=t,m=0;o.subscribe(Se(s,p=>{let g=m++;d=u?n(d,p,g):(u=!0,p),i&&s.next(d)},r&&(()=>{u&&s.next(d),s.complete()})))}}function $n(n,t){return ge(t)?Qe(n,t,1):Qe(n,1)}function cp(n,t=Wv){return De((e,i)=>{let r=null,o=null,s=null,u=()=>{if(r){r.unsubscribe(),r=null;let m=o;o=null,i.next(m)}};function d(){let m=s+n,p=t.now();if(p<m){r=this.schedule(void 0,m-p),i.add(r);return}u()}e.subscribe(Se(i,m=>{o=m,s=t.now(),r||(r=t.schedule(d,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function ii(n){return De((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Hn(n){return n<=0?()=>kt:De((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Qc(n=uS){return De((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function uS(){return new Un}function Ri(n){return De((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function un(n,t){let e=arguments.length>=2;return i=>i.pipe(n?mt((r,o)=>n(r,o,i)):Lt,Hn(1),e?ii(t):Qc(()=>new Un))}function Gr(n){return n<=0?()=>kt:De((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function up(n,t){let e=arguments.length>=2;return i=>i.pipe(n?mt((r,o)=>n(r,o,i)):Lt,Gr(1),e?ii(t):Qc(()=>new Un))}function dp(n,t){return De(uy(n,t,arguments.length>=2,!0))}function Fi(...n){let t=ni(n);return De((e,i)=>{(t?Hr(n,e,t):Hr(n,e)).subscribe(i)})}function Mt(n,t){return De((e,i)=>{let r=null,o=0,s=!1,u=()=>s&&!r&&i.complete();e.subscribe(Se(i,d=>{r?.unsubscribe();let m=0,p=o++;We(n(d,p)).subscribe(r=Se(i,g=>i.next(t?t(d,g,p,m++):g),()=>{r=null,u()}))},()=>{s=!0,u()}))})}function Zc(n){return De((t,e)=>{We(n).subscribe(Se(e,()=>e.complete(),ha)),!e.closed&&t.subscribe(e)})}function st(n,t,e){let i=ge(n)||t||e?{next:n,error:t,complete:e}:n;return i?De((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let u=!0;r.subscribe(Se(o,d=>{var m;(m=i.next)===null||m===void 0||m.call(i,d),o.next(d)},()=>{var d;u=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var m;u=!1,(m=i.error)===null||m===void 0||m.call(i,d),o.error(d)},()=>{var d,m;u&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(m=i.finalize)===null||m===void 0||m.call(i)}))}):Lt}function dy(n){let t=de(null);try{return n()}finally{de(t)}}var eu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",te=class extends Error{code;constructor(t,e){super(qr(t,e)),this.code=t}};function dS(n){return`NG0${Math.abs(n)}`}function qr(n,t){return`${dS(n)}${t?": "+t:""}`}var Sa=globalThis;function je(n){for(let t in n)if(n[t]===je)return t;throw Error("")}function hy(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Nt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Nt).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function tu(n,t){return n?t?`${n} ${t}`:n:t||""}var mS=je({__forward_ref__:je});function pt(n){return n.__forward_ref__=pt,n.toString=function(){return Nt(this())},n}function ft(n){return Cp(n)?n():n}function Cp(n){return typeof n=="function"&&n.hasOwnProperty(mS)&&n.__forward_ref__===pt}function gy(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(i==null?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ea(n){return fS(n,nu)}function wp(n){return Ea(n)!==null}function fS(n,t){return n.hasOwnProperty(t)&&n[t]||null}function pS(n){let t=n?.[nu]??null;return t||null}function fp(n){return n&&n.hasOwnProperty(Kc)?n[Kc]:null}var nu=je({\u0275prov:je}),Kc=je({\u0275inj:je}),re=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=ee({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sp(n){return n&&!!n.\u0275providers}var Ep=je({\u0275cmp:je}),Dp=je({\u0275dir:je}),Tp=je({\u0275pipe:je}),Ip=je({\u0275mod:je}),xa=je({\u0275fac:je}),Ui=je({__NG_ELEMENT_ID__:je}),my=je({__NG_ENV_ID__:je});function Bi(n){return typeof n=="string"?n:n==null?"":String(n)}function vy(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Bi(n)}function kp(n,t){throw new te(-200,n)}function iu(n,t){throw new te(-201,!1)}var pp;function yy(){return pp}function Pt(n){let t=pp;return pp=n,t}function Ap(n,t,e){let i=Ea(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;iu(n,"Injector")}var hS={},Oi=hS,gS="__NG_DI_FLAG__",hp=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=Li(e)||0;try{return this.injector.get(t,i&8?null:Oi,i)}catch(r){if(kr(r))return r;throw r}}},Jc="ngTempTokenPath",vS="ngTokenPath",yS=/\n/gm,bS="\u0275",fy="__source";function _S(n,t=0){let e=qf();if(e===void 0)throw new te(-203,!1);if(e===null)return Ap(n,void 0,t);{let i=xS(t),r=e.retrieve(n,i);if(kr(r)){if(i.optional)return null;throw r}return r}}function le(n,t=0){return(yy()||_S)(ft(n),t)}function h(n,t){return le(n,Li(t))}function Li(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xS(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function gp(n){let t=[];for(let e=0;e<n.length;e++){let i=ft(n[e]);if(Array.isArray(i)){if(i.length===0)throw new te(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let u=i[s],d=CS(u);typeof d=="number"?d===-1?r=u.token:o|=d:r=u}t.push(le(r,o))}else t.push(le(i))}return t}function CS(n){return n[gS]}function wS(n,t,e,i){let r=n[Jc];throw t[fy]&&r.unshift(t[fy]),n.message=SS(`
`+n.message,r,e,i),n[vS]=r,n[Jc]=null,n}function SS(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==bS?n.slice(2):n;let r=Nt(t);if(Array.isArray(t))r=t.map(Nt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let u=t[s];o.push(s+":"+(typeof u=="string"?JSON.stringify(u):Nt(u)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(yS,`
  `)}`}function Pi(n,t){let e=n.hasOwnProperty(xa);return e?n[xa]:null}function by(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function _y(n){return n.flat(Number.POSITIVE_INFINITY)}function ru(n,t){n.forEach(e=>Array.isArray(e)?ru(e,t):t(e))}function Mp(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Da(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function xy(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function ou(n,t,e){let i=Wr(n,t);return i>=0?n[i|1]=e:(i=~i,xy(n,i,t,e)),i}function su(n,t){let e=Wr(n,t);if(e>=0)return n[e|1]}function Wr(n,t){return ES(n,t,1)}function ES(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}var oi={},bt=[],si=new re(""),Np=new re("",-1),Rp=new re(""),Ca=class{get(t,e=Oi){if(e===Oi)throw new cc(`NullInjectorError: No provider for ${Nt(t)}!`);return e}};function Fp(n){return n[Ip]||null}function ai(n){return n[Ep]||null}function Op(n){return n[Dp]||null}function Cy(n){return n[Tp]||null}function $i(n){return{\u0275providers:n}}function wy(...n){return{\u0275providers:Lp(!0,n),\u0275fromNgModule:!0}}function Lp(n,...t){let e=[],i=new Set,r,o=s=>{e.push(s)};return ru(t,s=>{let u=s;Xc(u,o,[],i)&&(r||=[],r.push(u))}),r!==void 0&&Sy(r,o),e}function Sy(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];Pp(r,o=>{t(o,i)})}}function Xc(n,t,e,i){if(n=ft(n),!n)return!1;let r=null,o=fp(n),s=!o&&ai(n);if(!o&&!s){let d=n.ngModule;if(o=fp(d),o)r=d;else return!1}else{if(s&&!s.standalone)return!1;r=n}let u=i.has(r);if(s){if(u)return!1;if(i.add(r),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let m of d)Xc(m,t,e,i)}}else if(o){if(o.imports!=null&&!u){i.add(r);let m;try{ru(o.imports,p=>{Xc(p,t,e,i)&&(m||=[],m.push(p))})}finally{}m!==void 0&&Sy(m,t)}if(!u){let m=Pi(r)||(()=>new r);t({provide:r,useFactory:m,deps:bt},r),t({provide:Rp,useValue:r,multi:!0},r),t({provide:si,useValue:()=>le(r),multi:!0},r)}let d=o.providers;if(d!=null&&!u){let m=n;Pp(d,p=>{t(p,m)})}}else return!1;return r!==n&&n.providers!==void 0}function Pp(n,t){for(let e of n)Sp(e)&&(e=e.\u0275providers),Array.isArray(e)?Pp(e,t):t(e)}var DS=je({provide:String,useValue:je});function Ey(n){return n!==null&&typeof n=="object"&&DS in n}function TS(n){return!!(n&&n.useExisting)}function IS(n){return!!(n&&n.useFactory)}function Vi(n){return typeof n=="function"}function Dy(n){return!!n.useClass}var Ta=new re(""),Yc={},py={},mp;function Ia(){return mp===void 0&&(mp=new Ca),mp}var Ze=class{},ji=class extends Ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,yp(t,s=>this.processProvider(s)),this.records.set(Np,zr(void 0,this)),r.has("environment")&&this.records.set(Ze,zr(void 0,this));let o=this.records.get(Ta);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Rp,bt,{self:!0}))}retrieve(t,e){let i=Li(e)||0;try{return this.get(t,Oi,i)}catch(r){if(kr(r))return r;throw r}}destroy(){_a(this),this._destroyed=!0;let t=de(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(t)}}onDestroy(t){return _a(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){_a(this);let e=jn(this),i=Pt(void 0),r;try{return t()}finally{jn(e),Pt(i)}}get(t,e=Oi,i){if(_a(this),t.hasOwnProperty(my))return t[my](this);let r=Li(i),o,s=jn(this),u=Pt(void 0);try{if(!(r&4)){let m=this.records.get(t);if(m===void 0){let p=RS(t)&&Ea(t);p&&this.injectableDefInScope(p)?m=zr(vp(t),Yc):m=null,this.records.set(t,m)}if(m!=null)return this.hydrate(t,m)}let d=r&2?Ia():this.parent;return e=r&8&&e===Oi?null:e,d.get(t,e)}catch(d){if(kr(d)){if((d[Jc]=d[Jc]||[]).unshift(Nt(t)),s)throw d;return wS(d,t,"R3InjectorError",this.source)}else throw d}finally{Pt(u),jn(s)}}resolveInjectorInitializers(){let t=de(null),e=jn(this),i=Pt(void 0),r;try{let o=this.get(si,bt,{self:!0});for(let s of o)s()}finally{jn(e),Pt(i),de(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Nt(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ft(t);let e=Vi(t)?t:ft(t&&t.provide),i=AS(t);if(!Vi(t)&&t.multi===!0){let r=this.records.get(e);r||(r=zr(void 0,Yc,!0),r.factory=()=>gp(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){let i=de(null);try{return e.value===py?kp(Nt(t)):e.value===Yc&&(e.value=py,e.value=e.factory()),typeof e.value=="object"&&e.value&&NS(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{de(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=ft(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function vp(n){let t=Ea(n),e=t!==null?t.factory:Pi(n);if(e!==null)return e;if(n instanceof re)throw new te(204,!1);if(n instanceof Function)return kS(n);throw new te(204,!1)}function kS(n){if(n.length>0)throw new te(204,!1);let e=pS(n);return e!==null?()=>e.factory(n):()=>new n}function AS(n){if(Ey(n))return zr(void 0,n.useValue);{let t=Vp(n);return zr(t,Yc)}}function Vp(n,t,e){let i;if(Vi(n)){let r=ft(n);return Pi(r)||vp(r)}else if(Ey(n))i=()=>ft(n.useValue);else if(IS(n))i=()=>n.useFactory(...gp(n.deps||[]));else if(TS(n))i=()=>le(ft(n.useExisting));else{let r=ft(n&&(n.useClass||n.provide));if(MS(n))i=()=>new r(...gp(n.deps));else return Pi(r)||vp(r)}return i}function _a(n){if(n.destroyed)throw new te(205,!1)}function zr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function MS(n){return!!n.deps}function NS(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function RS(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function yp(n,t){for(let e of n)Array.isArray(e)?yp(e,t):e&&Sp(e)?yp(e.\u0275providers,t):t(e)}function _t(n,t){let e;n instanceof ji?(_a(n),e=n):e=new hp(n);let i,r=jn(e),o=Pt(void 0);try{return t()}finally{jn(r),Pt(o)}}function Ty(){return yy()!==void 0||qf()!=null}var fn=0,he=1,fe=2,Xe=3,Yt=4,Kt=5,Qr=6,Zr=7,He=8,Hi=9,wn=10,Ge=11,Yr=12,jp=13,Gi=14,Vt=15,li=16,zi=17,Sn=18,ka=19,Up=20,Gn=21,au=22,zn=23,jt=24,lu=25,xt=26,Iy=1,Bp=6,ci=7,Aa=8,qi=9,at=10;function En(n){return Array.isArray(n)&&typeof n[Iy]=="object"}function pn(n){return Array.isArray(n)&&n[Iy]===!0}function $p(n){return(n.flags&4)!==0}function ui(n){return n.componentOffset>-1}function cu(n){return(n.flags&1)===1}function Dn(n){return!!n.template}function Kr(n){return(n[fe]&512)!==0}function Jr(n){return(n[fe]&256)===256}var Hp="svg",ky="math";function Jt(n){for(;Array.isArray(n);)n=n[fn];return n}function Gp(n,t){return Jt(t[n])}function hn(n,t){return Jt(t[n.index])}function Ma(n,t){return n.data[t]}function Ay(n,t){return n[t]}function Xt(n,t){let e=t[n];return En(e)?e:e[fn]}function My(n){return(n[fe]&4)===4}function uu(n){return(n[fe]&128)===128}function Ny(n){return pn(n[Xe])}function qn(n,t){return t==null?null:n[t]}function zp(n){n[zi]=0}function qp(n){n[fe]&1024||(n[fe]|=1024,uu(n)&&Wi(n))}function Ry(n,t){for(;n>0;)t=t[Gi],n--;return t}function Na(n){return!!(n[fe]&9216||n[jt]?.dirty)}function du(n){n[wn].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),Na(n)&&Wi(n)}function Wi(n){n[wn].changeDetectionScheduler?.notify(0);let t=ri(n);for(;t!==null&&!(t[fe]&8192||(t[fe]|=8192,!uu(t)));)t=ri(t)}function Wp(n,t){if(Jr(n))throw new te(911,!1);n[Gn]===null&&(n[Gn]=[]),n[Gn].push(t)}function Fy(n,t){if(n[Gn]===null)return;let e=n[Gn].indexOf(t);e!==-1&&n[Gn].splice(e,1)}function ri(n){let t=n[Xe];return pn(t)?t[Xe]:t}function Qp(n){return n[Zr]??=[]}function Zp(n){return n.cleanup??=[]}function Oy(n,t,e,i){let r=Qp(t);r.push(e),n.firstCreatePass&&Zp(n).push(i,r.length-1)}var ve={lFrame:Jy(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ra=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Ra||{}),FS=0,bp=!1;function Ly(){return ve.lFrame.elementDepthCount}function Py(){ve.lFrame.elementDepthCount++}function Vy(){ve.lFrame.elementDepthCount--}function Yp(){return ve.bindingsEnabled}function jy(){return ve.skipHydrationRootTNode!==null}function Uy(n){return ve.skipHydrationRootTNode===n}function By(){ve.skipHydrationRootTNode=null}function xe(){return ve.lFrame.lView}function et(){return ve.lFrame.tView}function w(n){return ve.lFrame.contextLView=n,n[He]}function S(n){return ve.lFrame.contextLView=null,n}function gt(){let n=Kp();for(;n!==null&&n.type===64;)n=n.parent;return n}function Kp(){return ve.lFrame.currentTNode}function $y(){let n=ve.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Xr(n,t){let e=ve.lFrame;e.currentTNode=n,e.isParent=t}function Jp(){return ve.lFrame.isParent}function Hy(){ve.lFrame.isParent=!1}function Gy(){return ve.lFrame.contextLView}function Xp(n){gy("Must never be called in production mode"),FS=n}function eh(){return bp}function eo(n){let t=bp;return bp=n,t}function th(){let n=ve.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function zy(){return ve.lFrame.bindingIndex}function qy(n){return ve.lFrame.bindingIndex=n}function to(){return ve.lFrame.bindingIndex++}function mu(n){let t=ve.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Wy(){return ve.lFrame.inI18n}function Qy(n,t){let e=ve.lFrame;e.bindingIndex=e.bindingRootIndex=n,fu(t)}function Zy(){return ve.lFrame.currentDirectiveIndex}function fu(n){ve.lFrame.currentDirectiveIndex=n}function Yy(n){let t=ve.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function nh(){return ve.lFrame.currentQueryIndex}function pu(n){ve.lFrame.currentQueryIndex=n}function OS(n){let t=n[he];return t.type===2?t.declTNode:t.type===1?n[Kt]:null}function ih(n,t,e){if(e&4){let r=t,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=OS(o),r===null||(o=o[Gi],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=ve.lFrame=Ky();return i.currentTNode=t,i.lView=n,!0}function hu(n){let t=Ky(),e=n[he];ve.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ky(){let n=ve.lFrame,t=n===null?null:n.child;return t===null?Jy(n):t}function Jy(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function Xy(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rh=Xy;function gu(){let n=Xy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function e1(n){return(ve.lFrame.contextLView=Ry(n,ve.lFrame.contextLView))[He]}function Tn(){return ve.lFrame.selectedIndex}function di(n){ve.lFrame.selectedIndex=n}function oh(){let n=ve.lFrame;return Ma(n.tView,n.selectedIndex)}function A(){ve.lFrame.currentNamespace=Hp}function j(){LS()}function LS(){ve.lFrame.currentNamespace=null}function t1(){return ve.lFrame.currentNamespace}var n1=!0;function vu(){return n1}function yu(n){n1=n}function _p(n,t=null,e=null,i){let r=sh(n,t,e,i);return r.resolveInjectorInitializers(),r}function sh(n,t=null,e=null,i,r=new Set){let o=[e||bt,wy(n)];return i=i||(typeof n=="object"?void 0:Nt(n)),new ji(o,t||Ia(),i||null,r)}var ht=class n{static THROW_IF_NOT_FOUND=Oi;static NULL=new Ca;static create(t,e){if(Array.isArray(t))return _p({name:""},e,t,"");{let i=t.name??"";return _p({name:i},t.parent,t.providers,i)}}static \u0275prov=ee({token:n,providedIn:"any",factory:()=>le(Np)});static __NG_ELEMENT_ID__=-1},tt=new re(""),Ct=(()=>{class n{static __NG_ELEMENT_ID__=PS;static __NG_ENV_ID__=e=>e}return n})(),wa=class extends Ct{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return Wp(e,t),()=>Fy(e,t)}};function PS(){return new wa(xe())}var Zt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Rt=new re("",{providedIn:"root",factory:()=>{let n=h(Ze),t;return e=>{t??=n.get(Zt),t.handleError(e)}}}),i1={provide:si,useValue:()=>void h(Zt),multi:!0};function D(n,t){let e=Kf(n,t?.equal),i=e[yt];return e.set=r=>Ii(i,r),e.update=r=>xc(i,r),e.asReadonly=ah.bind(e),e}function ah(){let n=this[yt];if(n.readonlyFn===void 0){let t=()=>this();t[yt]=n,n.readonlyFn=t}return n.readonlyFn}var dn=class{},Fa=new re("",{providedIn:"root",factory:()=>!1});var lh=new re(""),bu=new re("");var Oa=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=VS}return n})();function VS(){return new Oa(xe(),gt())}var Wn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new dt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new we(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})(),no=(()=>{class n{internalPendingTasks=h(Wn);scheduler=h(dn);errorHandler=h(Rt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})();function Qi(...n){}var La=(()=>{class n{static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new xp})}return n})(),xp=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}};function Qa(n){return{toString:n}.toString()}function WS(n){return typeof n=="function"}var Du=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function F1(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var Ut=(()=>{let n=()=>O1;return n.ngInherit=!0,n})();function O1(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZS),QS}function QS(){let n=P1(this),t=n?.current;if(t){let e=n.previous;if(e===oi)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function ZS(n,t,e,i,r){let o=this.declaredInputs[i],s=P1(n)||YS(n,{previous:oi,current:null}),u=s.current||(s.current={}),d=s.previous,m=d[o];u[o]=new Du(m&&m.currentValue,e,d===oi),F1(n,t,r,e)}var L1="__ngSimpleChanges__";function P1(n){return n[L1]||null}function YS(n,t){return n[L1]=t}var r1=[];var Oe=function(n,t=null,e){for(let i=0;i<r1.length;i++){let r=r1[i];r(n,t,e)}};function KS(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=O1(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function V1(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:m,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-e,s),u&&((n.contentHooks??=[]).push(e,u),(n.contentCheckHooks??=[]).push(e,u)),d&&(n.viewHooks??=[]).push(-e,d),m&&((n.viewHooks??=[]).push(e,m),(n.viewCheckHooks??=[]).push(e,m)),p!=null&&(n.destroyHooks??=[]).push(e,p)}}function Cu(n,t,e){j1(n,t,3,e)}function wu(n,t,e,i){(n[fe]&3)===e&&j1(n,t,e,i)}function ch(n,t){let e=n[fe];(e&3)===t&&(e&=16383,e+=1,n[fe]=e)}function j1(n,t,e,i){let r=i!==void 0?n[zi]&65535:0,o=i??-1,s=t.length-1,u=0;for(let d=r;d<s;d++)if(typeof t[d+1]=="number"){if(u=t[d],i!=null&&u>=i)break}else t[d]<0&&(n[zi]+=65536),(u<o||o==-1)&&(JS(n,e,t,d),n[zi]=(n[zi]&4294901760)+d+2),d++}function o1(n,t){Oe(4,n,t);let e=de(null);try{t.call(n)}finally{de(e),Oe(5,n,t)}}function JS(n,t,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],u=n[s];r?n[fe]>>14<n[zi]>>16&&(n[fe]&3)===t&&(n[fe]+=16384,o1(u,o)):o1(u,o)}var ro=-1,Yi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=i}};function XS(n){return(n.flags&8)!==0}function e2(n){return(n.flags&16)!==0}function t2(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],u=e[i++];n.setAttribute(t,s,u,o)}else{let o=r,s=e[++i];n2(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function U1(n){return n===3||n===4||n===6}function n2(n){return n.charCodeAt(0)===64}function ja(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?s1(n,e,r,null,t[++i]):s1(n,e,r,null,null))}}return n}function s1(n,t,e,i,r){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let u=n[o++];if(typeof u=="number"){if(u===t){s=-1;break}else if(u>t){s=o-1;break}}}for(;o<n.length;){let u=n[o];if(typeof u=="number")break;if(u===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function B1(n){return n!==ro}function Tu(n){return n&32767}function i2(n){return n>>16}function Iu(n,t){let e=i2(n),i=t;for(;e>0;)i=i[Gi],e--;return i}var _h=!0;function a1(n){let t=_h;return _h=n,t}var r2=256,$1=r2-1,H1=5,o2=0,In={};function s2(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ui)&&(i=e[Ui]),i==null&&(i=e[Ui]=o2++);let r=i&$1,o=1<<r;t.data[n+(r>>H1)]|=o}function ku(n,t){let e=G1(n,t);if(e!==-1)return e;let i=t[he];i.firstCreatePass&&(n.injectorIndex=t.length,uh(i.data,n),uh(t,null),uh(i.blueprint,null));let r=Kh(n,t),o=n.injectorIndex;if(B1(r)){let s=Tu(r),u=Iu(r,t),d=u[he].data;for(let m=0;m<8;m++)t[o+m]=u[s+m]|d[s+m]}return t[o+8]=r,o}function uh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function G1(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Kh(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=Z1(r),i===null)return ro;if(e++,r=r[Gi],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return ro}function xh(n,t,e){s2(n,t,e)}function a2(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(U1(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function z1(n,t,e){if(e&8||n!==void 0)return n;iu(t,"NodeInjector")}function q1(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[Hi],o=Pt(void 0);try{return r?r.get(t,i,e&8):Ap(t,i,e&8)}finally{Pt(o)}}return z1(i,t,e)}function W1(n,t,e,i=0,r){if(n!==null){if(t[fe]&2048&&!(i&2)){let s=d2(n,t,e,i,In);if(s!==In)return s}let o=Q1(n,t,e,i,In);if(o!==In)return o}return q1(t,e,i,r)}function Q1(n,t,e,i,r){let o=c2(e);if(typeof o=="function"){if(!ih(t,n,i))return i&1?z1(r,e,i):q1(t,e,i,r);try{let s;if(s=o(i),s==null&&!(i&8))iu(e);else return s}finally{rh()}}else if(typeof o=="number"){let s=null,u=G1(n,t),d=ro,m=i&1?t[Vt][Kt]:null;for((u===-1||i&4)&&(d=u===-1?Kh(n,t):t[u+8],d===ro||!c1(i,!1)?u=-1:(s=t[he],u=Tu(d),t=Iu(d,t)));u!==-1;){let p=t[he];if(l1(o,u,p.data)){let g=l2(u,t,e,s,i,m);if(g!==In)return g}d=t[u+8],d!==ro&&c1(i,t[he].data[u+8]===m)&&l1(o,u,t)?(s=p,u=Tu(d),t=Iu(d,t)):u=-1}}return r}function l2(n,t,e,i,r,o){let s=t[he],u=s.data[n+8],d=i==null?ui(u)&&_h:i!=s&&(u.type&3)!==0,m=r&1&&o===u,p=Su(u,s,e,d,m);return p!==null?Ua(t,s,p,u):In}function Su(n,t,e,i,r){let o=n.providerIndexes,s=t.data,u=o&1048575,d=n.directiveStart,m=n.directiveEnd,p=o>>20,g=i?u:u+p,C=r?u+p:m;for(let _=g;_<C;_++){let M=s[_];if(_<d&&e===M||_>=d&&M.type===e)return _}if(r){let _=s[d];if(_&&Dn(_)&&_.type===e)return d}return null}function Ua(n,t,e,i){let r=n[e],o=t.data;if(r instanceof Yi){let s=r;s.resolving&&kp(vy(o[e]));let u=a1(s.canSeeViewProviders);s.resolving=!0;let d=o[e].type||o[e],m,p=s.injectImpl?Pt(s.injectImpl):null,g=ih(n,i,0);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&KS(e,o[e],t)}finally{p!==null&&Pt(p),a1(u),s.resolving=!1,rh()}}return r}function c2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Ui)?n[Ui]:void 0;return typeof t=="number"?t>=0?t&$1:u2:t}function l1(n,t,e){let i=1<<n;return!!(e[t+(n>>H1)]&i)}function c1(n,t){return!(n&2)&&!(n&1&&t)}var Zi=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return W1(this._tNode,this._lView,t,Li(i),e)}};function u2(){return new Zi(gt(),xe())}function Bt(n){return Qa(()=>{let t=n.prototype.constructor,e=t[xa]||Ch(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[xa]||Ch(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ch(n){return Cp(n)?()=>{let t=Ch(ft(n));return t&&t()}:Pi(n)}function d2(n,t,e,i,r){let o=n,s=t;for(;o!==null&&s!==null&&s[fe]&2048&&!Kr(s);){let u=Q1(o,s,e,i|2,In);if(u!==In)return u;let d=o.parent;if(!d){let m=s[Up];if(m){let p=m.get(e,In,i);if(p!==In)return p}d=Z1(s),s=s[Gi]}o=d}return r}function Z1(n){let t=n[he],e=t.type;return e===2?t.declTNode:e===1?n[Kt]:null}function Za(n){return a2(gt(),n)}function m2(){return ao(gt(),xe())}function ao(n,t){return new nt(hn(n,t))}var nt=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=m2}return n})();function f2(n){return n instanceof nt?n.nativeElement:n}function p2(){return this._results[Symbol.iterator]()}var Au=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ue}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=_y(t);(this._changesDetected=!by(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=p2};function Y1(n){return(n.flags&128)===128}var Jh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Jh||{}),K1=new Map,h2=0;function g2(){return h2++}function v2(n){K1.set(n[ka],n)}function wh(n){K1.delete(n[ka])}var u1="__ngContext__";function Ya(n,t){En(t)?(n[u1]=t[ka],v2(t)):n[u1]=t}function J1(n){return eb(n[Yr])}function X1(n){return eb(n[Yt])}function eb(n){for(;n!==null&&!pn(n);)n=n[Yt];return n}var Sh;function Xh(n){Sh=n}function tb(){if(Sh!==void 0)return Sh;if(typeof document<"u")return document;throw new te(210,!1)}var Hu=new re("",{providedIn:"root",factory:()=>y2}),y2="ng",Gu=new re(""),lo=new re("",{providedIn:"platform",factory:()=>"unknown"});var zu=new re("",{providedIn:"root",factory:()=>tb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var b2="h",_2="b";var nb="r";var ib="di";var rb=!1,ob=new re("",{providedIn:"root",factory:()=>rb});var x2=(n,t,e,i)=>{};function C2(n,t,e,i){x2(n,t,e,i)}var w2=()=>null;function sb(n,t,e=!1){return w2(n,t,e)}function ab(n,t){let e=n.contentQueries;if(e!==null){let i=de(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let u=n.data[s];pu(o),u.contentQueries(2,t[s],s)}}}finally{de(i)}}}function Eh(n,t,e){pu(0);let i=de(null);try{t(n,e)}finally{de(i)}}function lb(n,t,e){if($p(t)){let i=de(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let u=n.data[s];if(u.contentQueries){let d=e[s];u.contentQueries(1,d,s)}}}finally{de(i)}}}var Qn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Qn||{});var _u;function S2(){if(_u===void 0&&(_u=null,Sa.trustedTypes))try{_u=Sa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _u}function d1(n){return S2()?.createScriptURL(n)||n}var Mu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eu})`}};function Ka(n){return n instanceof Mu?n.changingThisBreaksApplicationSecurity:n}function e0(n,t){let e=cb(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${eu})`)}return e===t}function cb(n){return n instanceof Mu&&n.getTypeName()||null}var E2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ub(n){return n=String(n),n.match(E2)?n:"unsafe:"+n}var qu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qu||{});function db(n){let t=fb();return t?t.sanitize(qu.URL,n)||"":e0(n,"URL")?Ka(n):ub(Bi(n))}function mb(n){let t=fb();if(t)return d1(t.sanitize(qu.RESOURCE_URL,n)||"");if(e0(n,"ResourceURL"))return d1(Ka(n));throw new te(904,!1)}function D2(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?mb:db}function t0(n,t,e){return D2(t,e)(n)}function fb(){let n=xe();return n&&n[wn].sanitizer}function n0(n){return n.ownerDocument}function pb(n){return n instanceof Function?n():n}function T2(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var hb="ng-template";function I2(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&T2(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(i0(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function i0(n){return n.type===4&&n.value!==hb}function k2(n,t,e){let i=n.type===4&&!e?hb:n.value;return t===i}function A2(n,t,e){let i=4,r=n.attrs,o=r!==null?R2(r):0,s=!1;for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="number"){if(!s&&!gn(i)&&!gn(d))return!1;if(s&&gn(d))continue;s=!1,i=d|i&1;continue}if(!s)if(i&4){if(i=2|i&1,d!==""&&!k2(n,d,e)||d===""&&t.length===1){if(gn(i))return!1;s=!0}}else if(i&8){if(r===null||!I2(n,r,d,e)){if(gn(i))return!1;s=!0}}else{let m=t[++u],p=M2(d,r,i0(n),e);if(p===-1){if(gn(i))return!1;s=!0;continue}if(m!==""){let g;if(p>o?g="":g=r[p+1].toLowerCase(),i&2&&m!==g){if(gn(i))return!1;s=!0}}}}return gn(i)||s}function gn(n){return(n&1)===0}function M2(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let s=t[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let u=t[++r];for(;typeof u=="string";)u=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return F2(t,n)}function N2(n,t,e=!1){for(let i=0;i<t.length;i++)if(A2(n,t[i],e))return!0;return!1}function R2(n){for(let t=0;t<n.length;t++){let e=n[t];if(U1(e))return t}return n.length}function F2(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function m1(n,t){return n?":not("+t.trim()+")":t}function O2(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let u=n[++e];r+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!gn(s)&&(t+=m1(o,r),r=""),i=s,o=o||!gn(i);e++}return r!==""&&(t+=m1(o,r)),t}function L2(n){return n.map(O2).join(",")}function P2(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!gn(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var wt={};function V2(n,t){return n.createText(t)}function j2(n,t,e){n.setValue(t,e)}function gb(n,t,e){return n.createElement(t,e)}function Nu(n,t,e,i,r){n.insertBefore(t,e,i,r)}function vb(n,t,e){n.appendChild(t,e)}function f1(n,t,e,i,r){i!==null?Nu(n,t,e,i,r):vb(n,t,e)}function yb(n,t,e){n.removeChild(null,t,e)}function U2(n,t,e){n.setAttribute(t,"style",e)}function B2(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function bb(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&t2(n,t,i),r!==null&&B2(n,t,r),o!==null&&U2(n,t,o)}function r0(n,t,e,i,r,o,s,u,d,m,p){let g=xt+i,C=g+r,_=$2(g,C),M=typeof m=="function"?m():m;return _[he]={type:n,blueprint:_,template:e,queries:null,viewQuery:u,declTNode:t,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:M,incompleteFirstPass:!1,ssrId:p}}function $2(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:wt);return e}function H2(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=r0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function o0(n,t,e,i,r,o,s,u,d,m,p){let g=t.blueprint.slice();return g[fn]=r,g[fe]=i|4|128|8|64|1024,(m!==null||n&&n[fe]&2048)&&(g[fe]|=2048),zp(g),g[Xe]=g[Gi]=n,g[He]=e,g[wn]=s||n&&n[wn],g[Ge]=u||n&&n[Ge],g[Hi]=d||n&&n[Hi]||null,g[Kt]=o,g[ka]=g2(),g[Qr]=p,g[Up]=m,g[Vt]=t.type==2?n[Vt]:g,g}function G2(n,t,e){let i=hn(t,n),r=H2(e),o=n[wn].rendererFactory,s=s0(n,o0(n,r,null,_b(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=s}function _b(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function xb(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function s0(n,t){return n[Yr]?n[jp][Yt]=t:n[Yr]=t,n[jp]=t,t}function f(n=1){Cb(et(),xe(),Tn()+n,!1)}function Cb(n,t,e,i){if(!i)if((t[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Cu(t,o,e)}else{let o=n.preOrderHooks;o!==null&&wu(t,o,0,e)}di(e)}var Wu=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wu||{});function Dh(n,t,e,i){let r=de(null);try{let[o,s,u]=n.inputs[e],d=null;(s&Wu.SignalBased)!==0&&(d=t[o][yt]),d!==null&&d.transformFn!==void 0?i=d.transformFn(i):u!==null&&(i=u.call(t,i)),n.setInput!==null?n.setInput(t,d,i,e,o):F1(t,d,o,i)}finally{de(r)}}function wb(n,t,e,i,r){let o=Tn(),s=i&2;try{di(-1),s&&t.length>xt&&Cb(n,t,xt,!1),Oe(s?2:0,r,e),e(i,r)}finally{di(o),Oe(s?3:1,r,e)}}function a0(n,t,e){J2(n,t,e),(e.flags&64)===64&&X2(n,t,e)}function Sb(n,t,e=hn){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],u=s===-1?e(t,n):n[s];n[r++]=u}}}function z2(n,t,e,i){let o=i.get(ob,rb)||e===Qn.ShadowDom,s=n.selectRootElement(t,o);return q2(s),s}function q2(n){W2(n)}var W2=()=>null;function Q2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Z2(n,t,e,i,r,o){let s=t[he];if(l0(n,s,t,e,i)){ui(n)&&K2(t,n.index);return}Y2(n,t,e,i,r,o)}function Y2(n,t,e,i,r,o){if(n.type&3){let s=hn(n,t);e=Q2(e),i=o!=null?o(i,n.value||"",e):i,r.setProperty(s,e,i)}else n.type&12}function K2(n,t){let e=Xt(t,n);e[fe]&16||(e[fe]|=64)}function J2(n,t,e){let i=e.directiveStart,r=e.directiveEnd;ui(e)&&G2(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||ku(e,t);let o=e.initialInputs;for(let s=i;s<r;s++){let u=n.data[s],d=Ua(t,n,s,e);if(Ya(d,t),o!==null&&iE(t,s-i,d,u,e,o),Dn(u)){let m=Xt(e.index,t);m[He]=Ua(t,n,s,e)}}}function X2(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=Zy();try{di(o);for(let u=i;u<r;u++){let d=n.data[u],m=t[u];fu(u),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&eE(d,m)}}finally{di(-1),fu(s)}}function eE(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Eb(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];N2(t,o.selectors,!1)&&(i??=[],Dn(o)?i.unshift(o):i.push(o))}return i}function tE(n,t,e,i,r,o){let s=hn(n,t);nE(t[Ge],s,o,n.value,e,i,r)}function nE(n,t,e,i,r,o,s){if(o==null)n.removeAttribute(t,r,e);else{let u=s==null?Bi(o):s(o,i||"",r);n.setAttribute(t,r,u,e)}}function iE(n,t,e,i,r,o){let s=o[t];if(s!==null)for(let u=0;u<s.length;u+=2){let d=s[u],m=s[u+1];Dh(i,e,d,m)}}function rE(n,t){let e=n[Hi];if(!e)return;e.get(Rt,null)?.(t)}function l0(n,t,e,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],u=!1;if(s)for(let d=0;d<s.length;d+=2){let m=s[d],p=s[d+1],g=t.data[m];Dh(g,e[m],p,r),u=!0}if(o)for(let d of o){let m=e[d],p=t.data[d];Dh(p,m,i,r),u=!0}return u}function oE(n,t){let e=Xt(t,n),i=e[he];sE(i,e);let r=e[fn];r!==null&&e[Qr]===null&&(e[Qr]=sb(r,e[Hi])),Oe(18),c0(i,e,e[He]),Oe(19,e[He])}function sE(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function c0(n,t,e){hu(t);try{let i=n.viewQuery;i!==null&&Eh(1,i,e);let r=n.template;r!==null&&wb(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Sn]?.finishViewCreation(n),n.staticContentQueries&&ab(n,t),n.staticViewQueries&&Eh(2,n.viewQuery,e);let o=n.components;o!==null&&aE(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[fe]&=-5,gu()}}function aE(n,t){for(let e=0;e<t.length;e++)oE(n,t[e])}function Qu(n,t,e,i){let r=de(null);try{let o=t.tView,u=n[fe]&4096?4096:16,d=o0(n,o,e,u,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),m=n[t.index];d[li]=m;let p=n[Sn];return p!==null&&(d[Sn]=p.createEmbeddedView(o)),c0(o,d,e),d}finally{de(r)}}function Ba(n,t){return!t||t.firstChild===null||Y1(n)}var p1=!1,lE=new re(""),cE;function u0(n,t){return cE(n,t)}var kn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(kn||{});function d0(n){return(n.flags&32)===32}function io(n,t,e,i,r){if(i!=null){let o,s=!1;pn(i)?o=i:En(i)&&(s=!0,i=i[fn]);let u=Jt(i);n===0&&e!==null?r==null?vb(t,e,u):Nu(t,e,u,r||null,!0):n===1&&e!==null?Nu(t,e,u,r||null,!0):n===2?yb(t,u,s):n===3&&t.destroyNode(u),o!=null&&xE(t,n,o,e,r)}}function uE(n,t){Db(n,t),t[fn]=null,t[Kt]=null}function dE(n,t,e,i,r,o){i[fn]=r,i[Kt]=t,Yu(n,i,e,1,r,o)}function Db(n,t){t[wn].changeDetectionScheduler?.notify(9),Yu(n,t,t[Ge],2,null,null)}function mE(n){let t=n[Yr];if(!t)return dh(n[he],n);for(;t;){let e=null;if(En(t))e=t[Yr];else{let i=t[at];i&&(e=i)}if(!e){for(;t&&!t[Yt]&&t!==n;)En(t)&&dh(t[he],t),t=t[Xe];t===null&&(t=n),En(t)&&dh(t[he],t),e=t&&t[Yt]}t=e}}function m0(n,t){let e=n[qi],i=e.indexOf(t);e.splice(i,1)}function Zu(n,t){if(Jr(t))return;let e=t[Ge];e.destroyNode&&Yu(n,t,e,3,null,null),mE(t)}function dh(n,t){if(Jr(t))return;let e=de(null);try{t[fe]&=-129,t[fe]|=256,t[jt]&&Nr(t[jt]),pE(n,t),fE(n,t),t[he].type===1&&t[Ge].destroy();let i=t[li];if(i!==null&&pn(t[Xe])){i!==t[Xe]&&m0(i,t);let r=t[Sn];r!==null&&r.detachView(n)}wh(t)}finally{de(e)}}function fE(n,t){let e=n.cleanup,i=t[Zr];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let u=e[s+3];u>=0?i[u]():i[-u].unsubscribe(),s+=2}else{let u=i[e[s+1]];e[s].call(u)}i!==null&&(t[Zr]=null);let r=t[Gn];if(r!==null){t[Gn]=null;for(let s=0;s<r.length;s++){let u=r[s];u()}}let o=t[zn];if(o!==null){t[zn]=null;for(let s of o)s.destroy()}}function pE(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof Yi)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let u=r[o[s]],d=o[s+1];Oe(4,u,d);try{d.call(u)}finally{Oe(5,u,d)}}else{Oe(4,r,o);try{o.call(r)}finally{Oe(5,r,o)}}}}}function hE(n,t,e){return gE(n,t.parent,e)}function gE(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[fn];if(ui(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Qn.None||r===Qn.Emulated)return null}return hn(i,e)}function vE(n,t,e){return bE(n,t,e)}function yE(n,t,e){return n.type&40?hn(n,e):null}var bE=yE,h1;function f0(n,t,e,i){let r=hE(n,i,t),o=t[Ge],s=i.parent||t[Kt],u=vE(s,i,t);if(r!=null)if(Array.isArray(e))for(let d=0;d<e.length;d++)f1(o,r,e[d],u,!1);else f1(o,r,e,u,!1);h1!==void 0&&h1(o,i,t,e,r)}function Pa(n,t){if(t!==null){let e=t.type;if(e&3)return hn(t,n);if(e&4)return Th(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return Pa(n,i);{let r=n[t.index];return pn(r)?Th(-1,r):Jt(r)}}else{if(e&128)return Pa(n,t.next);if(e&32)return u0(t,n)()||Jt(n[t.index]);{let i=Tb(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=ri(n[Vt]);return Pa(r,i)}else return Pa(n,t.next)}}}return null}function Tb(n,t){if(t!==null){let i=n[Vt][Kt],r=t.projection;return i.projection[r]}return null}function Th(n,t){let e=at+n+1;if(e<t.length){let i=t[e],r=i[he].firstChild;if(r!==null)return Pa(i,r)}return t[ci]}function p0(n,t,e,i,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let u=i[e.index],d=e.type;if(s&&t===0&&(u&&Ya(Jt(u),i),e.flags|=2),!d0(e))if(d&8)p0(n,t,e.child,i,r,o,!1),io(t,n,r,u,o);else if(d&32){let m=u0(e,i),p;for(;p=m();)io(t,n,r,p,o);io(t,n,r,u,o)}else d&16?_E(n,t,i,e,r,o):io(t,n,r,u,o);e=s?e.projectionNext:e.next}}function Yu(n,t,e,i,r,o){p0(e,i,n.firstChild,t,r,o,!1)}function _E(n,t,e,i,r,o){let s=e[Vt],d=s[Kt].projection[i.projection];if(Array.isArray(d))for(let m=0;m<d.length;m++){let p=d[m];io(t,n,r,p,o)}else{let m=d,p=s[Xe];Y1(i)&&(m.flags|=128),p0(n,t,m,p,r,o,!0)}}function xE(n,t,e,i,r){let o=e[ci],s=Jt(e);o!==s&&io(t,n,i,o,r);for(let u=at;u<e.length;u++){let d=e[u];Yu(d[he],d,n,t,i,o)}}function CE(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:kn.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=kn.Important),n.setStyle(e,i,r,o))}}function $a(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(Jt(o)),pn(o)&&Ib(o,i);let s=e.type;if(s&8)$a(n,t,e.child,i);else if(s&32){let u=u0(e,t),d;for(;d=u();)i.push(d)}else if(s&16){let u=Tb(t,e);if(Array.isArray(u))i.push(...u);else{let d=ri(t[Vt]);$a(d[he],d,u,i,!0)}}e=r?e.projectionNext:e.next}return i}function Ib(n,t){for(let e=at;e<n.length;e++){let i=n[e],r=i[he].firstChild;r!==null&&$a(i[he],i,r,t)}n[ci]!==n[fn]&&t.push(n[ci])}function kb(n){if(n[lu]!==null){for(let t of n[lu])t.impl.addSequence(t);n[lu].length=0}}var Ab=[];function wE(n){return n[jt]??SE(n)}function SE(n){let t=Ab.pop()??Object.create(DE);return t.lView=n,t}function EE(n){n.lView[jt]!==n&&(n.lView=null,Ab.push(n))}var DE=ie(N({},ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Wi(n.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function TE(n){let t=n[jt]??Object.create(IE);return t.lView=n,t}var IE=ie(N({},ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=ri(n.lView);for(;t&&!Mb(t[he]);)t=ri(t);t&&qp(t)},consumerOnSignalRead(){this.lView[jt]=this}});function Mb(n){return n.type!==2}function Nb(n){if(n[zn]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[zn])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[fe]&8192)}}var kE=100;function h0(n,t=0){let i=n[wn].rendererFactory,r=!1;r||i.begin?.();try{AE(n,t)}finally{r||i.end?.()}}function AE(n,t){let e=eh();try{eo(!0),Ih(n,t);let i=0;for(;Na(n);){if(i===kE)throw new te(103,!1);i++,Ih(n,1)}}finally{eo(e)}}function Rb(n,t){Xp(t?Ra.Exhaustive:Ra.OnlyDirtyViews);try{h0(n)}finally{Xp(Ra.Off)}}function ME(n,t,e,i){if(Jr(t))return;let r=t[fe],o=!1,s=!1;hu(t);let u=!0,d=null,m=null;o||(Mb(n)?(m=wE(t),d=ti(m)):hc()===null?(u=!1,m=TE(t),d=ti(m)):t[jt]&&(Nr(t[jt]),t[jt]=null));try{zp(t),qy(n.bindingStartIndex),e!==null&&wb(n,t,e,2,i);let p=(r&3)===3;if(!o)if(p){let _=n.preOrderCheckHooks;_!==null&&Cu(t,_,null)}else{let _=n.preOrderHooks;_!==null&&wu(t,_,0,null),ch(t,0)}if(s||NE(t),Nb(t),Fb(t,0),n.contentQueries!==null&&ab(n,t),!o)if(p){let _=n.contentCheckHooks;_!==null&&Cu(t,_)}else{let _=n.contentHooks;_!==null&&wu(t,_,1),ch(t,1)}FE(n,t);let g=n.components;g!==null&&Lb(t,g,0);let C=n.viewQuery;if(C!==null&&Eh(2,C,i),!o)if(p){let _=n.viewCheckHooks;_!==null&&Cu(t,_)}else{let _=n.viewHooks;_!==null&&wu(t,_,2),ch(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[au]){for(let _ of t[au])_();t[au]=null}o||(kb(t),t[fe]&=-73)}catch(p){throw o||Wi(t),p}finally{m!==null&&(Ti(m,d),u&&EE(m)),gu()}}function Fb(n,t){for(let e=J1(n);e!==null;e=X1(e))for(let i=at;i<e.length;i++){let r=e[i];Ob(r,t)}}function NE(n){for(let t=J1(n);t!==null;t=X1(t)){if(!(t[fe]&2))continue;let e=t[qi];for(let i=0;i<e.length;i++){let r=e[i];qp(r)}}}function RE(n,t,e){Oe(18);let i=Xt(t,n);Ob(i,e),Oe(19,i[He])}function Ob(n,t){uu(n)&&Ih(n,t)}function Ih(n,t){let i=n[he],r=n[fe],o=n[jt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&Mr(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)ME(i,n,i.template,n[He]);else if(r&8192){Nb(n),Fb(n,1);let u=i.components;u!==null&&Lb(n,u,1),kb(n)}}function Lb(n,t,e){for(let i=0;i<t.length;i++)RE(n,t[i],e)}function FE(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)di(~r);else{let o=r,s=e[++i],u=e[++i];Qy(s,o);let d=t[o];Oe(24,d),u(2,d),Oe(25,d)}}}finally{di(-1)}}function g0(n,t){let e=eh()?64:1088;for(n[wn].changeDetectionScheduler?.notify(t);n;){n[fe]|=e;let i=ri(n);if(Kr(n)&&!i)return n;n=i}return null}function Pb(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Vb(n,t){let e=at+t;if(e<n.length)return n[e]}function Ku(n,t,e,i=!0){let r=t[he];if(OE(r,t,n,e),i){let s=Th(e,n),u=t[Ge],d=u.parentNode(n[ci]);d!==null&&dE(r,n[Kt],u,t,d,s)}let o=t[Qr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jb(n,t){let e=Ha(n,t);return e!==void 0&&Zu(e[he],e),e}function Ha(n,t){if(n.length<=at)return;let e=at+t,i=n[e];if(i){let r=i[li];r!==null&&r!==n&&m0(r,i),t>0&&(n[e-1][Yt]=i[Yt]);let o=Da(n,at+t);uE(i[he],i);let s=o[Sn];s!==null&&s.detachView(o[he]),i[Xe]=null,i[Yt]=null,i[fe]&=-129}return i}function OE(n,t,e,i){let r=at+i,o=e.length;i>0&&(e[r-1][Yt]=t),i<o-at?(t[Yt]=e[r],Mp(e,at+i,t)):(e.push(t),t[Yt]=null),t[Xe]=e;let s=t[li];s!==null&&e!==s&&Ub(s,t);let u=t[Sn];u!==null&&u.insertView(n),du(t),t[fe]|=128}function Ub(n,t){let e=n[qi],i=t[Xe];if(En(i))n[fe]|=2;else{let r=i[Xe][Vt];t[Vt]!==r&&(n[fe]|=2)}e===null?n[qi]=[t]:e.push(t)}var mi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[he];return $a(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[He]}set context(t){this._lView[He]=t}get destroyed(){return Jr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Xe];if(pn(t)){let e=t[Aa],i=e?e.indexOf(this):-1;i>-1&&(Ha(t,i),Da(e,i))}this._attachedToViewContainer=!1}Zu(this._lView[he],this._lView)}onDestroy(t){Wp(this._lView,t)}markForCheck(){g0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){du(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,h0(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Hi].get(lE,p1)}catch{this.exhaustive=p1}}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Kr(this._lView),e=this._lView[li];e!==null&&!t&&m0(e,this._lView),Db(this._lView[he],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=t;let e=Kr(this._lView),i=this._lView[li];i!==null&&!e&&Ub(i,this._lView),du(this._lView)}};var Ki=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=LE;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=Qu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new mi(o)}}return n})();function LE(){return v0(gt(),xe())}function v0(n,t){return n.type&4?new Ki(t,n,ao(n,t)):null}function y0(n,t,e,i,r){let o=n.data[t];if(o===null)o=PE(n,t,e,i,r),Wy()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=$y();o.injectorIndex=s===null?-1:s.injectorIndex}return Xr(o,!0),o}function PE(n,t,e,i,r){let o=Kp(),s=Jp(),u=s?o:o&&o.parent,d=n.data[t]=jE(n,u,e,t,i,r);return VE(n,d,o,s),d}function VE(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function jE(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,u=0;return jy()&&(u|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var EU=new RegExp(`^(\\d+)*(${_2}|${b2})*(.*)`);function UE(n){let t=n[Bp]??[],i=n[Xe][Ge],r=[];for(let o of t)o.data[ib]!==void 0?r.push(o):BE(o,i);n[Bp]=r}function BE(n,t){let e=0,i=n.firstChild;if(i){let r=n.data[nb];for(;e<r;){let o=i.nextSibling;yb(t,i,!1),i=o,e++}}}var $E=()=>null,HE=()=>null;function kh(n,t){return $E(n,t)}function Bb(n,t,e){return HE(n,t,e)}var $b=class{},Ju=class{},Ah=class{resolveComponentFactory(t){throw new te(917,!1)}},Ja=class{static NULL=new Ah},Ji=class{},yn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>GE()}return n})();function GE(){let n=xe(),t=gt(),e=Xt(t.index,n);return(En(e)?e:n)[Ge]}var Hb=(()=>{class n{static \u0275prov=ee({token:n,providedIn:"root",factory:()=>null})}return n})();var Eu={},Mh=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,Eu,i);return r!==Eu||e===Eu?r:this.parentInjector.get(t,e,i)}};function g1(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let u=t[s];if(typeof u=="number")o=u;else if(o==1)r=tu(r,u);else if(o==2){let d=u,m=t[++s];i=tu(i,d+": "+m+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function ce(n,t=0){let e=xe();if(e===null)return le(n,t);let i=gt();return W1(i,e,ft(n),t)}function Gb(n,t,e,i,r){let o=i===null?null:{"":-1},s=r(n,e);if(s!==null){let u=s,d=null,m=null;for(let p of s)if(p.resolveHostDirectives!==null){[u,d,m]=p.resolveHostDirectives(s);break}WE(n,t,e,u,o,d,m)}o!==null&&i!==null&&zE(e,i,o)}function zE(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new te(-301,!1);i.push(t[r],o)}}function qE(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function WE(n,t,e,i,r,o,s){let u=i.length,d=!1;for(let C=0;C<u;C++){let _=i[C];!d&&Dn(_)&&(d=!0,qE(n,e,C)),xh(ku(e,t),n,_.type)}XE(e,n.data.length,u);for(let C=0;C<u;C++){let _=i[C];_.providersResolver&&_.providersResolver(_)}let m=!1,p=!1,g=xb(n,t,u,null);u>0&&(e.directiveToIndex=new Map);for(let C=0;C<u;C++){let _=i[C];if(e.mergedAttrs=ja(e.mergedAttrs,_.hostAttrs),ZE(n,e,t,g,_),JE(g,_,r),s!==null&&s.has(_)){let[P,$]=s.get(_);e.directiveToIndex.set(_.type,[g,P+e.directiveStart,$+e.directiveStart])}else(o===null||!o.has(_))&&e.directiveToIndex.set(_.type,g);_.contentQueries!==null&&(e.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(e.flags|=64);let M=_.type.prototype;!m&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),m=!0),!p&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),p=!0),g++}QE(n,e,o)}function QE(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))v1(0,t,r,i),v1(1,t,r,i),b1(t,i,!1);else{let o=e.get(r);y1(0,t,o,i),y1(1,t,o,i),b1(t,i,!0)}}}function v1(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),zb(t,o)}}function y1(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],u;n===0?u=t.hostDirectiveInputs??={}:u=t.hostDirectiveOutputs??={},u[s]??=[],u[s].push(i,o),zb(t,s)}}function zb(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function b1(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||i0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,u=0;for(;u<i.length;){let d=i[u];if(d===0){u+=4;continue}else if(d===5){u+=2;continue}else if(typeof d=="number")break;if(!e&&r.hasOwnProperty(d)){let m=r[d];for(let p of m)if(p===t){s??=[],s.push(d,i[u+1]);break}}else if(e&&o.hasOwnProperty(d)){let m=o[d];for(let p=0;p<m.length;p+=2)if(m[p]===t){s??=[],s.push(m[p+1],i[u+1]);break}}u+=2}n.initialInputs??=[],n.initialInputs.push(s)}function ZE(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=Pi(r.type,!0)),s=new Yi(o,Dn(r),ce);n.blueprint[i]=s,e[i]=s,YE(n,t,i,xb(n,e,r.hostVars,wt),r)}function YE(n,t,e,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let u=~t.index;KE(s)!=u&&s.push(u),s.push(e,i,o)}}function KE(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function JE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Dn(t)&&(e[""]=n)}}function XE(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function qb(n,t,e,i,r,o,s,u){let d=t.consts,m=qn(d,s),p=y0(t,n,2,i,m);return o&&Gb(t,e,p,qn(d,u),r),p.mergedAttrs=ja(p.mergedAttrs,p.attrs),p.attrs!==null&&g1(p,p.attrs,!1),p.mergedAttrs!==null&&g1(p,p.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,p),p}function Wb(n,t){V1(n,t),$p(t)&&n.queries.elementEnd(t)}function Qb(n,t,e){return n[t]=e}function eD(n,t){return n[t]}function An(n,t,e){if(e===wt)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function tD(n,t,e,i){let r=An(n,t,e);return An(n,t+1,i)||r}function mh(n,t,e){return function i(r){let o=ui(n)?Xt(n.index,t):t;g0(o,5);let s=t[He],u=_1(t,s,e,r),d=i.__ngNextListenerFn__;for(;d;)u=_1(t,s,d,r)&&u,d=d.__ngNextListenerFn__;return u}}function _1(n,t,e,i){let r=de(null);try{return Oe(6,t,e),e(i)!==!1}catch(o){return rE(n,o),!1}finally{Oe(7,t,e),de(r)}}function nD(n,t,e,i,r,o,s,u){let d=cu(n),m=!1,p=null;if(!i&&d&&(p=iD(t,e,o,n.index)),p!==null){let g=p.__ngLastListenerFn__||p;g.__ngNextListenerFn__=s,p.__ngLastListenerFn__=s,m=!0}else{let g=hn(n,e),C=i?i(g):g;C2(e,C,o,u);let _=r.listen(C,o,u),M=i?P=>i(Jt(P[n.index])):n.index;Zb(M,t,e,o,u,_,!1)}return m}function iD(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let u=t[Zr],d=r[o+2];return u&&u.length>d?u[d]:null}typeof s=="string"&&(o+=2)}return null}function Zb(n,t,e,i,r,o,s){let u=t.firstCreatePass?Zp(t):null,d=Qp(e),m=d.length;d.push(r,o),u&&u.push(i,n,m,(m+1)*(s?-1:1))}function x1(n,t,e,i,r,o){let s=t[e],u=t[he],m=u.data[e].outputs[i],g=s[m].subscribe(o);Zb(n.index,u,t,r,o,g,!0)}var Nh=Symbol("BINDING");var Ru=class extends Ja{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=ai(t);return new oo(e,this.ngModule)}};function rD(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&Wu.SignalBased)!==0};return r&&(o.transform=r),o})}function oD(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function sD(n,t,e){let i=t instanceof Ze?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Mh(e,i):e}function aD(n){let t=n.get(Ji,null);if(t===null)throw new te(407,!1);let e=n.get(Hb,null),i=n.get(dn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function lD(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return gb(t,e,e==="svg"?Hp:e==="math"?ky:null)}var oo=class extends Ju{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=oD(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=L2(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,s){Oe(22);let u=de(null);try{let d=this.componentDef,m=cD(i,d,s,o),p=sD(d,r||this.ngModule,t),g=aD(p),C=g.rendererFactory.createRenderer(null,d),_=i?z2(C,i,d.encapsulation,p):lD(d,C),M=s?.some(C1)||o?.some(z=>typeof z!="function"&&z.bindings.some(C1)),P=o0(null,m,null,512|_b(d),null,null,g,C,p,null,sb(_,p,!0));P[xt]=_,hu(P);let $=null;try{let z=qb(xt,m,P,"#host",()=>m.directiveRegistry,!0,0);_&&(bb(C,_,z),Ya(_,P)),a0(m,P,z),lb(m,z,P),Wb(m,z),e!==void 0&&dD(z,this.ngContentSelectors,e),$=Xt(z.index,P),P[He]=$[He],c0(m,P,null)}catch(z){throw $!==null&&wh($),wh(P),z}finally{Oe(23),gu()}return new Fu(this.componentType,P,!!M)}finally{de(u)}}};function cD(n,t,e,i){let r=n?["ng-version","20.0.0"]:P2(t.selectors[0]),o=null,s=null,u=0;if(e)for(let p of e)u+=p[Nh].requiredVars,p.create&&(p.targetIdx=0,(o??=[]).push(p)),p.update&&(p.targetIdx=0,(s??=[]).push(p));if(i)for(let p=0;p<i.length;p++){let g=i[p];if(typeof g!="function")for(let C of g.bindings){u+=C[Nh].requiredVars;let _=p+1;C.create&&(C.targetIdx=_,(o??=[]).push(C)),C.update&&(C.targetIdx=_,(s??=[]).push(C))}}let d=[t];if(i)for(let p of i){let g=typeof p=="function"?p:p.type,C=Op(g);d.push(C)}return r0(0,null,uD(o,s),1,u,d,null,null,null,[r],null)}function uD(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function C1(n){let t=n[Nh].kind;return t==="input"||t==="twoWay"}var Fu=class extends $b{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=Ma(e[he],xt),this.location=ao(this._tNode,e),this.instance=Xt(this._tNode.index,e)[He],this.hostView=this.changeDetectorRef=new mi(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=l0(i,r[he],r,t,e);this.previousInputValues.set(t,e);let s=Xt(i.index,r);g0(s,1)}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function dD(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var fi=(()=>{class n{static __NG_ELEMENT_ID__=mD}return n})();function mD(){let n=gt();return Kb(n,xe())}var fD=fi,Yb=class extends fD{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){let t=Kh(this._hostTNode,this._hostLView);if(B1(t)){let e=Iu(t,this._hostLView),i=Tu(t),r=e[he].data[i+8];return new Zi(r,e)}else return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=w1(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-at}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=kh(this._lContainer,t.ssrId),u=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(u,r,Ba(this._hostTNode,s)),u}createComponent(t,e,i,r,o,s,u){let d=t&&!WS(t),m;if(d)m=e;else{let $=e||{};m=$.index,i=$.injector,r=$.projectableNodes,o=$.environmentInjector||$.ngModuleRef,s=$.directives,u=$.bindings}let p=d?t:new oo(ai(t)),g=i||this.parentInjector;if(!o&&p.ngModule==null){let z=(d?g:this.parentInjector).get(Ze,null);z&&(o=z)}let C=ai(p.componentType??{}),_=kh(this._lContainer,C?.id??null),M=_?.firstChild??null,P=p.create(g,r,M,o,s,u);return this.insertImpl(P.hostView,m,Ba(this._hostTNode,_)),P}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(Ny(r)){let u=this.indexOf(t);if(u!==-1)this.detach(u);else{let d=r[Xe],m=new Yb(d,d[Kt],d[Xe]);m.detach(m.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Ku(s,r,o,i),t.attachToViewContainerRef(),Mp(fh(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=w1(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=Ha(this._lContainer,e);i&&(Da(fh(this._lContainer),e),Zu(i[he],i))}detach(t){let e=this._adjustIndex(t,-1),i=Ha(this._lContainer,e);return i&&Da(fh(this._lContainer),e)!=null?new mi(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function w1(n){return n[Aa]}function fh(n){return n[Aa]||(n[Aa]=[])}function Kb(n,t){let e,i=t[n.index];return pn(i)?e=i:(e=Pb(i,t,null,n),t[n.index]=e,s0(t,e)),hD(e,t,n,i),new Yb(e,n,t)}function pD(n,t){let e=n[Ge],i=e.createComment(""),r=hn(t,n),o=e.parentNode(r);return Nu(e,o,i,e.nextSibling(r),!1),i}var hD=yD,gD=()=>!1;function vD(n,t,e){return gD(n,t,e)}function yD(n,t,e,i){if(n[ci])return;let r;e.type&8?r=Jt(i):r=pD(t,e),n[ci]=r}var Rh=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Fh=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),u=this.queries[s.indexInDeclarationView];r.push(u.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)b0(t,e).matches!==null&&this.queries[e].setDirty()}},Ou=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=DD(t):this.predicate=t}},Oh=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Lh=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,bD(e,o)),this.matchTNodeWithReadOption(t,e,Su(e,t,o,!1,!1))}else i===Ki?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Su(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nt||r===fi||r===Ki&&e.type&4)this.addMatch(e.index,-2);else{let o=Su(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function bD(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function _D(n,t){return n.type&11?ao(n,t):n.type&4?v0(n,t):null}function xD(n,t,e,i){return e===-1?_D(t,n):e===-2?CD(n,t,i):Ua(n,n[he],e,t)}function CD(n,t,e){if(e===nt)return ao(t,n);if(e===Ki)return v0(t,n);if(e===fi)return Kb(t,n)}function Jb(n,t,e,i){let r=t[Sn].queries[i];if(r.matches===null){let o=n.data,s=e.matches,u=[];for(let d=0;s!==null&&d<s.length;d+=2){let m=s[d];if(m<0)u.push(null);else{let p=o[m];u.push(xD(t,p,s[d+1],e.metadata.read))}}r.matches=u}return r.matches}function Ph(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let s=Jb(n,t,r,e);for(let u=0;u<o.length;u+=2){let d=o[u];if(d>0)i.push(s[u/2]);else{let m=o[u+1],p=t[-d];for(let g=at;g<p.length;g++){let C=p[g];C[li]===C[Xe]&&Ph(C[he],C,m,i)}if(p[qi]!==null){let g=p[qi];for(let C=0;C<g.length;C++){let _=g[C];Ph(_[he],_,m,i)}}}}}return i}function wD(n,t){return n[Sn].queries[t].queryList}function Xb(n,t,e){let i=new Au((e&4)===4);return Oy(n,t,i,i.destroy),(t[Sn]??=new Fh).queries.push(new Rh(i))-1}function SD(n,t,e){let i=et();return i.firstCreatePass&&(e_(i,new Ou(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),Xb(i,xe(),t)}function ED(n,t,e,i){let r=et();if(r.firstCreatePass){let o=gt();e_(r,new Ou(t,e,i),o.index),TD(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return Xb(r,xe(),e)}function DD(n){return n.split(",").map(t=>t.trim())}function e_(n,t,e){n.queries===null&&(n.queries=new Oh),n.queries.track(new Lh(t,e))}function TD(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function b0(n,t){return n.queries.getByIndex(t)}function ID(n,t){let e=n[he],i=b0(e,t);return i.crossesNgTemplate?Ph(e,n,t,[]):Jb(e,n,i,t)}var S1=new Set;function pi(n){S1.has(n)||(S1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Xi=class{},Xu=class{};var Lu=class extends Xi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ru(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=Fp(t);this._bootstrapComponents=pb(o.bootstrap),this._r3Injector=sh(t,e,[{provide:Xi,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver},...i],Nt(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Pu=class extends Xu{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Lu(this.moduleType,t,[])}};var Ga=class extends Xi{injector;componentFactoryResolver=new Ru(this);instance=null;constructor(t){super();let e=new ji([...t.providers,{provide:Xi,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver}],t.parent||Ia(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Xa(n,t,e=null){return new Ga({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var kD=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=Lp(!1,e.type),r=i.length>0?Xa([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:n,providedIn:"environment",factory:()=>new n(le(Ze))})}return n})();function R(n){return Qa(()=>{let t=t_(n),e=ie(N({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Jh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(kD).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Qn.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&pi("NgStandalone"),n_(e);let i=n.dependencies;return e.directiveDefs=E1(i,!1),e.pipeDefs=E1(i,!0),e.id=FD(e),e})}function AD(n){return ai(n)||Op(n)}function MD(n){return n!==null}function Mn(n){return Qa(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ND(n,t){if(n==null)return oi;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,u,d;Array.isArray(r)?(u=r[0],o=r[1],s=r[2]??o,d=r[3]||null):(o=r,s=r,u=Wu.None,d=null),e[o]=[i,u,d],t[o]=s}return e}function RD(n){if(n==null)return oi;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Ne(n){return Qa(()=>{let t=t_(n);return n_(t),t})}function t_(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||oi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ND(n.inputs,t),outputs:RD(n.outputs),debugInfo:null}}function n_(n){n.features?.forEach(t=>t(n))}function E1(n,t){if(!n)return null;let e=t?Cy:AD;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(MD)}function FD(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function OD(n){return Object.getPrototypeOf(n.prototype).constructor}function it(n){let t=OD(n.type),e=!0,i=[n];for(;t;){let r;if(Dn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new te(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let s=n;s.inputs=ph(n.inputs),s.declaredInputs=ph(n.declaredInputs),s.outputs=ph(n.outputs);let u=r.hostBindings;u&&UD(n,u);let d=r.viewQuery,m=r.contentQueries;if(d&&VD(n,d),m&&jD(n,m),LD(n,r),hy(n.outputs,r.outputs),Dn(r)&&r.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let u=o[s];u&&u.ngInherit&&u(n),u===it&&(e=!1)}}t=Object.getPrototypeOf(t)}PD(i)}function LD(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function PD(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ja(r.hostAttrs,e=ja(e,r.hostAttrs))}}function ph(n){return n===oi?{}:n===bt?[]:n}function VD(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function jD(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function UD(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function BD(n,t,e,i,r,o,s,u,d){let m=t.consts,p=y0(t,n,4,s||null,u||null);Yp()&&Gb(t,e,p,qn(m,d),Eb),p.mergedAttrs=ja(p.mergedAttrs,p.attrs),V1(t,p);let g=p.tView=r0(2,p,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m,null);return t.queries!==null&&(t.queries.template(t,p),g.queries=t.queries.embeddedTView(p)),p}function za(n,t,e,i,r,o,s,u,d,m,p){let g=e+xt,C=t.firstCreatePass?BD(g,t,n,i,r,o,s,u,m):t.data[g];d&&(C.flags|=d),Xr(C,!1);let _=$D(t,n,C,e);vu()&&f0(t,n,_,C),Ya(_,n);let M=Pb(_,n,_,C);return n[g]=M,s0(n,M),vD(M,C,n),cu(C)&&a0(t,n,C),m!=null&&Sb(n,C,p),C}function ed(n,t,e,i,r,o,s,u){let d=xe(),m=et(),p=qn(m.consts,o);return za(d,m,n,t,e,i,r,p,void 0,s,u),ed}var $D=HD;function HD(n,t,e,i){return yu(!0),t[Ge].createComment("")}var _0=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(_0||{}),el=new re(""),i_=!1,Vh=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Ty()&&(this.destroyRef=h(Ct,{optional:!0})??void 0,this.pendingTasks=h(Wn,{optional:!0})??void 0)}emit(t){let e=de(null);try{super.next(t)}finally{de(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&typeof t=="object"){let d=t;r=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:r,error:o,complete:s});return t instanceof $e&&t.add(u),u}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ze=Vh;function r_(n){let t,e;function i(){n=Qi;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function D1(n){return queueMicrotask(()=>n()),()=>{n=Qi}}var x0="isAngularZone",Vu=x0+"_ID",GD=0,qe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ze(!1);onMicrotaskEmpty=new ze(!1);onStable=new ze(!1);onError=new ze(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=i_}=t;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,WD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(x0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,zD,Qi,Qi);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},zD={};function C0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qD(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){r_(()=>{n.callbackScheduled=!1,jh(n),n.isCheckStableRunning=!0,C0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),jh(n)}function WD(n){let t=()=>{qD(n)},e=GD++;n._inner=n._inner.fork({name:"angular",properties:{[x0]:!0,[Vu]:e,[Vu+e]:!0},onInvokeTask:(i,r,o,s,u,d)=>{if(QD(d))return i.invokeTask(o,s,u,d);try{return T1(n),i.invokeTask(o,s,u,d)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),I1(n)}},onInvoke:(i,r,o,s,u,d,m)=>{try{return T1(n),i.invoke(o,s,u,d,m)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ZD(d)&&t(),I1(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jh(n),C0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jh(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function T1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function I1(n){n._nesting--,C0(n)}var qa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ze;onMicrotaskEmpty=new ze;onStable=new ze;onError=new ze;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function QD(n){return o_(n,"__ignore_ng_zone__")}function ZD(n){return o_(n,"__scheduler_tick__")}function o_(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var s_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})();var w0=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var S0=new re("");function hi(n){return!!n&&typeof n.then=="function"}function E0(n){return!!n&&typeof n.subscribe=="function"}var a_=new re("");var D0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=h(a_,{optional:!0})??[];injector=h(ht);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=_t(this.injector,r);if(hi(o))e.push(o);else if(E0(o)){let s=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),td=new re("");function l_(){Yf(()=>{let n="";throw new te(600,n)})}function c_(n){return n.isBoundToModule}var YD=10;var tr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=h(Rt);afterRenderManager=h(s_);zonelessEnabled=h(Fa);rootEffectScheduler=h(La);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ue;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=h(Wn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(pe(e=>!e))}constructor(){h(el,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=h(Ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=ht.NULL){return this._injector.get(qe).run(()=>{Oe(10);let s=e instanceof Ju;if(!this._injector.get(D0).done){let M="";throw new te(405,M)}let d;s?d=e:d=this._injector.get(Ja).resolveComponentFactory(e),this.componentTypes.push(d.componentType);let m=c_(d)?void 0:this._injector.get(Xi),p=i||d.selector,g=d.create(r,[],p,m),C=g.location.nativeElement,_=g.injector.get(S0,null);return _?.registerApplication(C),g.onDestroy(()=>{this.detachView(g.hostView),Va(this.components,g),_?.unregisterApplication(C)}),this._loadComponent(g),Oe(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new te(101,!1);let e=de(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(e),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ji,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<YD;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Na(r))continue;let o=i&&!this.zonelessEnabled?0:1;h0(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Na(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Va(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(td,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Va(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new te(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Va(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function nr(n,t,e,i){let r=xe(),o=to();if(An(r,o,t)){let s=et(),u=oh();tE(u,r,n,t,e,i)}return nr}var Uh=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}};function hh(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function KD(n,t,e){let i,r,o=0,s=n.length-1,u=void 0;if(Array.isArray(t)){let d=t.length-1;for(;o<=s&&o<=d;){let m=n.at(o),p=t[o],g=hh(o,m,o,p,e);if(g!==0){g<0&&n.updateValue(o,p),o++;continue}let C=n.at(s),_=t[d],M=hh(s,C,d,_,e);if(M!==0){M<0&&n.updateValue(s,_),s--,d--;continue}let P=e(o,m),$=e(s,C),z=e(o,p);if(Object.is(z,$)){let Ie=e(d,_);Object.is(Ie,P)?(n.swap(o,s),n.updateValue(s,_),d--,s--):n.move(s,o),n.updateValue(o,p),o++;continue}if(i??=new ju,r??=A1(n,o,s,e),Bh(n,i,o,z))n.updateValue(o,p),o++,s++;else if(r.has(z))i.set(P,n.detach(o)),s--;else{let Ie=n.create(o,t[o]);n.attach(o,Ie),o++,s++}}for(;o<=d;)k1(n,i,e,o,t[o]),o++}else if(t!=null){let d=t[Symbol.iterator](),m=d.next();for(;!m.done&&o<=s;){let p=n.at(o),g=m.value,C=hh(o,p,o,g,e);if(C!==0)C<0&&n.updateValue(o,g),o++,m=d.next();else{i??=new ju,r??=A1(n,o,s,e);let _=e(o,g);if(Bh(n,i,o,_))n.updateValue(o,g),o++,s++,m=d.next();else if(!r.has(_))n.attach(o,n.create(o,g)),o++,s++,m=d.next();else{let M=e(o,p);i.set(M,n.detach(o)),s--}}}for(;!m.done;)k1(n,i,e,n.length,m.value),m=d.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(d=>{n.destroy(d)})}function Bh(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function k1(n,t,e,i,r){if(Bh(n,t,i,e(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function A1(n,t,e,i){let r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}var ju=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}};function T(n,t,e,i,r,o,s,u){pi("NgControlFlow");let d=xe(),m=et(),p=qn(m.consts,o);return za(d,m,n,t,e,i,r,p,256,s,u),T0}function T0(n,t,e,i,r,o,s,u){pi("NgControlFlow");let d=xe(),m=et(),p=qn(m.consts,o);return za(d,m,n,t,e,i,r,p,512,s,u),T0}function I(n,t){pi("NgControlFlow");let e=xe(),i=to(),r=e[i]!==wt?e[i]:-1,o=r!==-1?Uu(e,xt+r):void 0,s=0;if(An(e,i,n)){let u=de(null);try{if(o!==void 0&&jb(o,s),n!==-1){let d=xt+n,m=Uu(e,d),p=zh(e[he],d),g=Bb(m,p,e),C=Qu(e,p,t,{dehydratedView:g});Ku(m,C,s,Ba(p,g))}}finally{de(u)}}else if(o!==void 0){let u=Vb(o,s);u!==void 0&&(u[He]=t)}}var $h=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-at}};function nd(n){return n}function Be(n,t){return t}var Hh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function U(n,t,e,i,r,o,s,u,d,m,p,g,C){pi("NgControlFlow");let _=xe(),M=et(),P=d!==void 0,$=xe(),z=u?s.bind($[Vt][He]):s,Ie=new Hh(P,z);$[xt+n]=Ie,za(_,M,n+1,t,e,i,r,qn(M.consts,o),256),P&&za(_,M,n+2,d,m,p,g,qn(M.consts,C),512)}var Gh=class extends Uh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-at}at(t){return this.getLView(t)[He].$implicit}attach(t,e){let i=e[Qr];this.needsIndexUpdate||=t!==this.length,Ku(this.lContainer,e,t,Ba(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,JD(this.lContainer,t)}create(t,e){let i=kh(this.lContainer,this.templateTNode.tView.ssrId),r=Qu(this.hostLView,this.templateTNode,new $h(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Zu(t[he],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[He].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[He].$index=t}getLView(t){return XD(this.lContainer,t)}};function B(n){let t=de(null),e=Tn();try{let i=xe(),r=i[he],o=i[e],s=e+1,u=Uu(i,s);if(o.liveCollection===void 0){let m=zh(r,s);o.liveCollection=new Gh(u,i,m)}else o.liveCollection.reset();let d=o.liveCollection;if(KD(d,n,o.trackByFn),d.updateIndexes(),o.hasEmptyBlock){let m=to(),p=d.length===0;if(An(i,m,p)){let g=e+2,C=Uu(i,g);if(p){let _=zh(r,g),M=Bb(C,_,i),P=Qu(i,_,void 0,{dehydratedView:M});Ku(C,P,0,Ba(_,M))}else r.firstUpdatePass&&UE(C),jb(C,0)}}}finally{de(t)}}function Uu(n,t){return n[t]}function JD(n,t){return Ha(n,t)}function XD(n,t){return Vb(n,t)}function zh(n,t){return Ma(n,t)}function x(n,t,e){let i=xe(),r=to();if(An(i,r,t)){let o=et(),s=oh();Z2(s,i,n,t,i[Ge],e)}return x}function qh(n,t,e,i,r){l0(t,n,e,r?"class":"style",i)}function a(n,t,e,i){let r=xe(),o=et(),s=xt+n,u=r[Ge],d=o.firstCreatePass?qb(s,o,r,t,Eb,Yp(),e,i):o.data[s],m=eT(o,r,d,u,t,n);r[s]=m;let p=cu(d);return Xr(d,!0),bb(u,m,d),!d0(d)&&vu()&&f0(o,r,m,d),(Ly()===0||p)&&Ya(m,r),Py(),p&&(a0(o,r,d),lb(o,d,r)),i!==null&&Sb(r,d),a}function l(){let n=gt();Jp()?Hy():(n=n.parent,Xr(n,!1));let t=n;Uy(t)&&By(),Vy();let e=et();return e.firstCreatePass&&Wb(e,t),t.classesWithoutHost!=null&&XS(t)&&qh(e,t,xe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&e2(t)&&qh(e,t,xe(),t.stylesWithoutHost,!1),l}function v(n,t,e,i){return a(n,t,e,i),l(),v}var eT=(n,t,e,i,r,o)=>(yu(!0),gb(i,r,t1()));function O(){return xe()}var tl="en-US";var tT=tl;function u_(n){typeof n=="string"&&(tT=n.toLowerCase().replace(/_/g,"-"))}function y(n,t,e){let i=xe(),r=et(),o=gt();return nT(r,i,i[Ge],o,n,t,e),y}function nT(n,t,e,i,r,o,s){let u=!0,d=null;if((i.type&3||s)&&(d??=mh(i,t,o),nD(i,n,t,s,e,r,o,d)&&(u=!1)),u){let m=i.outputs?.[r],p=i.hostDirectiveOutputs?.[r];if(p&&p.length)for(let g=0;g<p.length;g+=2){let C=p[g],_=p[g+1];d??=mh(i,t,o),x1(i,t,C,_,r,d)}if(m&&m.length)for(let g of m)d??=mh(i,t,o),x1(i,t,g,r,r,d)}}function b(n=1){return e1(n)}function I0(n,t,e,i){ED(n,t,e,i)}function id(n,t,e){SD(n,t,e)}function co(n){let t=xe(),e=et(),i=nh();pu(i+1);let r=b0(e,i);if(n.dirty&&My(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=ID(t,i);n.reset(o,f2),n.notifyOnChanges()}return!0}return!1}function uo(){return wD(xe(),nh())}function St(n){let t=Gy();return Ay(t,xt+n)}function xu(n,t){return n<<17|t<<2}function er(n){return n>>17&32767}function iT(n){return(n&2)==2}function rT(n,t){return n&131071|t<<17}function Wh(n){return n|2}function so(n){return(n&131068)>>2}function gh(n,t){return n&-131069|t<<2}function oT(n){return(n&1)===1}function Qh(n){return n|1}function sT(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,u=er(s),d=so(s);n[i]=e;let m=!1,p;if(Array.isArray(e)){let g=e;p=g[1],(p===null||Wr(g,p)>0)&&(m=!0)}else p=e;if(r)if(d!==0){let C=er(n[u+1]);n[i+1]=xu(C,u),C!==0&&(n[C+1]=gh(n[C+1],i)),n[u+1]=rT(n[u+1],i)}else n[i+1]=xu(u,0),u!==0&&(n[u+1]=gh(n[u+1],i)),u=i;else n[i+1]=xu(d,0),u===0?u=i:n[d+1]=gh(n[d+1],i),d=i;m&&(n[i+1]=Wh(n[i+1])),M1(n,p,i,!0),M1(n,p,i,!1),aT(t,p,n,i,o),s=xu(u,d),o?t.classBindings=s:t.styleBindings=s}function aT(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Wr(o,t)>=0&&(e[i+1]=Qh(e[i+1]))}function M1(n,t,e,i){let r=n[e+1],o=t===null,s=i?er(r):so(r),u=!1;for(;s!==0&&(u===!1||o);){let d=n[s],m=n[s+1];lT(d,t)&&(u=!0,n[s+1]=i?Qh(m):Wh(m)),s=i?er(m):so(m)}u&&(n[e+1]=i?Wh(r):Qh(r))}function lT(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Wr(n,t)>=0:!1}var vn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cT(n){return n.substring(vn.key,vn.keyEnd)}function uT(n){return dT(n),d_(n,m_(n,0,vn.textEnd))}function d_(n,t){let e=vn.textEnd;return e===t?-1:(t=vn.keyEnd=mT(n,vn.key=t,e),m_(n,t,e))}function dT(n){vn.key=0,vn.keyEnd=0,vn.value=0,vn.valueEnd=0,vn.textEnd=n.length}function m_(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function mT(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function $t(n,t,e){return f_(n,t,e,!1),$t}function se(n,t){return f_(n,t,null,!0),se}function Fe(n){pT(_T,fT,n,!0)}function fT(n,t){for(let e=uT(t);e>=0;e=d_(t,e))ou(n,cT(t),!0)}function f_(n,t,e,i){let r=xe(),o=et(),s=mu(2);if(o.firstUpdatePass&&h_(o,n,s,i),t!==wt&&An(r,s,t)){let u=o.data[Tn()];g_(o,u,r,r[Ge],n,r[s+1]=CT(t,e),i,s)}}function pT(n,t,e,i){let r=et(),o=mu(2);r.firstUpdatePass&&h_(r,null,o,i);let s=xe();if(e!==wt&&An(s,o,e)){let u=r.data[Tn()];if(v_(u,i)&&!p_(r,o)){let d=i?u.classesWithoutHost:u.stylesWithoutHost;d!==null&&(e=tu(d,e||"")),qh(r,u,s,e,i)}else xT(r,u,s,s[Ge],s[o+1],s[o+1]=bT(n,t,e),i,o)}}function p_(n,t){return t>=n.expandoStartIndex}function h_(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[Tn()],s=p_(n,e);v_(o,i)&&t===null&&!s&&(t=!1),t=hT(r,o,t,i),sT(r,o,t,e,s,i)}}function hT(n,t,e,i){let r=Yy(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=vh(null,n,t,e,i),e=Wa(e,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==r)if(e=vh(r,n,t,e,i),o===null){let d=gT(n,t,i);d!==void 0&&Array.isArray(d)&&(d=vh(null,n,t,d[1],i),d=Wa(d,t.attrs,i),vT(n,t,i,d))}else o=yT(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function gT(n,t,e){let i=e?t.classBindings:t.styleBindings;if(so(i)!==0)return n[er(i)]}function vT(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[er(r)]=i}function yT(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Wa(i,s,e)}return Wa(i,t.attrs,e)}function vh(n,t,e,i,r){let o=null,s=e.directiveEnd,u=e.directiveStylingLast;for(u===-1?u=e.directiveStart:u++;u<s&&(o=t[u],i=Wa(i,o.hostAttrs,r),o!==n);)u++;return n!==null&&(e.directiveStylingLast=u),i}function Wa(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ou(n,s,e?!0:t[++o]))}return n===void 0?null:n}function bT(n,t,e){if(e==null||e==="")return bt;let i=[],r=Ka(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function _T(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&ou(n,i,e)}function xT(n,t,e,i,r,o,s,u){r===wt&&(r=bt);let d=0,m=0,p=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;p!==null||g!==null;){let C=d<r.length?r[d+1]:void 0,_=m<o.length?o[m+1]:void 0,M=null,P;p===g?(d+=2,m+=2,C!==_&&(M=g,P=_)):g===null||p!==null&&p<g?(d+=2,M=p):(m+=2,M=g,P=_),M!==null&&g_(n,t,e,i,M,P,s,u),p=d<r.length?r[d]:null,g=m<o.length?o[m]:null}}function g_(n,t,e,i,r,o,s,u){if(!(t.type&3))return;let d=n.data,m=d[u+1],p=oT(m)?N1(d,t,e,r,so(m),s):void 0;if(!Bu(p)){Bu(o)||iT(m)&&(o=N1(d,null,e,r,u,s));let g=Gp(Tn(),e);CE(i,s,g,r,o)}}function N1(n,t,e,i,r,o){let s=t===null,u;for(;r>0;){let d=n[r],m=Array.isArray(d),p=m?d[1]:d,g=p===null,C=e[r+1];C===wt&&(C=g?bt:void 0);let _=g?su(C,i):p===i?C:void 0;if(m&&!Bu(_)&&(_=su(d,i)),Bu(_)&&(u=_,s))return u;let M=n[r+1];r=s?er(M):so(M)}if(t!==null){let d=o?t.residualClasses:t.residualStyles;d!=null&&(u=su(d,i))}return u}function Bu(n){return n!==void 0}function CT(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Nt(Ka(n)))),n}function v_(n,t){return(n.flags&(t?8:16))!==0}function c(n,t=""){let e=xe(),i=et(),r=n+xt,o=i.firstCreatePass?y0(i,r,1,t,null):i.data[r],s=wT(i,e,o,t,n);e[r]=s,vu()&&f0(i,e,s,o),Xr(o,!1)}var wT=(n,t,e,i,r)=>(yu(!0),V2(t[Ge],i));function ST(n,t,e,i=""){return An(n,to(),e)?t+Bi(e)+i:wt}function y_(n,t,e,i,r,o=""){let s=zy(),u=tD(n,s,e,r);return mu(2),u?t+Bi(e)+i+Bi(r)+o:wt}function E(n){return X("",n),E}function X(n,t,e){let i=xe(),r=ST(i,n,t,e);return r!==wt&&b_(i,Tn(),r),X}function Ht(n,t,e,i,r){let o=xe(),s=y_(o,n,t,e,i,r);return s!==wt&&b_(o,Tn(),s),Ht}function b_(n,t,e){let i=Gp(t,n);j2(n[Ge],i,e)}function k0(n,t,e,i,r=""){return y_(xe(),n,t,e,i,r)}function ET(n,t,e){let i=et();if(i.firstCreatePass){let r=Dn(n);Zh(e,i.data,i.blueprint,r,!0),Zh(t,i.data,i.blueprint,r,!1)}}function Zh(n,t,e,i,r){if(n=ft(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zh(n[o],t,e,i,r);else{let o=et(),s=xe(),u=gt(),d=Vi(n)?n:ft(n.provide),m=Vp(n),p=u.providerIndexes&1048575,g=u.directiveStart,C=u.providerIndexes>>20;if(Vi(n)||!n.multi){let _=new Yi(m,r,ce),M=bh(d,t,r?p:p+C,g);M===-1?(xh(ku(u,s),o,d),yh(o,n,t.length),t.push(d),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(_),s.push(_)):(e[M]=_,s[M]=_)}else{let _=bh(d,t,p+C,g),M=bh(d,t,p,p+C),P=_>=0&&e[_],$=M>=0&&e[M];if(r&&!$||!r&&!P){xh(ku(u,s),o,d);let z=IT(r?TT:DT,e.length,r,i,m);!r&&$&&(e[M].providerFactory=z),yh(o,n,t.length,0),t.push(d),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(z),s.push(z)}else{let z=__(e[r?M:_],m,!r&&i);yh(o,n,_>-1?_:M,z)}!r&&i&&$&&e[M].componentProviders++}}}function yh(n,t,e,i){let r=Vi(t),o=Dy(t);if(r||o){let d=(o?ft(t.useClass):t).prototype.ngOnDestroy;if(d){let m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let p=m.indexOf(e);p===-1?m.push(e,[i,d]):m[p+1].push(i,d)}else m.push(e,d)}}}function __(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function bh(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function DT(n,t,e,i){return Yh(this.multi,[])}function TT(n,t,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,u=Ua(e,e[he],this.providerFactory.index,i);o=u.slice(0,s),Yh(r,o);for(let d=s;d<u.length;d++)o.push(u[d])}else o=[],Yh(r,o);return o}function Yh(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function IT(n,t,e,i,r){let o=new Yi(n,e,ce);return o.multi=[],o.index=t,o.componentProviders=0,__(o,r,i&&!e),o}function Ft(n,t=[]){return e=>{e.providersResolver=(i,r)=>ET(i,r?r(n):n,t)}}function A0(n,t,e){let i=th()+n,r=xe();return r[i]===wt?Qb(r,i,e?t.call(e):t()):eD(r,i)}function Ae(n,t,e,i){return AT(xe(),th(),n,t,e,i)}function kT(n,t){let e=n[t];return e===wt?void 0:e}function AT(n,t,e,i,r,o){let s=t+e;return An(n,s,r)?Qb(n,s+1,o?i.call(o,r):i(r)):kT(n,s+1)}var $u=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},M0=(()=>{class n{compileModuleSync(e){return new Pu(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=Fp(e),o=pb(r.declarations).reduce((s,u)=>{let d=ai(u);return d&&s.push(new oo(d)),s},[]);return new $u(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MT=(()=>{class n{zone=h(qe);changeDetectionScheduler=h(dn);applicationRef=h(tr);applicationErrorHandler=h(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x_({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new qe(ie(N({},C_()),{scheduleInRootZone:e})),[{provide:qe,useFactory:n},{provide:si,multi:!0,useFactory:()=>{let i=h(MT,{optional:!0});return()=>i.initialize()}},{provide:si,multi:!0,useFactory:()=>{let i=h(NT);return()=>{i.initialize()}}},t===!0?{provide:lh,useValue:!0}:[],{provide:bu,useValue:e??i_},{provide:Rt,useFactory:()=>{let i=h(qe),r=h(Ze),o;return s=>{o??=r.get(Zt),i.runOutsideAngular(()=>o.handleError(s))}}}]}function C_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var NT=(()=>{class n{subscription=new $e;initialized=!1;zone=h(qe);pendingTasks=h(Wn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var N0=(()=>{class n{applicationErrorHandler=h(Rt);appRef=h(tr);taskService=h(Wn);ngZone=h(qe);zonelessEnabled=h(Fa);tracing=h(el,{optional:!0});disableScheduling=h(lh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(h(bu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qa||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?D1:r_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,D1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R0(){return pi("NgZoneless"),$i([{provide:dn,useExisting:N0},{provide:qe,useClass:qa},{provide:Fa,useValue:!0},{provide:bu,useValue:!1},[]])}function RT(){return typeof $localize<"u"&&$localize.locale||tl}var rd=new re("",{providedIn:"root",factory:()=>h(rd,{optional:!0,skipSelf:!0})||RT()});var od=class{destroyed=!1;listeners=null;errorHandler=h(Zt,{optional:!0});destroyRef=h(Ct);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new te(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let e=this.listeners?.indexOf(t);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(t){if(this.destroyed){console.warn(qr(953,!1));return}if(this.listeners===null)return;let e=de(null);try{for(let i of this.listeners)try{i(t)}catch(r){this.errorHandler?.handleError(r)}}finally{de(e)}}};function Et(n){return dy(n)}function oe(n,t){return _c(n,t?.equal)}var F0=class{[yt];constructor(t){this[yt]=t}destroy(){this[yt].destroy()}};function Dt(n,t){let e=t?.injector??h(ht),i=t?.manualCleanup!==!0?e.get(Ct):null,r,o=e.get(Oa,null,{optional:!0}),s=e.get(dn);return o!==null?(r=LT(o.view,s,n),i instanceof wa&&i._lView===o.view&&(i=null)):r=PT(n,e.get(La),s),r.injector=e,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new F0(r)}var w_=ie(N({},ei),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Qi,run(){if(this.dirty=!1,this.hasRun&&!Mr(this))return;this.hasRun=!0;let n=i=>(this.cleanupFns??=[]).push(i),t=ti(this),e=eo(!1);try{this.maybeCleanup(),this.fn(n)}finally{eo(e),Ti(this,t)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let n=de(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],de(n)}}}),FT=ie(N({},w_),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Nr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),OT=ie(N({},w_),{consumerMarkedDirty(){this.view[fe]|=8192,Wi(this.view),this.notifier.notify(13)},destroy(){Nr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[zn]?.delete(this)}});function LT(n,t,e){let i=Object.create(OT);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=e,n[zn]??=new Set,n[zn].add(i),i.consumerMarkedDirty(i),i}function PT(n,t,e){let i=Object.create(FT);return i.fn=n,i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}var E_=Symbol("InputSignalNode#UNSET"),iI=ie(N({},Cc),{transformFn:void 0,applyValueToInputSignal(n,t){Ii(n,t)}});function D_(n,t){let e=Object.create(iI);e.value=n,e.transformFn=t?.transform;function i(){if(Ar(e),e.value===E_){let r=null;throw new te(-950,r)}return e.value}return i[yt]=e,i}var ad=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Za(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},rI=new re("");rI.__NG_ELEMENT_ID__=n=>{let t=gt();if(t===null)throw new te(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new te(204,!1)};function Gt(n){return new od}function S_(n,t){return D_(n,t)}function oI(n){return D_(E_,n)}var rt=(S_.required=oI,S_);var O0=new re(""),sI=new re("");function nl(n){return!n.moduleRef}function aI(n){let t=nl(n)?n.r3Injector:n.moduleRef.injector,e=t.get(qe);return e.run(()=>{nl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Rt),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),nl(n)){let o=()=>t.destroy(),s=n.platformInjector.get(O0);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(O0);s.add(o),n.moduleRef.onDestroy(()=>{Va(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return cI(i,e,()=>{let o=t.get(D0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(rd,tl);if(u_(s||tl),!t.get(sI,!0))return nl(n)?t.get(tr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(nl(n)){let d=t.get(tr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return lI?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var lI;function cI(n,t,e){try{let i=e();return hi(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var sd=null;function uI(n=[],t){return ht.create({name:t,providers:[{provide:Ta,useValue:"platform"},{provide:O0,useValue:new Set([()=>sd=null])},...n]})}function dI(n=[]){if(sd)return sd;let t=uI(n);return sd=t,l_(),mI(t),t}function mI(n){let t=n.get(Gu,null);_t(n,()=>{t?.forEach(e=>e())})}var mo=(()=>{class n{static __NG_ELEMENT_ID__=fI}return n})();function fI(n){return pI(gt(),xe(),(n&16)===16)}function pI(n,t,e){if(ui(n)&&!e){let i=Xt(n.index,t);return new mi(i,i)}else if(n.type&175){let i=t[Vt];return new mi(i,t)}return null}function T_(n){Oe(8);try{let{rootComponent:t,appProviders:e,platformProviders:i}=n,r=dI(i),o=[x_({}),{provide:dn,useExisting:N0},i1,...e||[]],s=new Ga({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return aI({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Oe(9)}}function fo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var A_=null;function en(){return A_}function L0(n){A_??=n}var il=class{},rl=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>h(M_),providedIn:"platform"})}return n})();var M_=(()=>{class n extends rl{_location;_history;_doc=h(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(e){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ld(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function I_(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function bn(n){return n&&n[0]!=="?"?`?${n}`:n}var Nn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>h(P0),providedIn:"root"})}return n})(),cd=new re(""),P0=(()=>{class n extends Nn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??h(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ld(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+bn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+bn(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+bn(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(le(rl),le(cd,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ir=(()=>{class n{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=vI(I_(k_(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+bn(i))}normalize(e){return n.stripTrailingSlash(gI(this._basePath,k_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=bn;static joinWithSlash=ld;static stripTrailingSlash=I_;static \u0275fac=function(i){return new(i||n)(le(Nn))};static \u0275prov=ee({token:n,factory:()=>hI(),providedIn:"root"})}return n})();function hI(){return new ir(le(Nn))}function gI(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function k_(n){return n.replace(/\/index.html$/,"")}function vI(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var V0=(()=>{class n extends Nn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=ld(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+bn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+bn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(le(rl),le(cd,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();var j0=(()=>{class n{_viewContainer;_context=new ud;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){N_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){N_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(ce(fi),ce(Ki))};static \u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ud=class{$implicit=null;ngIf=null};function N_(n,t){if(n&&!n.createEmbeddedView)throw new te(2020,!1)}var F=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Mn({type:n});static \u0275inj=mn({})}return n})();function ol(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var U0="browser",R_="server";function B0(n){return n===R_}var rr=class{};var fd=new re(""),z0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(le(fd),le(qe))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),sl=class{_doc;constructor(t){this._doc=t}manager},dd="ng-app-id";function O_(n){for(let t of n)t.remove()}function L_(n,t){let e=t.createElement("style");return e.textContent=n,e}function _I(n,t,e,i){let r=n.head?.querySelectorAll(`style[${dd}="${t}"],link[${dd}="${t}"]`);if(r)for(let o of r)o.removeAttribute(dd),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function H0(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var q0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=B0(o),_I(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,L_);i?.forEach(r=>this.addUsage(r,this.external,H0))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(O_(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])O_(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,L_(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,H0(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(dd,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(le(tt),le(Hu),le(zu,8),le(lo))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),$0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},W0=/%COMP%/g;var V_="%COMP%",xI=`_nghost-${V_}`,CI=`_ngcontent-${V_}`,wI=!0,SI=new re("",{providedIn:"root",factory:()=>wI});function EI(n){return CI.replace(W0,n)}function DI(n){return xI.replace(W0,n)}function j_(n,t){return t.map(e=>e.replace(W0,n))}var Q0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,u,d,m=null,p=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=d,this.nonce=m,this.tracingService=p,this.platformIsServer=!1,this.defaultRenderer=new al(e,s,d,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof md?r.applyToHost(e):r instanceof ll&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,u=this.ngZone,d=this.eventManager,m=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer,C=this.tracingService;switch(i.encapsulation){case Qn.Emulated:o=new md(d,m,i,this.appId,p,s,u,g,C);break;case Qn.ShadowDom:return new G0(d,m,e,i,s,u,this.nonce,g,C);default:o=new ll(d,m,i,p,s,u,g,C);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(le(z0),le(q0),le(Hu),le(SI),le(tt),le(lo),le(qe),le(zu),le(el,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),al=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS($0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(P_(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(P_(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new te(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=$0[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=$0[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(kn.DashCase|kn.Important)?t.style.setProperty(e,i,r&kn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&kn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=en().getGlobalEventTarget(this.doc,t),!t))throw new te(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function P_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var G0=class extends al{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,s,u,d,m){super(t,o,s,d,m),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=r.styles;p=j_(r.id,p);for(let C of p){let _=document.createElement("style");u&&_.setAttribute("nonce",u),_.textContent=C,this.shadowRoot.appendChild(_)}let g=r.getExternalStyles?.();if(g)for(let C of g){let _=H0(C,o);u&&_.setAttribute("nonce",u),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ll=class extends al{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,s,u,d,m){super(t,o,s,u,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let p=i.styles;this.styles=m?j_(m,p):p,this.styleUrls=i.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},md=class extends ll{contentAttr;hostAttr;constructor(t,e,i,r,o,s,u,d,m){let p=r+"-"+i.id;super(t,e,i,o,s,u,d,m,p),this.contentAttr=EI(p),this.hostAttr=DI(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var pd=class n extends il{supportsDOMEvents=!0;static makeCurrent(){L0(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=TI();return e==null?null:II(e)}resetBaseElement(){cl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ol(document.cookie,t)}},cl=null;function TI(){return cl=cl||document.head.querySelector("base"),cl?cl.getAttribute("href"):null}function II(n){return new URL(n,document.baseURI).pathname}var kI=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),B_=(()=>{class n extends sl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(le(tt))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),U_=["alt","control","meta","shift"],AI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MI={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$_=(()=>{class n extends sl{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(e,s.domEventName,u,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),s="code."),U_.forEach(m=>{let p=i.indexOf(m);p>-1&&(i.splice(p,1),s+=m+".")}),s+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=s,d}static matchEventFullKeyCode(e,i){let r=AI[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),U_.forEach(s=>{if(s!==r){let u=MI[s];u(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(le(tt))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function Z0(n,t){return T_(N({rootComponent:n},NI(t)))}function NI(n){return{appProviders:[...PI,...n?.providers??[]],platformProviders:LI}}function RI(){pd.makeCurrent()}function FI(){return new Zt}function OI(){return Xh(document),document}var LI=[{provide:lo,useValue:U0},{provide:Gu,useValue:RI,multi:!0},{provide:tt,useFactory:OI}];var PI=[{provide:Ta,useValue:"root"},{provide:Zt,useFactory:FI},{provide:fd,useClass:B_,multi:!0,deps:[tt]},{provide:fd,useClass:$_,multi:!0,deps:[tt]},Q0,q0,z0,{provide:Ji,useExisting:Q0},{provide:rr,useClass:kI},[]];var po=class{},ho=class{},Zn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(u=>o.indexOf(u)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var vd=class{encodeKey(t){return H_(t)}encodeValue(t){return H_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function VI(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,u]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],d=e.get(s)||[];d.push(u),e.set(s,d)}),e}var jI=/%(\d[a-f0-9])/gi,UI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H_(n){return encodeURIComponent(n).replace(jI,(t,e)=>UI[e]??t)}function hd(n){return`${n}`}var vi=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new vd,t.fromString){if(t.fromObject)throw new te(2805,!1);this.map=VI(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(hd):[hd(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(hd(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(hd(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var yd=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function BI(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function G_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function z_(n){return typeof Blob<"u"&&n instanceof Blob}function q_(n){return typeof FormData<"u"&&n instanceof FormData}function $I(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ul="Content-Type",bd="Accept",eg="X-Request-URL",Q_="text/plain",Z_="application/json",Y_=`${Z_}, ${Q_}, */*`,dl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(BI(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Zn,this.context??=new yd,!this.params)this.params=new vi,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let u=e.indexOf("?"),d=u===-1?"?":u<e.length-1?"&":"";this.urlWithParams=e+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||G_(this.body)||z_(this.body)||q_(this.body)||$I(this.body)?this.body:this.body instanceof vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||q_(this.body)?null:z_(this.body)?this.body.type||null:G_(this.body)?null:typeof this.body=="string"?Q_:this.body instanceof vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Z_:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.transferCache??this.transferCache,u=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,p=t.headers||this.headers,g=t.params||this.params,C=t.context??this.context;return t.setHeaders!==void 0&&(p=Object.keys(t.setHeaders).reduce((_,M)=>_.set(M,t.setHeaders[M]),p)),t.setParams&&(g=Object.keys(t.setParams).reduce((_,M)=>_.set(M,t.setParams[M]),g)),new n(e,i,u,{params:g,headers:p,context:C,reportProgress:m,responseType:r,withCredentials:d,transferCache:s,keepalive:o})}},yi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yi||{}),go=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new Zn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ml=class n extends go{constructor(t={}){super(t)}type=yi.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},fl=class n extends go{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=yi.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},gi=class extends go{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},K_=200,HI=204;function Y0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var GI=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof dl)o=e;else{let d;r.headers instanceof Zn?d=r.headers:d=new Zn(r.headers);let m;r.params&&(r.params instanceof vi?m=r.params:m=new vi({fromObject:r.params})),o=new dl(e,i,r.body!==void 0?r.body:null,{headers:d,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive})}let s=ue(o).pipe($n(d=>this.handler.handle(d)));if(e instanceof dl||r.observe==="events")return s;let u=s.pipe(mt(d=>d instanceof fl));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(pe(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new te(2806,!1);return d.body}));case"blob":return u.pipe(pe(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new te(2807,!1);return d.body}));case"text":return u.pipe(pe(d=>{if(d.body!==null&&typeof d.body!="string")throw new te(2808,!1);return d.body}));case"json":default:return u.pipe(pe(d=>d.body))}case"response":return u;default:throw new te(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new vi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Y0(r,i))}post(e,i,r={}){return this.request("POST",e,Y0(r,i))}put(e,i,r={}){return this.request("PUT",e,Y0(r,i))}static \u0275fac=function(i){return new(i||n)(le(po))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),zI=/^\)\]\}',?\n/;function W_(n){if(n.url)return n.url;let t=eg.toLocaleLowerCase();return n.headers.get(t)}var J_=new re(""),gd=(()=>{class n{fetchImpl=h(K0,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=h(qe);destroyRef=h(Ct);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(e){return new we(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(J0,o=>i.error(new gi({error:o}))),()=>r.abort()})}async doRequest(e,i,r){let o=this.createRequestInit(e),s;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,N({signal:i},o)));qI(_),r.next({type:yi.Sent}),s=await _}catch(_){r.error(new gi({error:_,status:_.status??0,statusText:_.statusText,url:e.urlWithParams,headers:_.headers}));return}let u=new Zn(s.headers),d=s.statusText,m=W_(s)??e.urlWithParams,p=s.status,g=null;if(e.reportProgress&&r.next(new ml({headers:u,status:p,statusText:d,url:m})),s.body){let _=s.headers.get("content-length"),M=[],P=s.body.getReader(),$=0,z,Ie,Ce=typeof Zone<"u"&&Zone.current,Te=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyed){await P.cancel(),Te=!0;break}let{done:vt,value:Qt}=await P.read();if(vt)break;if(M.push(Qt),$+=Qt.length,e.reportProgress){Ie=e.responseType==="text"?(Ie??"")+(z??=new TextDecoder).decode(Qt,{stream:!0}):void 0;let Ei=()=>r.next({type:yi.DownloadProgress,total:_?+_:void 0,loaded:$,partialText:Ie});Ce?Ce.run(Ei):Ei()}}}),Te){r.complete();return}let Re=this.concatChunks(M,$);try{let vt=s.headers.get(ul)??"";g=this.parseBody(e,Re,vt)}catch(vt){r.error(new gi({error:vt,headers:new Zn(s.headers),status:s.status,statusText:s.statusText,url:W_(s)??e.urlWithParams}));return}}p===0&&(p=g?K_:0),p>=200&&p<300?(r.next(new fl({body:g,headers:u,status:p,statusText:d,url:m})),r.complete()):r.error(new gi({error:g,headers:u,status:p,statusText:d,url:m}))}parseBody(e,i,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(zI,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has(bd)||(i[bd]=Y_),!e.headers.has(ul)){let o=e.detectContentTypeHeader();o!==null&&(i[ul]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r,keepalive:e.keepalive}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),K0=class{};function J0(){}function qI(n){n.then(J0,J0)}function WI(n,t){return t(n)}function QI(n,t,e){return(i,r)=>_t(e,()=>t(i,o=>n(o,r)))}var X_=new re(""),ZI=new re(""),ex=new re("",{providedIn:"root",factory:()=>!0});var _d=(()=>{class n extends po{backend;injector;chain=null;pendingTasks=h(no);contributeToStability=h(ex);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(X_),...this.injector.get(ZI,[])]));this.chain=i.reduceRight((r,o)=>QI(r,o,this.injector),WI)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Ri(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(le(ho),le(Ze))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();var YI=/^\)\]\}',?\n/,KI=RegExp(`^${eg}:`,"m");function JI(n){return"responseURL"in n&&n.responseURL?n.responseURL:KI.test(n.getAllResponseHeaders())?n.getResponseHeader(eg):null}var X0=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new te(-2800,!1);e.keepalive;let i=this.xhrFactory;return(i.\u0275loadImpl?Le(i.\u0275loadImpl()):ue(null)).pipe(Mt(()=>new we(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((P,$)=>s.setRequestHeader(P,$.join(","))),e.headers.has(bd)||s.setRequestHeader(bd,Y_),!e.headers.has(ul)){let P=e.detectContentTypeHeader();P!==null&&s.setRequestHeader(ul,P)}if(e.responseType){let P=e.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let u=e.serializeBody(),d=null,m=()=>{if(d!==null)return d;let P=s.statusText||"OK",$=new Zn(s.getAllResponseHeaders()),z=JI(s)||e.url;return d=new ml({headers:$,status:s.status,statusText:P,url:z}),d},p=()=>{let{headers:P,status:$,statusText:z,url:Ie}=m(),Ce=null;$!==HI&&(Ce=typeof s.response>"u"?s.responseText:s.response),$===0&&($=Ce?K_:0);let Te=$>=200&&$<300;if(e.responseType==="json"&&typeof Ce=="string"){let Re=Ce;Ce=Ce.replace(YI,"");try{Ce=Ce!==""?JSON.parse(Ce):null}catch(vt){Ce=Re,Te&&(Te=!1,Ce={error:vt,text:Ce})}}Te?(o.next(new fl({body:Ce,headers:P,status:$,statusText:z,url:Ie||void 0})),o.complete()):o.error(new gi({error:Ce,headers:P,status:$,statusText:z,url:Ie||void 0}))},g=P=>{let{url:$}=m(),z=new gi({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:$||void 0});o.error(z)},C=!1,_=P=>{C||(o.next(m()),C=!0);let $={type:yi.DownloadProgress,loaded:P.loaded};P.lengthComputable&&($.total=P.total),e.responseType==="text"&&s.responseText&&($.partialText=s.responseText),o.next($)},M=P=>{let $={type:yi.UploadProgress,loaded:P.loaded};P.lengthComputable&&($.total=P.total),o.next($)};return s.addEventListener("load",p),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",_),u!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(u),o.next({type:yi.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",p),s.removeEventListener("timeout",g),e.reportProgress&&(s.removeEventListener("progress",_),u!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(le(rr))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),tx=new re(""),XI="XSRF-TOKEN",ek=new re("",{providedIn:"root",factory:()=>XI}),tk="X-XSRF-TOKEN",nk=new re("",{providedIn:"root",factory:()=>tk}),pl=class{},ik=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ol(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(le(tt),le(ek))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function rk(n,t){let e=n.url.toLowerCase();if(!h(tx)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=h(pl).getToken(),r=h(nk);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var tg=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(tg||{});function ok(n,t){return{\u0275kind:n,\u0275providers:t}}function ng(...n){let t=[GI,X0,_d,{provide:po,useExisting:_d},{provide:ho,useFactory:()=>h(J_,{optional:!0})??h(X0)},{provide:X_,useValue:rk,multi:!0},{provide:tx,useValue:!0},{provide:pl,useClass:ik}];for(let e of n)t.push(...e.\u0275providers);return $i(t)}function ig(){return ok(tg.Fetch,[gd,{provide:J_,useExisting:gd},{provide:ho,useExisting:gd}])}var nx=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(le(tt))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye="primary",kl=Symbol("RouteTitle"),lg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ar(n){return new lg(n)}function ux(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],u=n[o];if(s[0]===":")r[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ak(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Rn(n[e],t[e]))return!1;return!0}function Rn(n,t){let e=n?cg(n):void 0,i=t?cg(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!dx(n[r],t[r]))return!1;return!0}function cg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function dx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function mx(n){return n.length>0?n[n.length-1]:null}function Kn(n){return ap(n)?n:hi(n)?Le(Promise.resolve(n)):ue(n)}var lk={exact:px,subset:hx},fx={exact:ck,subset:uk,ignored:()=>!0};function ix(n,t,e){return lk[e.paths](n.root,t.root,e.matrixParams)&&fx[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function ck(n,t){return Rn(n,t)}function px(n,t,e){if(!or(n.segments,t.segments)||!wd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!px(n.children[i],t.children[i],e))return!1;return!0}function uk(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>dx(n[e],t[e]))}function hx(n,t,e){return gx(n,t,t.segments,e)}function gx(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!or(r,e)||t.hasChildren()||!wd(r,e,i))}else if(n.segments.length===e.length){if(!or(n.segments,e)||!wd(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!hx(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!or(n.segments,r)||!wd(n.segments,r,i)||!n.children[ye]?!1:gx(n.children[ye],t,o,i)}}function wd(n,t,e){return t.every((i,r)=>fx[e](n[r].parameters,i.parameters))}var On=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Me([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ar(this.queryParams),this._queryParamMap}toString(){return fk.serialize(this)}},Me=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sd(this)}},bi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ar(this.parameters),this._parameterMap}toString(){return yx(this)}};function dk(n,t){return or(n,t)&&n.every((e,i)=>Rn(e.parameters,t[i].parameters))}function or(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function mk(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ye&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ye&&(e=e.concat(t(r,i)))}),e}var Al=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>new lr,providedIn:"root"})}return n})(),lr=class{parse(t){let e=new dg(t);return new On(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${hl(t.root,!0)}`,i=gk(t.queryParams),r=typeof t.fragment=="string"?`#${pk(t.fragment)}`:"";return`${e}${i}${r}`}},fk=new lr;function Sd(n){return n.segments.map(t=>yx(t)).join("/")}function hl(n,t){if(!n.hasChildren())return Sd(n);if(t){let e=n.children[ye]?hl(n.children[ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ye&&i.push(`${r}:${hl(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=mk(n,(i,r)=>r===ye?[hl(n.children[ye],!1)]:[`${r}:${hl(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Sd(n)}/${e[0]}`:`${Sd(n)}/(${e.join("//")})`}}function vx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xd(n){return vx(n).replace(/%3B/gi,";")}function pk(n){return encodeURI(n)}function ug(n){return vx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ed(n){return decodeURIComponent(n)}function rx(n){return Ed(n.replace(/\+/g,"%20"))}function yx(n){return`${ug(n.path)}${hk(n.parameters)}`}function hk(n){return Object.entries(n).map(([t,e])=>`;${ug(t)}=${ug(e)}`).join("")}function gk(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${xd(e)}=${xd(r)}`).join("&"):`${xd(e)}=${xd(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var vk=/^[^\/()?;#]+/;function rg(n){let t=n.match(vk);return t?t[0]:""}var yk=/^[^\/()?;=#]+/;function bk(n){let t=n.match(yk);return t?t[0]:""}var _k=/^[^=?&#]+/;function xk(n){let t=n.match(_k);return t?t[0]:""}var Ck=/^[^&#]+/;function wk(n){let t=n.match(Ck);return t?t[0]:""}var dg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ye]=new Me(t,e)),i}parseSegment(){let t=rg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(t),new bi(Ed(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=bk(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=rg(this.remaining);r&&(i=r,this.capture(i))}t[Ed(e)]=Ed(i)}parseQueryParam(t){let e=xk(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=wk(this.remaining);s&&(i=s,this.capture(i))}let r=rx(e),o=rx(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=rg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new te(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ye);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[ye]:new Me([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new te(4011,!1)}};function bx(n){return n.segments.length>0?new Me([],{[ye]:n}):n}function _x(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=_x(r);if(i===ye&&o.segments.length===0&&o.hasChildren())for(let[s,u]of Object.entries(o.children))t[s]=u;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Me(n.segments,t);return Sk(e)}function Sk(n){if(n.numberOfChildren===1&&n.children[ye]){let t=n.children[ye];return new Me(n.segments.concat(t.segments),t.children)}return n}function _i(n){return n instanceof On}function xx(n,t,e=null,i=null){let r=Cx(n);return wx(r,t,e,i)}function Cx(n){let t;function e(o){let s={};for(let d of o.children){let m=e(d);s[d.outlet]=m}let u=new Me(o.url,s);return o===n&&(t=u),u}let i=e(n.root),r=bx(i);return t??r}function wx(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return og(r,r,r,e,i);let o=Ek(t);if(o.toRoot())return og(r,r,new Me([],{}),e,i);let s=Dk(o,r,n),u=s.processChildren?vl(s.segmentGroup,s.index,o.commands):Ex(s.segmentGroup,s.index,o.commands);return og(r,s.segmentGroup,u,e,i)}function Dd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _l(n){return typeof n=="object"&&n!=null&&n.outlets}function og(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([d,m])=>{o[d]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let s;n===t?s=e:s=Sx(n,t,e);let u=bx(_x(s));return new On(u,o,r)}function Sx(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Sx(o,t,e)}),new Me(n.segments,i)}var Td=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Dd(i[0]))throw new te(4003,!1);let r=i.find(_l);if(r&&r!==mx(i))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ek(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Td(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([d,m])=>{u[d]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?e=!0:u===".."?t++:u!=""&&r.push(u))}),r):[...r,o]},[]);return new Td(e,t,i)}var bo=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Dk(n,t,e){if(n.isAbsolute)return new bo(t,!0,0);if(!e)return new bo(t,!1,NaN);if(e.parent===null)return new bo(e,!0,0);let i=Dd(n.commands[0])?0:1,r=e.segments.length-1+i;return Tk(e,r,n.numberOfDoubleDots)}function Tk(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new te(4005,!1);r=i.segments.length}return new bo(i,!1,r-o)}function Ik(n){return _l(n[0])?n[0].outlets:{[ye]:n}}function Ex(n,t,e){if(n??=new Me([],{}),n.segments.length===0&&n.hasChildren())return vl(n,t,e);let i=kk(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Me(n.segments.slice(0,i.pathIndex),{});return o.children[ye]=new Me(n.segments.slice(i.pathIndex),n.children),vl(o,0,r)}else return i.match&&r.length===0?new Me(n.segments,{}):i.match&&!n.hasChildren()?mg(n,t,e):i.match?vl(n,0,r):mg(n,t,e)}function vl(n,t,e){if(e.length===0)return new Me(n.segments,{});{let i=Ik(e),r={};if(Object.keys(i).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=vl(n.children[ye],t,e);return new Me(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Ex(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Me(n.segments,r)}}function kk(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],u=e[i];if(_l(u))break;let d=`${u}`,m=i<e.length-1?e[i+1]:null;if(r>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!sx(d,m,s))return o;i+=2}else{if(!sx(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function mg(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(_l(o)){let d=Ak(o.outlets);return new Me(i,d)}if(r===0&&Dd(e[0])){let d=n.segments[t];i.push(new bi(d.path,ox(e[0]))),r++;continue}let s=_l(o)?o.outlets[ye]:`${o}`,u=r<e.length-1?e[r+1]:null;s&&u&&Dd(u)?(i.push(new bi(s,ox(u))),r+=2):(i.push(new bi(s,{})),r++)}return new Me(i,{})}function Ak(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=mg(new Me([],{}),0,i))}),t}function ox(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function sx(n,t,e){return n==e.path&&Rn(t,e.parameters)}var yl="imperative",lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(lt||{}),qt=class{id;url;constructor(t,e){this.id=t,this.url=e}},cr=class extends qt{type=lt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends qt{urlAfterRedirects;type=lt.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Tt||{}),xl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xl||{}),Fn=class extends qt{reason;code;type=lt.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yn=class extends qt{reason;code;type=lt.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},xo=class extends qt{error;target;type=lt.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cl=class extends qt{urlAfterRedirects;state;type=lt.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class extends qt{urlAfterRedirects;state;type=lt.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends qt{urlAfterRedirects;state;shouldActivate;type=lt.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ad=class extends qt{urlAfterRedirects;state;type=lt.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends qt{urlAfterRedirects;state;type=lt.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class{route;type=lt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rd=class{route;type=lt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fd=class{snapshot;type=lt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Od=class{snapshot;type=lt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{snapshot;type=lt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pd=class{snapshot;type=lt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wl=class{},Co=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Mk(n){return!(n instanceof wl)&&!(n instanceof Co)}function Nk(n,t){return n.providers&&!n._injector&&(n._injector=Xa(n.providers,t,`Route: ${n.path}`)),n._injector??t}function _n(n){return n.outlet||ye}function Rk(n,t){let e=n.filter(i=>_n(i)===t);return e.push(...n.filter(i=>_n(i)!==t)),e}function Ml(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Vd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ml(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Eo(this.rootInjector)}},Eo=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Vd(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(le(Ze))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=fg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=fg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=pg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return pg(t,this._root).map(e=>e.value)}};function fg(n,t){if(n===t.value)return t;for(let e of t.children){let i=fg(n,e);if(i)return i}return null}function pg(n,t){if(n===t.value)return[t];for(let e of t.children){let i=pg(n,e);if(i.length)return i.unshift(t),i}return[]}var zt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function yo(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Sl=class extends jd{snapshot;constructor(t,e){super(t),this.snapshot=e,Cg(this,t)}toString(){return this.snapshot.toString()}};function Dx(n){let t=Fk(n),e=new dt([new bi("",{})]),i=new dt({}),r=new dt({}),o=new dt({}),s=new dt(""),u=new me(e,i,o,s,r,ye,n,t.root);return u.snapshot=t.root,new Sl(new zt(u,[]),t)}function Fk(n){let t={},e={},i={},r="",o=new sr([],t,i,r,e,ye,n,null,{});return new El("",new zt(o,[]))}var me=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,s,u,d){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(pe(m=>m[kl]))??ue(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(t=>ar(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(t=>ar(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ud(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:N(N({},t.params),n.params),data:N(N({},t.data),n.data),resolve:N(N(N(N({},n.data),t.data),r?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},r&&Ix(r)&&(i.resolve[kl]=r.title),i}var sr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kl]}constructor(t,e,i,r,o,s,u,d,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=u,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ar(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ar(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},El=class extends jd{url;constructor(t,e){super(e),this.url=t,Cg(this,e)}toString(){return Tx(this._root)}};function Cg(n,t){t.value._routerState=n,t.children.forEach(e=>Cg(n,e))}function Tx(n){let t=n.children.length>0?` { ${n.children.map(Tx).join(", ")} } `:"";return`${n.value}${t}`}function sg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Rn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Rn(t.params,e.params)||n.paramsSubject.next(e.params),ak(t.url,e.url)||n.urlSubject.next(e.url),Rn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hg(n,t){let e=Rn(n.params,t.params)&&dk(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||hg(n.parent,t.parent))}function Ix(n){return typeof n.title=="string"||n.title===null}var kx=new re(""),Nl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=rt(void 0);parentContexts=h(Eo);location=h(fi);changeDetector=h(mo);inputBinder=h(Gd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new gg(e,u,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ut]})}return n})(),gg=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===me?this.route:t===Eo?this.childContexts:t===kx?this.outletData:this.parent.get(t,e)}},Gd=new re("");var wg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=R({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&v(0,"router-outlet")},dependencies:[Nl],encapsulation:2})}return n})();function Sg(n){let t=n.children&&n.children.map(Sg),e=t?ie(N({},n),{children:t}):N({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ye&&(e.component=wg),e}function Ok(n,t,e){let i=Dl(n,t._root,e?e._root:void 0);return new Sl(i,t)}function Dl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=Lk(n,t,e);return new zt(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(u=>Dl(n,u)),s}}let i=Pk(t.value),r=t.children.map(o=>Dl(n,o));return new zt(i,r)}}function Lk(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Dl(n,i,r);return Dl(n,i)})}function Pk(n){return new me(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}var wo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Ax="ngNavigationCancelingError";function Bd(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=_i(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Mx(!1,Tt.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Mx(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Ax]=!0,e.cancellationCode=t,e}function Vk(n){return Nx(n)&&_i(n.url)}function Nx(n){return!!n&&n[Ax]}var jk=(n,t,e,i)=>pe(r=>(new vg(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),vg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),sg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=yo(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=yo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=yo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=yo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Pd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Od(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(sg(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),sg(u.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},$d=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_o=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Uk(n,t,e){let i=n._root,r=t?t._root:null;return gl(i,r,e,[i.value])}function Bk(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Do(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!wp(n)?n:t.get(n):i}function gl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=yo(t);return n.children.forEach(s=>{$k(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,u])=>bl(u,e.getContext(s),r)),r}function $k(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=Hk(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new $d(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?gl(n,t,u?u.children:null,i,r):gl(n,t,e,i,r),d&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new _o(u.outlet.component,s))}else s&&bl(t,u,r),r.canActivateChecks.push(new $d(i)),o.component?gl(n,null,u?u.children:null,i,r):gl(n,null,e,i,r);return r}function Hk(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!or(n.url,t.url);case"pathParamsOrQueryParamsChange":return!or(n.url,t.url)||!Rn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hg(n,t)||!Rn(n.queryParams,t.queryParams);case"paramsChange":default:return!hg(n,t)}}function bl(n,t,e){let i=yo(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?bl(s,t.children.getContext(o),e):bl(s,null,e):bl(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new _o(t.outlet.component,r)):e.canDeactivateChecks.push(new _o(null,r)):e.canDeactivateChecks.push(new _o(null,r))}function Rl(n){return typeof n=="function"}function Gk(n){return typeof n=="boolean"}function zk(n){return n&&Rl(n.canLoad)}function qk(n){return n&&Rl(n.canActivate)}function Wk(n){return n&&Rl(n.canActivateChild)}function Qk(n){return n&&Rl(n.canDeactivate)}function Zk(n){return n&&Rl(n.canMatch)}function Rx(n){return n instanceof Un||n?.name==="EmptyError"}var Cd=Symbol("INITIAL_VALUE");function So(){return Mt(n=>Wc(n.map(t=>t.pipe(Hn(1),Fi(Cd)))).pipe(pe(t=>{for(let e of t)if(e!==!0){if(e===Cd)return Cd;if(e===!1||Yk(e))return e}return!0}),mt(t=>t!==Cd),Hn(1)))}function Yk(n){return _i(n)||n instanceof wo}function Kk(n,t){return Qe(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?ue(ie(N({},e),{guardsResult:!0})):Jk(s,i,r,n).pipe(Qe(u=>u&&Gk(u)?Xk(i,o,n,t):ue(u)),pe(u=>ie(N({},e),{guardsResult:u})))})}function Jk(n,t,e,i){return Le(n).pipe(Qe(r=>rA(r.component,r.route,e,t,i)),un(r=>r!==!0,!0))}function Xk(n,t,e,i){return Le(t).pipe($n(r=>Hr(tA(r.route.parent,i),eA(r.route,i),iA(n,r.path,e),nA(n,r.route,e))),un(r=>r!==!0,!0))}function eA(n,t){return n!==null&&t&&t(new Ld(n)),ue(!0)}function tA(n,t){return n!==null&&t&&t(new Fd(n)),ue(!0)}function nA(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ue(!0);let r=i.map(o=>ba(()=>{let s=Ml(t)??e,u=Do(o,s),d=qk(u)?u.canActivate(t,n):_t(s,()=>u(t,n));return Kn(d).pipe(un())}));return ue(r).pipe(So())}function iA(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Bk(s)).filter(s=>s!==null).map(s=>ba(()=>{let u=s.guards.map(d=>{let m=Ml(s.node)??e,p=Do(d,m),g=Wk(p)?p.canActivateChild(i,n):_t(m,()=>p(i,n));return Kn(g).pipe(un())});return ue(u).pipe(So())}));return ue(o).pipe(So())}function rA(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(u=>{let d=Ml(t)??r,m=Do(u,d),p=Qk(m)?m.canDeactivate(n,t,e,i):_t(d,()=>m(n,t,e,i));return Kn(p).pipe(un())});return ue(s).pipe(So())}function oA(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return ue(!0);let o=r.map(s=>{let u=Do(s,n),d=zk(u)?u.canLoad(t,e):_t(n,()=>u(t,e));return Kn(d)});return ue(o).pipe(So(),Fx(i))}function Fx(n){return ip(st(t=>{if(typeof t!="boolean")throw Bd(n,t)}),pe(t=>t===!0))}function sA(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return ue(!0);let o=r.map(s=>{let u=Do(s,n),d=Zk(u)?u.canMatch(t,e):_t(n,()=>u(t,e));return Kn(d)});return ue(o).pipe(So(),Fx(i))}var Tl=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Il=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function vo(n){return Br(new Tl(n))}function aA(n){return Br(new te(4e3,!1))}function lA(n){return Br(Mx(!1,Tt.GuardRejected))}var yg=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ue(i);if(r.numberOfChildren>1||!r.children[ye])return aA(`${t.redirectTo}`);r=r.children[ye]}}applyRedirectCommands(t,e,i,r,o){return cA(e,r,o).pipe(pe(s=>{if(s instanceof On)throw new Il(s);let u=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new Il(u);return u}))}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new On(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);i[r]=e[u]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([u,d])=>{s[u]=this.createSegmentGroup(t,d,i,r)}),new Me(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new te(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function cA(n,t,e){if(typeof n=="string")return ue(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:u,outlet:d,params:m,data:p,title:g}=t;return Kn(_t(e,()=>i({params:m,data:p,queryParams:r,fragment:o,routeConfig:s,url:u,outlet:d,title:g})))}var bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uA(n,t,e,i,r){let o=Ox(n,t,e);return o.matched?(i=Nk(t,i),sA(i,t,e,r).pipe(pe(s=>s===!0?o:N({},bg)))):ue(o)}function Ox(n,t,e){if(t.path==="**")return dA(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?N({},bg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||ux)(e,n,t);if(!r)return N({},bg);let o={};Object.entries(r.posParams??{}).forEach(([u,d])=>{o[u]=d.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function dA(n){return{matched:!0,parameters:n.length>0?mx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ax(n,t,e,i){return e.length>0&&pA(n,e,i)?{segmentGroup:new Me(t,fA(i,new Me(e,n.children))),slicedSegments:[]}:e.length===0&&hA(n,e,i)?{segmentGroup:new Me(n.segments,mA(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Me(n.segments,n.children),slicedSegments:e}}function mA(n,t,e,i){let r={};for(let o of e)if(zd(n,t,o)&&!i[_n(o)]){let s=new Me([],{});r[_n(o)]=s}return N(N({},i),r)}function fA(n,t){let e={};e[ye]=t;for(let i of n)if(i.path===""&&_n(i)!==ye){let r=new Me([],{});e[_n(i)]=r}return e}function pA(n,t,e){return e.some(i=>zd(n,t,i)&&_n(i)!==ye)}function hA(n,t,e){return e.some(i=>zd(n,t,i))}function zd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function gA(n,t,e){return t.length===0&&!n.children[e]}var _g=class{};function vA(n,t,e,i,r,o,s="emptyOnly"){return new xg(n,t,e,i,r,s,o).recognize()}var yA=31,xg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,s,u){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.applyRedirects=new yg(this.urlSerializer,this.urlTree)}noMatchError(t){return new te(4002,`'${t.segmentGroup}'`)}recognize(){let t=ax(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(pe(({children:e,rootSnapshot:i})=>{let r=new zt(i,e),o=new El("",r),s=xx(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new sr([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ye,e).pipe(pe(i=>({children:i,rootSnapshot:e})),Bn(i=>{if(i instanceof Il)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Tl?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(pe(s=>s instanceof zt?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Le(o).pipe($n(s=>{let u=i.children[s],d=Rk(e,s);return this.processSegmentGroup(t,d,u,s,r)}),dp((s,u)=>(s.push(...u),s)),ii(null),up(),Qe(s=>{if(s===null)return vo(i);let u=Lx(s);return bA(u),ue(u)}))}processSegment(t,e,i,r,o,s,u){return Le(e).pipe($n(d=>this.processSegmentAgainstRoute(d._injector??t,e,d,i,r,o,s,u).pipe(Bn(m=>{if(m instanceof Tl)return ue(null);throw m}))),un(d=>!!d),Bn(d=>{if(Rx(d))return gA(i,r,o)?ue(new _g):vo(i);throw d}))}processSegmentAgainstRoute(t,e,i,r,o,s,u,d){return _n(i)!==s&&(s===ye||!zd(r,o,i))?vo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,d):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,d):vo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,u){let{matched:d,parameters:m,consumedSegments:p,positionalParamSegments:g,remainingSegments:C}=Ox(e,r,o);if(!d)return vo(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yA&&(this.allowRedirects=!1));let _=new sr(o,m,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,lx(r),_n(r),r.component??r._loadedComponent??null,r,cx(r)),M=Ud(_,u,this.paramsInheritanceStrategy);return _.params=Object.freeze(M.params),_.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(p,r.redirectTo,g,_,t).pipe(Mt($=>this.applyRedirects.lineralizeSegments(r,$)),Qe($=>this.processSegment(t,i,e,$.concat(C),s,!1,u)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let u=uA(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),u.pipe(Mt(d=>d.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Mt(({routes:m})=>{let p=i._loadedInjector??t,{parameters:g,consumedSegments:C,remainingSegments:_}=d,M=new sr(C,g,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,lx(i),_n(i),i.component??i._loadedComponent??null,i,cx(i)),P=Ud(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(P.params),M.data=Object.freeze(P.data);let{segmentGroup:$,slicedSegments:z}=ax(e,C,_,m);if(z.length===0&&$.hasChildren())return this.processChildren(p,m,$,M).pipe(pe(Ce=>new zt(M,Ce)));if(m.length===0&&z.length===0)return ue(new zt(M,[]));let Ie=_n(i)===o;return this.processSegment(p,m,$,z,Ie?ye:o,!0,M).pipe(pe(Ce=>new zt(M,Ce instanceof zt?[Ce]:[])))}))):vo(e)))}getChildConfig(t,e,i){return e.children?ue({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ue({routes:e._loadedRoutes,injector:e._loadedInjector}):oA(t,e,i,this.urlSerializer).pipe(Qe(r=>r?this.configLoader.loadChildren(t,e).pipe(st(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):lA(e))):ue({routes:[],injector:t})}};function bA(n){n.sort((t,e)=>t.value.outlet===ye?-1:e.value.outlet===ye?1:t.value.outlet.localeCompare(e.value.outlet))}function _A(n){let t=n.value.routeConfig;return t&&t.path===""}function Lx(n){let t=[],e=new Set;for(let i of n){if(!_A(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=Lx(i.children);t.push(new zt(i.value,r))}return t.filter(i=>!e.has(i))}function lx(n){return n.data||{}}function cx(n){return n.resolve||{}}function xA(n,t,e,i,r,o){return Qe(s=>vA(n,t,e,i,s.extractedUrl,r,o).pipe(pe(({state:u,tree:d})=>ie(N({},s),{targetSnapshot:u,urlAfterRedirects:d}))))}function CA(n,t){return Qe(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ue(e);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let m of Px(d))s.add(m);let u=0;return Le(s).pipe($n(d=>o.has(d)?wA(d,i,n,t):(d.data=Ud(d,d.parent,n).resolve,ue(void 0))),st(()=>u++),Gr(1),Qe(d=>u===s.size?ue(e):kt))})}function Px(n){let t=n.children.map(e=>Px(e)).flat();return[n,...t]}function wA(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Ix(r)&&(o[kl]=r.title),ba(()=>(n.data=Ud(n,n.parent,e).resolve,SA(o,n,t,i).pipe(pe(s=>(n._resolvedData=s,n.data=N(N({},n.data),s),null)))))}function SA(n,t,e,i){let r=cg(n);if(r.length===0)return ue({});let o={};return Le(r).pipe(Qe(s=>EA(n[s],t,e,i).pipe(un(),st(u=>{if(u instanceof wo)throw Bd(new lr,u);o[s]=u}))),Gr(1),pe(()=>o),Bn(s=>Rx(s)?kt:Br(s)))}function EA(n,t,e,i){let r=Ml(t)??i,o=Do(n,r),s=o.resolve?o.resolve(t,e):_t(r,()=>o(t,e));return Kn(s)}function ag(n){return Mt(t=>{let e=n(t);return e?Le(e).pipe(pe(()=>t)):ue(t)})}var Eg=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ye);return i}getResolvedTitleForRoute(e){return e.data[kl]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>h(Vx),providedIn:"root"})}return n})(),Vx=(()=>{class n extends Eg{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(le(nx))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),To=new re("",{providedIn:"root",factory:()=>({})}),Fl=new re(""),jx=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=h(M0);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ue(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Kn(e.loadComponent()).pipe(pe(Bx),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ri(()=>{this.componentLoaders.delete(e)})),r=new jr(i,()=>new Ue).pipe(Vr());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Ux(i,this.compiler,e,this.onLoadEndListener).pipe(Ri(()=>{this.childrenLoaders.delete(i)})),s=new jr(o,()=>new Ue).pipe(Vr());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ux(n,t,e,i){return Kn(n.loadChildren()).pipe(pe(Bx),Qe(r=>r instanceof Xu||Array.isArray(r)?ue(r):Le(t.compileModuleAsync(r))),pe(r=>{i&&i(n);let o,s,u=!1;return Array.isArray(r)?(s=r,u=!0):(o=r.create(e).injector,s=o.get(Fl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sg),injector:o}}))}function DA(n){return n&&typeof n=="object"&&"default"in n}function Bx(n){return DA(n)?n.default:n}var qd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>h(TA),providedIn:"root"})}return n})(),TA=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$x=new re("");var Hx=new re(""),Gx=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortWithErrorSubject=new Ue;configLoader=h(jx);environmentInjector=h(Ze);destroyRef=h(Ct);urlSerializer=h(Al);rootContexts=h(Eo);location=h(ir);inputBindingEnabled=h(Gd,{optional:!0})!==null;titleStrategy=h(Eg);options=h(To,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=h(qd);createViewTransition=h($x,{optional:!0});navigationErrorHandler=h(Hx,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Nd(r)),i=r=>this.events.next(new Rd(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(ie(N({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))}setupNavigations(e){return this.transitions=new dt(null),this.transitions.pipe(mt(i=>i!==null),Mt(i=>{let r=!1;return ue(i).pipe(Mt(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Tt.SupersededByNewNavigation),kt;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&u!=="reload"){let d="";return this.events.next(new Yn(o.id,this.urlSerializer.serialize(o.rawUrl),d,xl.IgnoredSameUrlNavigation)),o.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ue(o).pipe(Mt(d=>(this.events.next(new cr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?kt:Promise.resolve(d))),xA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),st(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=ie(N({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Cl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:d,extractedUrl:m,source:p,restoredState:g,extras:C}=o,_=new cr(d,this.urlSerializer.serialize(m),p,g);this.events.next(_);let M=Dx(this.rootComponentType).snapshot;return this.currentTransition=i=ie(N({},o),{targetSnapshot:M,urlAfterRedirects:m,extras:ie(N({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ue(i)}else{let d="";return this.events.next(new Yn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,xl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kt}}),st(o=>{let s=new Id(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),pe(o=>(this.currentTransition=i=ie(N({},o),{guards:Uk(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),Kk(this.environmentInjector,o=>this.events.next(o)),st(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Bd(this.urlSerializer,o.guardsResult);let s=new kd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Tt.GuardRejected),!1)),ag(o=>{if(o.guards.canActivateChecks.length!==0)return ue(o).pipe(st(s=>{let u=new Ad(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}),Mt(s=>{let u=!1;return ue(s).pipe(CA(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(s,"",Tt.NoDataFromResolver)}}))}),st(s=>{let u=new Md(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}))}),ag(o=>{let s=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(st(m=>{u.component=m}),pe(()=>{})));for(let m of u.children)d.push(...s(m));return d};return Wc(s(o.targetSnapshot.root)).pipe(ii(null),Hn(1))}),ag(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,u=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return u?Le(u).pipe(pe(()=>i)):ue(i)}),pe(o=>{let s=Ok(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=ie(N({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,i}),st(()=>{this.events.next(new wl)}),jk(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Hn(1),Zc(new we(o=>{let s=i.abortController.signal,u=()=>o.next();return s.addEventListener("abort",u),()=>s.removeEventListener("abort",u)}).pipe(mt(()=>!r&&!i.targetRouterState),st(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Tt.Aborted)}))),st({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Zc(this.transitionAbortWithErrorSubject.pipe(st(o=>{throw o}))),Ri(()=>{r||this.cancelNavigationTransition(i,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(o=>{if(this.destroyed)return i.resolve(!1),kt;if(r=!0,Nx(o))this.events.next(new Fn(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),Vk(o)?this.events.next(new Co(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new xo(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let u=_t(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(u instanceof wo){let{message:d,cancellationCode:m}=Bd(this.urlSerializer,u);this.events.next(new Fn(i.id,this.urlSerializer.serialize(i.extractedUrl),d,m)),this.events.next(new Co(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return kt}))}))}cancelNavigationTransition(e,i,r){let o=new Fn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IA(n){return n!==yl}var zx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>h(kA),providedIn:"root"})}return n})(),Hd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},kA=(()=>{class n extends Hd{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qx=(()=>{class n{urlSerializer=h(Al);options=h(To,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=h(ir);urlHandlingStrategy=h(qd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new On;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=r??o;return s instanceof On?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=Dx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>h(AA),providedIn:"root"})}return n})(),AA=(()=>{class n extends qx{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof cr?this.updateStateMemento():e instanceof Yn?this.commitTransition(i):e instanceof Cl?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof wl?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Fn&&e.code!==Tt.SupersededByNewNavigation&&e.code!==Tt.Redirect?this.restoreHistory(i):e instanceof xo?this.restoreHistory(i,!0):e instanceof xn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||o){let u=this.browserPageId,d=N(N({},s),this.generateNgRouterState(r,u));this.location.replaceState(e,"",d)}else{let u=N(N({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",u)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dg(n,t){n.events.pipe(mt(e=>e instanceof xn||e instanceof Fn||e instanceof xo||e instanceof Yn),pe(e=>e instanceof xn||e instanceof Yn?0:(e instanceof Fn?e.code===Tt.Redirect||e.code===Tt.SupersededByNewNavigation:!1)?2:1),mt(e=>e!==2),Hn(1)).subscribe(()=>{t()})}var MA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},L=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=h(w0);stateManager=h(qx);options=h(To,{optional:!0})||{};pendingTasks=h(Wn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=h(Gx);urlSerializer=h(Al);location=h(ir);urlHandlingStrategy=h(qd);injector=h(Ze);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=h(zx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=h(Fl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!h(Gd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Fn&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xn)this.navigated=!0;else if(i instanceof Co){let s=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),d=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IA(r.source)},s);this.scheduleNavigation(u,yl,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Mk(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let d=N({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(e);this.scheduleNavigation(u,i,s,o).catch(d=>{this.injector.get(Rt)(d)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Sg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:u,preserveFragment:d}=i,m=d?this.currentUrlTree.fragment:s,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let C=r?r.snapshot:this.routerState.snapshot.root;g=Cx(C)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),g=this.currentUrlTree.root}return wx(g,e,p,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=_i(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,yl,null,i)}navigate(e,i={skipLocationChange:!1}){return RA(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=N({},MA):i===!1?r=N({},NA):r=i,_i(e))return ix(this.currentUrlTree,e,r);let o=this.parseUrl(e);return ix(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let u,d,m;s?(u=s.resolve,d=s.reject,m=s.promise):m=new Promise((g,C)=>{u=g,d=C});let p=this.pendingTasks.add();return Dg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(g=>Promise.reject(g))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RA(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new te(4008,!1)}var ae=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=D(null);get href(){return Et(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;applicationErrorHandler=h(Rt);options=h(To,{optional:!0});constructor(e,i,r,o,s,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=u,this.reactiveHref.set(h(new ad("href"),{optional:!0}));let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area"||!!(typeof customElements=="object"&&customElements.get(d)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof xn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_i(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let u=this.urlTree;if(u===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d)?.catch(m=>{this.applicationErrorHandler(m)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:_i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(ce(L),ce(me),Za("tabindex"),ce(yn),ce(nt),ce(Nn))};static \u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&y("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&nr("href",r.reactiveHref(),t0)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fo],replaceUrl:[2,"replaceUrl","replaceUrl",fo],routerLink:"routerLink"},features:[Ut]})}return n})(),Tg=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ze;constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(u=>{u instanceof xn&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe($r()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Le(e).pipe($r()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=OA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(ce(L),ce(nt),ce(yn),ce(mo),ce(ae,8))};static \u0275dir=Ne({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&I0(o,ae,5),i&2){let s;co(s=uo())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ut]})}return n})();function OA(n){return!!n.paths}var LA=new re("");function Ig(n,...t){return $i([{provide:Fl,multi:!0,useValue:n},[],{provide:me,useFactory:PA,deps:[L]},{provide:td,multi:!0,useFactory:jA},t.map(e=>e.\u0275providers)])}function PA(n){return n.routerState.root}function VA(n,t){return{\u0275kind:n,\u0275providers:t}}function jA(){let n=h(ht);return t=>{let e=n.get(tr);if(t!==e.components[0])return;let i=n.get(L),r=n.get(UA);n.get(BA)===1&&i.initialNavigation(),n.get($A,null,{optional:!0})?.setUpPreloading(),n.get(LA,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var UA=new re("",{factory:()=>new Ue}),BA=new re("",{providedIn:"root",factory:()=>1});var $A=new re("");function kg(){return VA(6,[{provide:Nn,useClass:V0}])}var Wx=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};var Ol=class extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}},Wd=class extends Ol{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Qd=class extends Ol{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Zd=class extends Ol{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Ag=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Ag||{});var HA=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},Ll=class{constructor(t,{headers:e={},customFetch:i,region:r=Ag.Any}={}){this.url=t,this.headers=e,this.region=r,this.fetch=Wx(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return HA(this,void 0,void 0,function*(){try{let{headers:r,method:o,body:s}=e,u={},{region:d}=e;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let m;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=s):typeof s=="string"?(u["Content-Type"]="text/plain",m=s):typeof FormData<"u"&&s instanceof FormData?m=s:(u["Content-Type"]="application/json",m=JSON.stringify(s)));let p=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:m}).catch(M=>{throw new Wd(M)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new Qd(p);if(!p.ok)throw new Zd(p);let C=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return C==="application/json"?_=yield p.json():C==="application/octet-stream"?_=yield p.blob():C==="text/event-stream"?_=p:C==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null}}catch(r){return{data:null,error:r}}})}};var sC=Fw(oC(),1),{PostgrestClient:aC,PostgrestQueryBuilder:PZ,PostgrestFilterBuilder:VZ,PostgrestTransformBuilder:jZ,PostgrestBuilder:UZ}=sC.default;var lC="2.10.2";var cC={"X-Client-Info":`realtime-js/${lC}`},uC="1.0.0",Xd=1e4,dC=1e3,Io=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Io||{}),Wt=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Wt||{}),tn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(tn||{}),Bg=function(n){return n.websocket="websocket",n}(Bg||{}),ur=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(ur||{});var em=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){let r=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,u=i.decode(t.slice(s,s+r));s=s+r;let d=i.decode(t.slice(s,s+o));s=s+o;let m=JSON.parse(i.decode(t.slice(s,t.byteLength)));return{ref:null,topic:u,event:d,payload:m}}};var ko=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Pe=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Pe||{}),Hg=(n,t,e={})=>{var i;let r=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((o,s)=>(o[s]=tM(s,n,t,r),o),{})},tM=(n,t,e,i)=>{let r=t.find(u=>u.name===n),o=r?.type,s=e[n];return o&&!i.includes(o)?mC(o,s):$g(s)},mC=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return oM(t,e)}switch(n){case Pe.bool:return nM(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return iM(t);case Pe.json:case Pe.jsonb:return rM(t);case Pe.timestamp:return sM(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return $g(t);default:return $g(t)}},$g=n=>n,nM=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},iM=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},rM=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},oM=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,i=n[e];if(n[0]==="{"&&i==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(u=>mC(t,u))}return n},sM=n=>typeof n=="string"?n.replace(" ","T"):n,tm=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Ao=class{constructor(t,e,i={},r=Xd){this.channel=t,this.event=e,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Gl=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{let{onJoin:o,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,r,o,s),this.pendingDiffs.forEach(d=>{this.state=n.syncDiff(this.state,d,o,s)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},r=>{let{onJoin:o,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=n.syncDiff(this.state,r,o,s),u())}),this.onJoin((r,o,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:s})}),this.onLeave((r,o,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,r){let o=this.cloneDeep(t),s=this.transformState(e),u={},d={};return this.map(o,(m,p)=>{s[m]||(d[m]=p)}),this.map(s,(m,p)=>{let g=o[m];if(g){let C=p.map($=>$.presence_ref),_=g.map($=>$.presence_ref),M=p.filter($=>_.indexOf($.presence_ref)<0),P=g.filter($=>C.indexOf($.presence_ref)<0);M.length>0&&(u[m]=M),P.length>0&&(d[m]=P)}else u[m]=p}),this.syncDiff(o,{joins:u,leaves:d},i,r)}static syncDiff(t,e,i,r){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(u,d)=>{var m;let p=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(d),p.length>0){let g=t[u].map(_=>_.presence_ref),C=p.filter(_=>g.indexOf(_.presence_ref)<0);t[u].unshift(...C)}i(u,p,d)}),this.map(s,(u,d)=>{let m=t[u];if(!m)return;let p=d.map(g=>g.presence_ref);m=m.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=m,r(u,m,d),m.length===0&&delete t[u]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{let r=t[i];return"metas"in r?e[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[i]=r,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zl=class n{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,tn.join,this.params,this.timeout),this.rejoinTimer=new ko(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new Gl(this),this.broadcastEndpointURL=tm(this.socket.endPoint)+"/api/broadcast"}subscribe(t,e=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:u}}=this.params;this._onError(p=>t&&t("CHANNEL_ERROR",p)),this._onClose(()=>t&&t("CLOSED"));let d={},m={broadcast:o,presence:s,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&r!==void 0?r:[],private:u};this.socket.accessToken&&(d.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:p})=>{var g;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){t&&t("SUBSCRIBED");return}else{let C=this.bindings.postgres_changes,_=(g=C?.length)!==null&&g!==void 0?g:0,M=[];for(let P=0;P<_;P++){let $=C[P],{filter:{event:z,schema:Ie,table:Ce,filter:Te}}=$,Re=p&&p[P];if(Re&&Re.event===z&&Re.schema===Ie&&Re.table===Ce&&Re.filter===Te)M.push(Object.assign(Object.assign({},$),{id:Re.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t("SUBSCRIBED");return}}).receive("error",p=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this._on(t,e,i)}async send(t,e={}){var i,r;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:s}=t,u={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s}]})};try{let d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,u,d;let m=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{let r=new Ao(this,tn.leave,{},t);r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,e,i){let r=new AbortController,o=setTimeout(()=>r.abort(),i),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:r.signal}));return clearTimeout(o),s}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ao(this,t,e,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var r,o;let s=t.toLocaleLowerCase(),{close:u,error:d,leave:m,join:p}=tn;if(i&&[u,d,m,p].indexOf(s)>=0&&i!==this._joinRef())return;let C=this._onMessage(s,e,i);if(e&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var M,P,$;return((M=_.filter)===null||M===void 0?void 0:M.event)==="*"||(($=(P=_.filter)===null||P===void 0?void 0:P.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===s}).map(_=>_.callback(C,i)):(o=this.bindings[s])===null||o===void 0||o.filter(_=>{var M,P,$,z,Ie,Ce;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){let Te=_.id,Re=(M=_.filter)===null||M===void 0?void 0:M.event;return Te&&((P=e.ids)===null||P===void 0?void 0:P.includes(Te))&&(Re==="*"||Re?.toLocaleLowerCase()===(($=e.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{let Te=(Ie=(z=_?.filter)===null||z===void 0?void 0:z.event)===null||Ie===void 0?void 0:Ie.toLocaleLowerCase();return Te==="*"||Te===((Ce=e?.event)===null||Ce===void 0?void 0:Ce.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof C=="object"&&"ids"in C){let M=C.data,{schema:P,table:$,commit_timestamp:z,type:Ie,errors:Ce}=M;C=Object.assign(Object.assign({},{schema:P,table:$,commit_timestamp:z,eventType:Ie,new:{},old:{},errors:Ce}),this._getPayloadRecords(M))}_.callback(C,i)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){let r=t.toLocaleLowerCase(),o={type:r,filter:e,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(t,e){let i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&n.isEqual(r.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Hg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Hg(t.columns,t.old_record)),e}};var lM=()=>{},cM=typeof WebSocket<"u",ql=class{constructor(t,e){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cC,this.params={},this.timeout=Xd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lM,this.conn=null,this.sendBuffer=[],this.serializer=new em,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...u)=>import("./chunk-MAQGHWLI.js").then(({default:d})=>d(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${t}/${Bg.websocket}`,this.httpEndpoint=tm(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let r=(i=e?.params)===null||i===void 0?void 0:i.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ko(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(cM){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Gg(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KJ2TFMNC.js").then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Io.connecting:return ur.Connecting;case Io.open:return ur.Open;case Io.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}channel(t,e={config:{}}){let i=new zl(`realtime:${t}`,e,this);return this.channels.push(i),i}push(t){let{topic:e,event:i,payload:r,ref:o}=t,s=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${e} ${i} (${o})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(tn.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uC}))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:i,event:r,payload:o,ref:s}=e;(s&&s===this.pendingHeartbeatRef||r===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${r} ${s&&"("+s+")"||""}`,o),this.channels.filter(u=>u._isMember(i)).forEach(u=>u._trigger(r,o,s)),this.stateChangeCallbacks.message.forEach(u=>u(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let i=t.match(/\?/)?"&":"?",r=new URLSearchParams(e);return`${t}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(dC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Gg=class{constructor(t,e,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Io.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}};var Mo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ye(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var nm=class extends Mo{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},dr=class extends Mo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var uM=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},rm=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},fC=()=>uM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MAQGHWLI.js")).Response:Response}),im=n=>{if(Array.isArray(n))return n.map(e=>im(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,i])=>{let r=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[r]=im(i)}),t};var mr=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},zg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),dM=(n,t,e)=>mr(void 0,void 0,void 0,function*(){let i=yield fC();n instanceof i&&!e?.noResolveJson?n.json().then(r=>{t(new nm(zg(r),n.status||500))}).catch(r=>{t(new dr(zg(r),r))}):t(new dr(zg(n),n))}),mM=(n,t,e,i)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i&&(r.body=JSON.stringify(i)),Object.assign(Object.assign({},r),e))};function Wl(n,t,e,i,r,o){return mr(this,void 0,void 0,function*(){return new Promise((s,u)=>{n(e,mM(t,i,r,o)).then(d=>{if(!d.ok)throw d;return i?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>dM(d,u,i))})})}function No(n,t,e,i){return mr(this,void 0,void 0,function*(){return Wl(n,"GET",t,e,i)})}function Ln(n,t,e,i,r){return mr(this,void 0,void 0,function*(){return Wl(n,"POST",t,i,r,e)})}function pC(n,t,e,i,r){return mr(this,void 0,void 0,function*(){return Wl(n,"PUT",t,i,r,e)})}function hC(n,t,e,i){return mr(this,void 0,void 0,function*(){return Wl(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),i)})}function om(n,t,e,i,r){return mr(this,void 0,void 0,function*(){return Wl(n,"DELETE",t,i,r,e)})}var Ot=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},fM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},sm=class{constructor(t,e={},i,r){this.url=t,this.headers=e,this.bucketId=i,this.fetch=rm(r)}uploadOrUpdate(t,e,i,r){return Ot(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},gC),r),u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),d=s.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",i),d&&o.append("metadata",this.encodeMetadata(d))):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",s.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=i,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),r?.headers&&(u=Object.assign(Object.assign({},u),r.headers));let m=this._removeEmptyFolders(e),p=this._getFinalPath(m),g=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:o,headers:u},s?.duplex?{duplex:s.duplex}:{})),C=yield g.json();return g.ok?{data:{path:m,id:C.Id,fullPath:C.Key},error:null}:{data:null,error:C}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}upload(t,e,i){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,r){return Ot(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",e);try{let d,m=Object.assign({upsert:gC.upsert},r),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",m.cacheControl)):(d=i,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);let g=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:p}),C=yield g.json();return g.ok?{data:{path:o,fullPath:C.Key},error:null}:{data:null,error:C}}catch(d){if(Ye(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,e){return Ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=Object.assign({},this.headers);e?.upsert&&(r["x-upsert"]="true");let o=yield Ln(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),s=new URL(this.url+o.url),u=s.searchParams.get("token");if(!u)throw new Mo("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}update(t,e,i){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e,i){return Ot(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}copy(t,e,i){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createSignedUrl(t,e,i){return Ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=yield Ln(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},i?.transform?{transform:i.transform}:{}),{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createSignedUrls(t,e,i){return Ot(this,void 0,void 0,function*(){try{let r=yield Ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}download(t,e){return Ot(this,void 0,void 0,function*(){let r=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let u=this._getFinalPath(t);return{data:yield(yield No(this.fetch,`${this.url}/${r}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ye(u))return{data:null,error:u};throw u}})}info(t){return Ot(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let i=yield No(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:im(i),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}exists(t){return Ot(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield hC(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ye(i)&&i instanceof dr){let r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,e){let i=this._getFinalPath(t),r=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);let u=typeof e?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(e?.transform||{});d!==""&&r.push(d);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${m}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}list(t,e,i){return Ot(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},fM),e),{prefix:t||""});return{data:yield Ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var vC="2.7.0";var yC={"X-Client-Info":`storage-js/${vC}`};var Ro=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},am=class{constructor(t,e={},i){this.url=t,this.headers=Object.assign(Object.assign({},yC),e),this.fetch=rm(i)}listBuckets(){return Ro(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return Ro(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Ro(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return Ro(this,void 0,void 0,function*(){try{return{data:yield pC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Ro(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ro(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}};var Ql=class extends am{constructor(t,e={},i){super(t,e,i)}from(t){return new sm(this.url,this.headers,t,this.fetch)}};var bC="2.45.4";var Zl="";typeof Deno<"u"?Zl="deno":typeof document<"u"?Zl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zl="react-native":Zl="node";var pM={"X-Client-Info":`supabase-js-${Zl}/${bC}`},_C={headers:pM},xC={schema:"public"},CC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wC={};Nv();var hM=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},gM=n=>{let t;return n?t=n:typeof fetch>"u"?t=Av:t=fetch,(...e)=>t(...e)},vM=()=>typeof Headers>"u"?Mv:Headers,SC=(n,t,e)=>{let i=gM(e),r=vM();return(o,s)=>hM(void 0,void 0,void 0,function*(){var u;let d=(u=yield t())!==null&&u!==void 0?u:n,m=new r(s?.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),i(o,Object.assign(Object.assign({},s),{headers:m}))})};var yM=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})};function EC(n){return n.replace(/\/$/,"")}function DC(n,t){let{db:e,auth:i,realtime:r,global:o}=n,{db:s,auth:u,realtime:d,global:m}=t,p={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign({},m),o),accessToken:()=>yM(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}var lm="2.65.0";var TC="http://localhost:9999",IC="supabase.auth.token";var kC={"X-Client-Info":`gotrue-js/${lm}`},qg=10;var Yl="X-Supabase-Api-Version",Wg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function AC(n){return Math.round(Date.now()/1e3)+n}function MC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var nn=()=>typeof document<"u",fr={tested:!1,writable:!1},xi=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fr.tested)return fr.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),fr.tested=!0,fr.writable=!0}catch{fr.tested=!0,fr.writable=!1}return fr.writable};function cm(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((r,o)=>{t[o]=r})}catch{}return e.searchParams.forEach((i,r)=>{t[r]=i}),t}var um=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MAQGHWLI.js").then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},NC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Qg=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},Jl=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Xl=async(n,t)=>{await n.removeItem(t)};function bM(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",i,r,o,s,u,d,m,p=0;for(n=n.replace("-","+").replace("_","/");p<n.length;)s=t.indexOf(n.charAt(p++)),u=t.indexOf(n.charAt(p++)),d=t.indexOf(n.charAt(p++)),m=t.indexOf(n.charAt(p++)),i=s<<2|u>>4,r=(u&15)<<4|d>>2,o=(d&3)<<6|m,e=e+String.fromCharCode(i),d!=64&&r!=0&&(e=e+String.fromCharCode(r)),m!=64&&o!=0&&(e=e+String.fromCharCode(o));return e}var Kl=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Kl.promiseConstructor=Promise;function Zg(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let i=e[1];return JSON.parse(bM(i))}async function RC(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function FC(n,t){return new Promise((i,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!t(o,null,s)){i(s);return}}catch(s){if(!t(o,s)){r(s);return}}})()})}function _M(n){return("0"+n.toString(16)).substr(-2)}function xM(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length,r="";for(let o=0;o<56;o++)r+=e.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(t),Array.from(t,_M).join("")}async function CM(n){let e=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",e),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}function wM(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function SM(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await CM(n);return wM(e)}async function pr(n,t,e=!1){let i=xM(),r=i;e&&(r+="/PASSWORD_RECOVERY"),await Qg(n,`${t}-code-verifier`,r);let o=await SM(i);return[o,i===o?"plain":"s256"]}var EM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OC(n){let t=n.headers.get(Yl);if(!t||!t.match(EM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}var ec=class extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}};function _e(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var dm=class extends ec{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}};function LC(n){return _e(n)&&n.name==="AuthApiError"}var Fo=class extends ec{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Jn=class extends ec{constructor(t,e,i,r){super(t,i,r),this.name=e,this.status=i}},rn=class extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function PC(n){return _e(n)&&n.name==="AuthSessionMissingError"}var Oo=class extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},hr=class extends Jn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},gr=class extends Jn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tc=class extends Jn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Lo=class extends Jn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function mm(n){return _e(n)&&n.name==="AuthRetryableFetchError"}var nc=class extends Jn{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}};var DM=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},vr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),TM=[502,503,504];async function VC(n){var t;if(!NC(n))throw new Lo(vr(n),0);if(TM.includes(n.status))throw new Lo(vr(n),n.status);let e;try{e=await n.json()}catch(o){throw new Fo(vr(o),o)}let i,r=OC(n);if(r&&r.getTime()>=Wg["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new nc(vr(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new rn}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new nc(vr(e),n.status,e.weak_password.reasons);throw new dm(vr(e),n.status||500,i)}var IM=(n,t,e,i)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),e))};async function Ee(n,t,e,i){var r;let o=Object.assign({},i?.headers);o[Yl]||(o[Yl]=Wg["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);let s=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(s.redirect_to=i.redirectTo);let u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await kM(n,t,e+u,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function kM(n,t,e,i,r,o){let s=IM(t,i,r,o),u;try{u=await n(e,Object.assign({},s))}catch(d){throw console.error(d),new Lo(vr(d),0)}if(u.ok||await VC(u),i?.noResolveJson)return u;try{return await u.json()}catch(d){await VC(d)}}function Xn(n){var t;let e=null;AM(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=AC(n.expires_in)));let i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:i},error:null}}function Yg(n){let t=Xn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Pn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function jC(n){return{data:n,error:null}}function UC(n){let{action_link:t,email_otp:e,hashed_token:i,redirect_to:r,verification_type:o}=n,s=DM(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:e,hashed_token:i,redirect_to:r,verification_type:o},d=Object.assign({},s);return{data:{properties:u,user:d},error:null}}function BC(n){return n}function AM(n){return n.access_token&&n.refresh_token&&n.expires_in}var MM=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},Po=class{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=um(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Pn})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{let{options:e}=t,i=MM(t,["options"]),r=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:UC,redirectTo:e?.redirectTo})}catch(e){if(_e(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pn})}catch(e){if(_e(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,r,o,s,u,d;try{let m={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:BC});if(p.error)throw p.error;let g=await p.json(),C=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(M=>{let P=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(M.split(";")[1].split("=")[1]);m[`${$}Page`]=P}),m.total=parseInt(C)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pn})}catch(e){if(_e(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Pn})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Pn})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{let{data:e,error:i}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:e,error:i}}catch(e){if(_e(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}}};var $C={getItem:n=>xi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{xi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{xi()&&globalThis.localStorage.removeItem(n)}};function Kg(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function HC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var yr={debug:!!(globalThis&&xi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ic=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},fm=class extends ic{};async function Jg(n,t,e){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await e()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(t===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fm(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(yr.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}})}HC();var NM={url:TC,storageKey:IC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},rc=30*1e3,GC=3;async function zC(n,t,e){return await e()}var Xg=(()=>{class n{constructor(e){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},NM),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Po({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=um(o.fetch),this.lock=o.lock||zC,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:nn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Jg:this.lock=zC,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:xi()?this.storage=$C:(this.memoryStorage={},this.storage=Kg(this.memoryStorage)):(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let e=nn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:i,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),r?.message==="Identity is already linked"||r?.message==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});let{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return _e(e)?{error:e}:{error:new Fo("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{let s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Xn}),{data:u,error:d}=s;if(d||!u)return{data:{user:null,session:null},error:d};let m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var i,r,o;try{let s;if("email"in e){let{email:g,password:C,options:_}=e,M=null,P=null;this.flowType==="pkce"&&([M,P]=await pr(this.storage,this.storageKey)),s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:C,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:M,code_challenge_method:P},xform:Xn})}else if("phone"in e){let{phone:g,password:C,options:_}=e;s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:C,data:(r=_?.data)!==null&&r!==void 0?r:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Xn})}else throw new hr("You must provide either an email or phone number and a password");let{data:u,error:d}=s;if(d||!u)return{data:{user:null,session:null},error:d};let m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let i;if("email"in e){let{email:s,password:u,options:d}=e;i=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Yg})}else if("phone"in e){let{phone:s,password:u,options:d}=e;i=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Yg})}else throw new hr("You must provide either an email or phone number and a password");let{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let i=await Jl(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{let{data:s,error:u}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xn});if(await Xl(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:u})}catch(s){if(_e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{let{options:i,provider:r,token:o,access_token:s,nonce:u}=e,d=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:u,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Xn}),{data:m,error:p}=d;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Oo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,o,s,u;try{if("email"in e){let{email:d,options:m}=e,p=null,g=null;this.flowType==="pkce"&&([p,g]=await pr(this.storage,this.storageKey));let{error:C}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:C}}if("phone"in e){let{phone:d,options:m}=e,{data:p,error:g}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new hr("You must provide either an email or phone number.")}catch(d){if(_e(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var i,r;try{let o,s;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);let{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Xn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");let m=u.session,p=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var i,r,o;try{let s=null,u=null;return this.flowType==="pkce"&&([s,u]=await pr(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:u}),headers:this.headers,xform:jC})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new rn;let{error:o}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let i=`${this.url}/resend`;if("email"in e){let{email:r,type:o,options:s}=e,{error:u}=await Ee(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){let{phone:r,type:o,options:s}=e,{data:u,error:d}=await Ee(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new hr("You must provide either an email or phone number and a type")}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,i=await Jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,g))})}return{data:{session:e},error:null}}let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pn}):await this._useSession(async i=>{var r,o,s;let{data:u,error:d}=i;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Pn})})}catch(i){if(_e(i))return PC(i)&&(await this._removeSession(),await Xl(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{let{data:o,error:s}=r;if(s)throw s;if(!o.session)throw new rn;let u=o.session,d=null,m=null;this.flowType==="pkce"&&e.email!=null&&([d,m]=await pr(this.storage,this.storageKey));let{data:p,error:g}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:m}),jwt:u.access_token,xform:Pn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Zg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rn;let i=Date.now()/1e3,r=i,o=!0,s=null,u=Zg(e.access_token);if(u.exp&&(r=u.exp,o=r<=i),o){let{session:d,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!d)return{data:{user:null,session:null},error:null};s=d}else{let{data:d,error:m}=await this._getUser(e.access_token);if(m)throw m;s={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(i){if(_e(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){let{data:u,error:d}=i;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new rn;let{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e){try{if(!nn())throw new gr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new gr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new tc("Not a valid PKCE flow url.");let i=cm(window.location.href);if(e){if(!i.code)throw new tc("No code detected.");let{data:Ce,error:Te}=await this._exchangeCodeForSession(i.code);if(Te)throw Te;let Re=new URL(window.location.href);return Re.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Re.toString()),{data:{session:Ce.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new gr(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:u,expires_in:d,expires_at:m,token_type:p}=i;if(!s||!d||!u||!p)throw new gr("No session defined in URL");let g=Math.round(Date.now()/1e3),C=parseInt(d),_=g+C;m&&(_=parseInt(m));let M=_-g;M*1e3<=rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${M}s, should have been closer to ${C}s`);let P=_-C;g-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,_,g):g-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,_,g);let{data:$,error:z}=await this._getUser(s);if(z)throw z;let Ie={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:C,expires_at:_,refresh_token:u,token_type:p,user:$.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Ie,redirectType:i.type},error:null}}catch(i){if(_e(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){let e=cm(window.location.href);return!!(nn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=cm(window.location.href),i=await Jl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;let{data:o,error:s}=i;if(s)return{error:s};let u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){let{error:d}=await this.admin.signOut(u,e);if(d&&!(LC(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Xl(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let i=MC(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{let{data:{session:s},error:u}=i;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await pr(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{let{data:r,error:o}=await this._useSession(async s=>{var u,d,m,p,g;let{data:C,error:_}=s;if(_)throw _;let M=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",M,{headers:this.headers,jwt:(g=(p=C.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return nn()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(_e(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;let{data:s,error:u}=i;if(u)throw u;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){let i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{let r=Date.now();return await FC(async o=>(o>0&&await RC(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xn})),(o,s)=>{let u=200*Math.pow(2,o);return s&&mm(s)&&Date.now()+u-r<rc})}catch(r){if(this._debug(i,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),nn()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let r=await Jl(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<o+qg;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${qg}s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:u}=await this._callRefreshToken(r.refresh_token);u&&(console.error(u),mm(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Kl;let{data:s,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!s.session)throw new rn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let d={session:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(o,"error",s),_e(s)){let u={session:null,error:s};return mm(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});let s=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,i)}catch(m){s.push(m)}});if(await Promise.all(u),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Xl(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),rc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async i=>{let{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((r.expires_at*1e3-e)/rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${rc}ms, refresh threshold is ${GC} ticks`),o<=GC&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ic)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){let o=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let[s,u]=await pr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(r?.queryParams){let s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;return s?{data:null,error:s}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;let{data:s,error:u}=i;if(u)return{data:null,error:u};let d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="phone"&&delete m.totp,e.factorType==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;if(s)return{data:null,error:s};let{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(i){if(_e(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;return s?{data:null,error:s}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(_e(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){let{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){let{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};let r=e?.factors||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),s=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let u=this._decodeJWT(o.access_token),d=null;u.aal&&(d=u.aal);let m=d;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");let g=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}}return n.nextInstanceID=0,n})();var RM=Xg,ev=RM;var pm=class extends ev{constructor(t){super(t)}};var FM=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(p){try{m(i.next(p))}catch(g){s(g)}}function d(p){try{m(i.throw(p))}catch(g){s(g)}}function m(p){p.done?o(p.value):r(p.value).then(u,d)}m((i=i.apply(n,t||[])).next())})},hm=class{constructor(t,e,i){var r,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let u=EC(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;let d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:xC,realtime:wC,auth:Object.assign(Object.assign({},CC),{storageKey:d}),global:_C},p=DC(i??{},m);this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=SC(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new aC(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Ll(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ql(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return FM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:r,storageKey:o,flowType:s,lock:u,debug:d},m,p){var g;let C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pm({url:this.authUrl,headers:Object.assign(Object.assign({},C),m),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:r,flowType:s,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:(g="Authorization"in this.headers)!==null&&g!==void 0?g:!1})}_initRealtimeClient(t){return new ql(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i?.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var qC=(n,t,e)=>new hm(n,t,e);var tv={supabase:{url:"https://bikvtscvufcqgiyclyhp.supabase.co",key:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpa3Z0c2N2dWZjcWdpeWNseWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NTcxMTQsImV4cCI6MjA4NTQzMzExNH0.iNcxNatweZnysyybDFWA7F9N-LA3P9Ao5R4CoC93y1c"}};var br=class br{constructor(){this.client=qC(tv.supabase.url,tv.supabase.key)}};br.\u0275fac=function(e){return new(e||br)},br.\u0275prov=ee({token:br,factory:br.\u0275fac,providedIn:"root"});var Vo=br;var OM=[{id:"DefaultLabel",name:"Standard Asset Label",size:"3.5 x 1.9 in",labels:1,fields:4,tag:!1,is1D:!0,is2D:!0,logo:!1,title:!0},{id:"Dymo11354",name:"Dymo LabelWriter 11354",size:"57 x 32 mm",labels:1,fields:3,tag:!1,is1D:!1,is2D:!0,logo:!1,title:!0},{id:"Avery5160",name:"Avery 5160",size:"2.625 x 1 in",labels:30,fields:3,tag:!1,is1D:!1,is2D:!0,logo:!1,title:!0}],LM={smtp:{serverName:"",description:"",serverAddress:"",port:587,userName:"",password:"",securityType:"TLS",sender:""},testRecipient:"",visualFaceMobileEnrollment:!1,qr:!1},PM={enabled:!1,isAd:!0,serverUrl:"ldaps://ad.example.com",startTls:!0,ignoreCertErrors:!1,bindDn:"CN=AssetBind,CN=Users,DC=example,DC=com",baseDn:"DC=example,DC=com",searchFilter:"&(objectClass=user)(objectCategory=person)(!(userAccountControl:1.2.840.113556.1.4.803:=2))",authQuery:"sAMAccountName=",emailDomain:"example.com",activeFlag:"userAccountControl",activeFlagValue:"512",defaultGroup:"Staff",map:{username:"sAMAccountName",firstName:"givenName",lastName:"sn",email:"mail",employeeId:"employeeID",dept:"department",jobTitle:"title",phone:"telephoneNumber",manager:"manager",location:"physicalDeliveryOfficeName"}},VM={enabled:!1,tenantId:"",clientId:"",syncIntervalHours:24,autoCreateUsers:!0,intuneEnabled:!1},_r=class _r{constructor(){this.supabase=h(Vo).client;this._assets=D([]);this.assets=this._assets.asReadonly();this._accessories=D([]);this.accessories=this._accessories.asReadonly();this._components=D([]);this.components=this._components.asReadonly();this._consumables=D([]);this.consumables=this._consumables.asReadonly();this._licenses=D([]);this.licenses=this._licenses.asReadonly();this._users=D([]);this.users=this._users.asReadonly();this._statusLabels=D([]);this.statusLabels=this._statusLabels.asReadonly();this._locations=D([]);this.locations=this._locations.asReadonly();this._departments=D([]);this.departments=this._departments.asReadonly();this._sbus=D([]);this.sbus=this._sbus.asReadonly();this._assetModels=D([]);this.assetModels=this._assetModels.asReadonly();this._categories=D([]);this.categories=this._categories.asReadonly();this._manufacturers=D([]);this.manufacturers=this._manufacturers.asReadonly();this._suppliers=D([]);this.suppliers=this._suppliers.asReadonly();this._companies=D([]);this.companies=this._companies.asReadonly();this._authUsers=D([]);this.authUsers=this._authUsers.asReadonly();this._systemModules=D([]);this.systemModules=this._systemModules.asReadonly();this._assetCheckouts=D([]);this.assetCheckouts=this._assetCheckouts.asReadonly();this._licenseCheckouts=D([]);this.licenseCheckouts=this._licenseCheckouts.asReadonly();this._accessoryCheckouts=D([]);this.accessoryCheckouts=this._accessoryCheckouts.asReadonly();this._consumableCheckouts=D([]);this.consumableCheckouts=this._consumableCheckouts.asReadonly();this._componentCheckouts=D([]);this.componentCheckouts=this._componentCheckouts.asReadonly();this.assetCategories=oe(()=>this.categories().map(t=>t.name).sort());this._labelSettings=D({selectedTemplate:"DefaultLabel",title:"Property of (COMPANY)",useAssetLogo:!1,barcode1DType:"C128",barcode2DType:"QRCODE",barcode2DPrefix:"https://demo.snipeitapp.com/hardware/",barcode2DContent:"asset_tag",fieldStartOffset:0,fields:[{options:[{label:"Serial",dataSource:"serial_number"}]},{options:[{label:"Model",dataSource:"model"}]},{options:[{label:"Asset Tag",dataSource:"asset_tag"}]}]});this.labelSettings=this._labelSettings.asReadonly();this._labelTemplates=D(OM);this.labelTemplates=this._labelTemplates.asReadonly();this._emailSettings=D(LM);this.emailSettings=this._emailSettings.asReadonly();this._notificationSettings=D({recipients:[]});this.notificationSettings=this._notificationSettings.asReadonly();this._generalSettings=D({appName:"Asset Manager Pro",companyName:"MA & HOLDING",theme:"dark"});this.generalSettings=this._generalSettings.asReadonly();this._ldapSettings=D(PM);this.ldapSettings=this._ldapSettings.asReadonly();this._azureAdSettings=D(VM);this.azureAdSettings=this._azureAdSettings.asReadonly();this.fetchAllData();let t=localStorage.getItem("ldap_settings");t&&this._ldapSettings.set(JSON.parse(t));let e=localStorage.getItem("azure_settings");e&&this._azureAdSettings.set(JSON.parse(e));let i=localStorage.getItem("label_settings");i&&this._labelSettings.set(JSON.parse(i))}async fetchAllData(){await Promise.all([this.fetchAssets(),this.fetchGeneric("accessories",this._accessories),this.fetchGeneric("components",this._components),this.fetchGeneric("consumables",this._consumables),this.fetchGeneric("licenses",this._licenses),this.fetchGeneric("users",this._users),this.fetchGeneric("status_labels",this._statusLabels),this.fetchGeneric("locations",this._locations),this.fetchGeneric("departments",this._departments),this.fetchGeneric("sbus",this._sbus),this.fetchGeneric("asset_models",this._assetModels),this.fetchGeneric("categories",this._categories),this.fetchGeneric("manufacturers",this._manufacturers),this.fetchGeneric("suppliers",this._suppliers),this.fetchGeneric("companies",this._companies),this.fetchGeneric("auth_users",this._authUsers),this.fetchGeneric("system_modules",this._systemModules),this.fetchGeneric("asset_checkouts",this._assetCheckouts),this.fetchGeneric("license_checkouts",this._licenseCheckouts),this.fetchGeneric("accessory_checkouts",this._accessoryCheckouts),this.fetchGeneric("consumable_checkouts",this._consumableCheckouts),this.fetchGeneric("component_checkouts",this._componentCheckouts),this.fetchEmailSettings(),this.fetchNotificationSettings(),this.fetchGeneralSettings()])}async fetchGeneric(t,e,i="*"){let{data:r,error:o}=await this.supabase.from(t).select(i);o?console.error(`Error fetching ${t}:`,o):e.set(r)}fetchAssets(){return this.fetchGeneric("assets",this._assets,"*, assigned_to:users!assets_assigned_to_id_fkey(*), status:status_labels(*), model:asset_models(*), category:categories(*), location:locations(*), sbu:sbus(*), department:departments(*)")}async checkoutAsset(t,e){let i=this.getAssetById(t),r=this.getUserById(e);if(!i)return alert("Error: Asset not found."),!1;if(!r)return alert("Error: User not found."),!1;if(i.assigned_to)return alert("Error: Asset is already assigned."),!1;let o=this.statusLabels().find(m=>m.status_type==="deployable"&&m.name==="Deployed");if(o||(o=this.statusLabels().find(m=>m.name==="Deployed")),!await this.updateAsset(ie(N({},i),{assigned_to:r,status:o||i.status})))return!1;let u=ie(N({},r),{assets:(r.assets||0)+1});await this.updateUser(u);let{error:d}=await this.supabase.from("asset_checkouts").insert([{assetId:t,userId:e,userName:r.name,checkoutDate:new Date().toISOString().split("T")[0]}]);return d?console.error("Error logging checkout:",d):await this.fetchGeneric("asset_checkouts",this._assetCheckouts),!0}async checkinAsset(t){console.log("Check-in initiated for asset:",t);let e=this.getAssetById(t);if(!e){console.error("Asset not found");return}if(!e.assigned_to){console.error("Asset is not assigned");return}let i=this.getUserById(e.assigned_to.id);if(i){let o=ie(N({},i),{assets:Math.max(0,(i.assets||0)-1)});await this.updateUser(o)}let r=this.statusLabels().find(o=>o.name==="Ready to Deploy");if(r||(r=this.statusLabels().find(o=>o.name==="Ready"||o.status_type==="deployable")),!r){console.error("No deployable status found in list:",this.statusLabels()),alert('Error: No "Ready to Deploy" status found configuration.');return}console.log("Setting status to:",r.name),await this.updateAsset(ie(N({},e),{assigned_to:null,status:r})),console.log("Check-in complete.")}async checkoutLicense(t,e){let i=this.getLicenseById(t),r=this.getUserById(e);if(!i||!r||i.usedSeats>=i.totalSeats)return;await this.updateLicense(ie(N({},i),{usedSeats:i.usedSeats+1}));let o=ie(N({},r),{licenses:(r.licenses||0)+1});await this.updateUser(o);let{error:s}=await this.supabase.from("license_checkouts").insert([{licenseId:t,userId:e,userName:r.name,checkoutDate:new Date().toISOString().split("T")[0]}]);s?console.error(s):await this.fetchGeneric("license_checkouts",this._licenseCheckouts)}async checkoutAccessory(t,e){let i=this.getAccessoryById(t),r=this.getUserById(e);if(!i||!r||i.available<=0)return;await this.updateAccessory(ie(N({},i),{available:i.available-1}));let o=ie(N({},r),{accessories:(r.accessories||0)+1});await this.updateUser(o);let{error:s}=await this.supabase.from("accessory_checkouts").insert([{accessoryId:t,userId:e,userName:r.name,checkoutDate:new Date().toISOString().split("T")[0]}]);s?console.error(s):await this.fetchGeneric("accessory_checkouts",this._accessoryCheckouts)}async checkoutConsumable(t,e){let i=this.getConsumableById(t),r=this.getUserById(e);if(!i||!r||i.available<=0)return;await this.updateConsumable(ie(N({},i),{available:i.available-1}));let{error:o}=await this.supabase.from("consumable_checkouts").insert([{consumableId:t,userId:e,userName:r.name,checkoutDate:new Date().toISOString().split("T")[0]}]);o?console.error(o):await this.fetchGeneric("consumable_checkouts",this._consumableCheckouts)}async checkoutComponent(t,e){let i=this.getComponentById(t),r=this.getUserById(e);if(!i||!r||i.available<=0)return;await this.updateComponent(ie(N({},i),{available:i.available-1}));let{error:o}=await this.supabase.from("component_checkouts").insert([{componentId:t,userId:e,userName:r.name,checkoutDate:new Date().toISOString().split("T")[0]}]);o?console.error(o):await this.fetchGeneric("component_checkouts",this._componentCheckouts)}async addAsset(t){let C=t,{status:e,model:i,category:r,location:o,sbu:s,department:u,assigned_to:d}=C,m=Di(C,["status","model","category","location","sbu","department","assigned_to"]),p=ie(N({},m),{status_id:e.id,model_id:i.id,category_id:r.id,location_id:o.id,sbu_id:s.id,department_id:u.id,assigned_to_id:d?.id||null,user_id:d?.id||null}),{error:g}=await this.supabase.from("assets").insert([p]);g?console.error(g):await this.fetchAssets()}async addUser(t){try{console.warn("addUser (Auth) called. Consider using addPeopleUser for Employee directory."),await this.addPeopleUser(t)}catch(e){throw console.error("Error in addUser:",e),e}}async addPeopleUser(t){let e={name:t.name,username:t.username,email:t.email,phone:t.phone,department:t.department,job_title:t.jobTitle,company_name:t.companyName,office_location:t.officeLocation,manager:t.manager,notes:t.notes||"",assets:0,licenses:0,accessories:0,consumables:0},{error:i}=await this.supabase.from("users").insert([e]);if(i)throw console.error("Error adding user to users table:",i),i;await this.fetchGeneric("users",this._users)}async addGeneric(t,e,i){let{error:r}=await this.supabase.from(t).insert([e]);r?console.error(r):await i()}getAssetById(t){return this.assets().find(e=>e.id===t)}getAccessoryById(t){return this.accessories().find(e=>e.id===t)}getComponentById(t){return this.components().find(e=>e.id===t)}getConsumableById(t){return this.consumables().find(e=>e.id===t)}getLicenseById(t){return this.licenses().find(e=>e.id===t)}getUserById(t){return this.users().find(e=>e.id===t)}getStatusLabelById(t){return this.statusLabels().find(e=>e.id===t)}getAssetModelById(t){return this.assetModels().find(e=>e.id===t)}getCategoryById(t){return this.categories().find(e=>e.id===t)}getManufacturerById(t){return this.manufacturers().find(e=>e.id===t)}getSupplierById(t){return this.suppliers().find(e=>e.id===t)}getDepartmentById(t){return this.departments().find(e=>e.id===t)}getLocationById(t){return this.locations().find(e=>e.id===t)}getCompanyById(t){return this.companies().find(e=>e.id===t)}getSbuById(t){return this.sbus().find(e=>e.id===t)}getAuthUserById(t){return this.authUsers().find(e=>e.id===t)}async updateAsset(t){let _=t,{id:e,status:i,model:r,category:o,location:s,sbu:u,department:d,assigned_to:m}=_,p=Di(_,["id","status","model","category","location","sbu","department","assigned_to"]),g=ie(N({},p),{status_id:i.id,model_id:r.id,category_id:o.id,location_id:s.id,sbu_id:u.id,department_id:d.id,assigned_to_id:m?.id||null,user_id:m?.id||null}),{error:C}=await this.supabase.from("assets").update(g).eq("id",e);return C?(console.error("Update Asset Error:",C),alert(`Failed to save changes: ${C.message}`),!1):(await this.fetchAssets(),!0)}async updateGeneric(t,e,i){let u=e,{id:r}=u,o=Di(u,["id"]),{error:s}=await this.supabase.from(t).update(o).eq("id",r);s?console.error(s):await i()}updateAccessory(t){return this.updateGeneric("accessories",t,this.fetchGeneric.bind(this,"accessories",this._accessories))}updateComponent(t){return this.updateGeneric("components",t,this.fetchGeneric.bind(this,"components",this._components))}updateConsumable(t){return this.updateGeneric("consumables",t,this.fetchGeneric.bind(this,"consumables",this._consumables))}updateLicense(t){return this.updateGeneric("licenses",t,this.fetchGeneric.bind(this,"licenses",this._licenses))}async updateUser(t){let{id:e}=t,i={name:t.name,username:t.username,email:t.email,phone:t.phone,department:t.department,job_title:t.jobTitle,company_name:t.companyName,office_location:t.officeLocation,manager:t.manager,assets:t.assets,licenses:t.licenses,accessories:t.accessories,consumables:t.consumables??0},{error:r}=await this.supabase.from("users").update(i).eq("id",e);r?console.error("Error updating user:",r):await this.fetchGeneric("users",this._users)}updateStatusLabel(t){return this.updateGeneric("status_labels",t,this.fetchGeneric.bind(this,"status_labels",this._statusLabels))}updateAssetModel(t){return this.updateGeneric("asset_models",t,this.fetchGeneric.bind(this,"asset_models",this._assetModels))}updateCategory(t){return this.updateGeneric("categories",t,this.fetchGeneric.bind(this,"categories",this._categories))}updateManufacturer(t){return this.updateGeneric("manufacturers",t,this.fetchGeneric.bind(this,"manufacturers",this._manufacturers))}updateSupplier(t){return this.updateGeneric("suppliers",t,this.fetchGeneric.bind(this,"suppliers",this._suppliers))}updateDepartment(t){return this.updateGeneric("departments",t,this.fetchGeneric.bind(this,"departments",this._departments))}updateLocation(t){return this.updateGeneric("locations",t,this.fetchGeneric.bind(this,"locations",this._locations))}updateCompany(t){return this.updateGeneric("companies",t,this.fetchGeneric.bind(this,"companies",this._companies))}updateSbu(t){return this.updateGeneric("sbus",t,this.fetchGeneric.bind(this,"sbus",this._sbus))}updateAuthUser(t){return this.updateGeneric("auth_users",t,this.fetchGeneric.bind(this,"auth_users",this._authUsers))}addStatusLabel(t){return this.addGeneric("status_labels",t,this.fetchGeneric.bind(this,"status_labels",this._statusLabels))}addAssetModel(t){return this.addGeneric("asset_models",t,this.fetchGeneric.bind(this,"asset_models",this._assetModels))}addCategory(t){return this.addGeneric("categories",t,this.fetchGeneric.bind(this,"categories",this._categories))}addManufacturer(t){return this.addGeneric("manufacturers",t,this.fetchGeneric.bind(this,"manufacturers",this._manufacturers))}addSupplier(t){return this.addGeneric("suppliers",t,this.fetchGeneric.bind(this,"suppliers",this._suppliers))}addDepartment(t){return this.addGeneric("departments",t,this.fetchGeneric.bind(this,"departments",this._departments))}addLocation(t){return this.addGeneric("locations",t,this.fetchGeneric.bind(this,"locations",this._locations))}addCompany(t){return this.addGeneric("companies",t,this.fetchGeneric.bind(this,"companies",this._companies))}addSbu(t){return this.addGeneric("sbus",t,this.fetchGeneric.bind(this,"sbus",this._sbus))}async addAuthUser(t){console.error("addAuthUser is not fully implemented for Supabase Auth. Users should be created via Supabase and linked.")}async deleteGeneric(t,e,i){try{let{error:r,count:o}=await this.supabase.from(t).delete({count:"exact"}).match({id:e});if(r){r.code==="23503"?alert("Deletion failed: This item is still being used by other records (e.g., it is checked out to a user or is part of an asset)."):alert(`A database error occurred: ${r.message}`);return}if(o===0){alert("Could not delete the item. It may have been deleted already, or you might not have the required permissions.");return}if(o!==null&&o>0){i.update(s=>s.filter(u=>u.id!==e));return}alert("An unexpected response was received from the server. The deletion could not be confirmed. Please refresh the page and try again.")}catch(r){let o=r instanceof Error?r.message:"An unknown error occurred.";alert(`A critical application error occurred: ${o}`)}}deleteAsset(t){return this.deleteGeneric("assets",t,this._assets)}deleteAccessory(t){return this.deleteGeneric("accessories",t,this._accessories)}deleteComponent(t){return this.deleteGeneric("components",t,this._components)}deleteConsumable(t){return this.deleteGeneric("consumables",t,this._consumables)}deleteLicense(t){return this.deleteGeneric("licenses",t,this._licenses)}deleteUser(t){return this.deleteGeneric("users",t,this._users)}deleteStatusLabel(t){return this.deleteGeneric("status_labels",t,this._statusLabels)}deleteAssetModel(t){return this.deleteGeneric("asset_models",t,this._assetModels)}deleteCategory(t){return this.deleteGeneric("categories",t,this._categories)}deleteManufacturer(t){return this.deleteGeneric("manufacturers",t,this._manufacturers)}deleteSupplier(t){return this.deleteGeneric("suppliers",t,this._suppliers)}deleteDepartment(t){return this.deleteGeneric("departments",t,this._departments)}deleteLocation(t){return this.deleteGeneric("locations",t,this._locations)}deleteCompany(t){return this.deleteGeneric("companies",t,this._companies)}deleteSbu(t){return this.deleteGeneric("sbus",t,this._sbus)}deleteAuthUser(t){return this.deleteGeneric("auth_users",t,this._authUsers)}async fetchGeneralSettings(){let{data:t,error:e}=await this.supabase.from("general_settings").select("*").eq("id",1).single();e?console.error("Error fetching general settings:",e):t&&this._generalSettings.set({id:t.id,appName:t.app_name,companyName:t.company_name,theme:t.theme||"dark"})}async fetchEmailSettings(){let{data:t,error:e}=await this.supabase.from("email_settings").select("*").eq("id",1).single();e?console.error("Error fetching email settings:",e):t&&this._emailSettings.set(t)}async fetchNotificationSettings(){let{data:t,error:e}=await this.supabase.from("notification_settings").select("*").eq("id",1).single();e?console.error("Error fetching notification settings:",e):t&&(t.recipients||(t.recipients=[]),this._notificationSettings.set(t))}async updateEmailSettings(t){let o=t,{id:e}=o,i=Di(o,["id"]),{error:r}=await this.supabase.from("email_settings").upsert(N({id:1},i));r?console.error("Error updating email settings:",r):this._emailSettings.set(t)}async addNotificationRecipient(t){let i=this.notificationSettings().recipients||[];if(i.includes(t))return;let r=[...i,t],{error:o}=await this.supabase.from("notification_settings").upsert({id:1,recipients:r});o?console.error("Error adding recipient:",o):this._notificationSettings.update(s=>ie(N({},s),{recipients:r}))}async removeNotificationRecipient(t){let r=(this.notificationSettings().recipients||[]).filter(s=>s!==t),{error:o}=await this.supabase.from("notification_settings").upsert({id:1,recipients:r});o?console.error("Error removing recipient:",o):this._notificationSettings.update(s=>ie(N({},s),{recipients:r}))}updateLabelSettings(t){this._labelSettings.set(t),localStorage.setItem("label_settings",JSON.stringify(t))}async updateGeneralSettings(t){let o=t,{id:e}=o,i=Di(o,["id"]),{error:r}=await this.supabase.from("general_settings").upsert({id:1,app_name:i.appName,company_name:i.companyName,theme:i.theme||"dark"});r?(console.error("Error updating general settings:",r),alert(`Failed to save settings: ${r.message}`)):await this.fetchGeneralSettings()}updateLdapSettings(t){this._ldapSettings.set(t),localStorage.setItem("ldap_settings",JSON.stringify(t))}updateAzureAdSettings(t){this._azureAdSettings.set(t),localStorage.setItem("azure_settings",JSON.stringify(t))}testLdapConnection(t){return new Promise(e=>setTimeout(()=>e({success:!0,message:"Connection to LDAP server verified successfully (SIMULATED)."}),1500))}};_r.\u0275fac=function(e){return new(e||_r)},_r.\u0275prov=ee({token:_r,factory:_r.\u0275fac,providedIn:"root"});var V=_r;var xr=class xr{constructor(){this.router=h(L);this.supabase=h(Vo).client;this.isAuthenticated=D(null);this.currentUser=D(null);let t=setTimeout(()=>{this.isAuthenticated()===null&&(console.warn("Auth check timed out. Defaulting to logged out to show Login screen."),this.isAuthenticated.set(!1))},1e3);this.supabase.auth.getSession().then(({data:{session:e}})=>{clearTimeout(t),e?.user?this.fetchAndSetUser(e.user):(this.isAuthenticated.set(!1),this.currentUser.set(null))}).catch(e=>{clearTimeout(t),console.error("Auth session check failed:",e),this.isAuthenticated.set(!1)}),this.supabase.auth.onAuthStateChange((e,i)=>{e==="SIGNED_IN"&&i?.user?this.fetchAndSetUser(i.user):e==="SIGNED_OUT"&&(this.isAuthenticated.set(!1),this.currentUser.set(null),this.router.navigate(["/login"]))})}async fetchAndSetUser(t){try{let{data:e,error:i}=await this.supabase.from("auth_users").select("*").eq("auth_id",t.id).single();if(i||!e){console.warn("Profile missing. Auto-creating default Admin profile for dev environment.");let{error:r}=await this.supabase.from("auth_users").insert([{auth_id:t.id,email:t.email,username:t.email?.split("@")[0]||"User",role:"Admin",name:"Dev User"}]);if(r){console.error("Failed to auto-create profile:",r),alert("Login successful, but your user profile is not configured. Auto-creation failed."),await this.supabase.auth.signOut(),this.isAuthenticated.set(!1);return}let{data:o}=await this.supabase.from("auth_users").select("*").eq("auth_id",t.id).single();this.currentUser.set(o),this.isAuthenticated.set(!0),(this.router.url==="/login"||this.router.url==="/")&&this.router.navigate(["/dashboard"])}else this.currentUser.set(e),this.isAuthenticated.set(!0),(this.router.url==="/login"||this.router.url==="/")&&this.router.navigate(["/dashboard"])}catch(e){console.error("Unexpected error in fetchAndSetUser:",e),this.isAuthenticated.set(!1)}}async login(t,e){try{let{error:i}=await this.supabase.auth.signInWithPassword({email:t,password:e});return i?(console.error("Login error:",i.message),i.message):null}catch(i){return i.message||"An unexpected error occurred during login."}}async logout(){let{error:t}=await this.supabase.auth.signOut();t&&console.error("Error logging out:",t)}isAdmin(){let t=this.currentUser();return t?.role==="Admin"||t?.role==="Super Admin"}};xr.\u0275fac=function(e){return new(e||xr)},xr.\u0275prov=ee({token:xr,factory:xr.\u0275fac,providedIn:"root"});var on=xr;var Cr=class Cr{constructor(){this.sbuFilter=D("all")}setSbuFilter(t){this.sbuFilter.set(t)}};Cr.\u0275fac=function(e){return new(e||Cr)},Cr.\u0275prov=ee({token:Cr,factory:Cr.\u0275fac,providedIn:"root"});var sn=Cr;function jM(n,t){n&1&&(a(0,"h3",31),c(1,"Settings"),l(),a(2,"a",32,0),c(4,"General Settings"),l(),a(5,"a",33,1),c(7,"Status Labels"),l(),a(8,"a",34,2),c(10,"Asset Models"),l(),a(11,"a",35,3),c(13,"Categories"),l(),a(14,"a",36,4),c(16,"Manufacturers"),l(),a(17,"a",37,5),c(19,"Suppliers"),l(),a(20,"a",38,6),c(22,"Departments"),l(),a(23,"a",39,7),c(25,"Locations"),l(),a(26,"a",40,8),c(28,"Companies"),l(),a(29,"a",41,9),c(31,"SBUs"),l(),a(32,"a",42),c(33," \u2190 Back to Main Menu "),l())}function UM(n,t){if(n&1&&(a(0,"a",71,21),A(),a(2,"svg",44),v(3,"path",72),l(),c(4," Data Management "),l()),n&2){let e=St(1);se("bg-slate-700",e.isActive)("text-white",e.isActive),f(2),se("text-white",e.isActive)}}function BM(n,t){if(n&1&&(a(0,"a",43,10),A(),a(2,"svg",44),v(3,"path",45),l(),c(4," Dashboard "),l(),j(),a(5,"a",46,11),A(),a(7,"svg",44),v(8,"path",47),l(),c(9," Assets "),l(),j(),a(10,"a",48,12),A(),a(12,"svg",49),v(13,"path",50),l(),c(14," Licenses "),l(),j(),a(15,"a",51,13),A(),a(17,"svg",49),v(18,"path",52),l(),c(19," Accessories "),l(),j(),a(20,"a",53,14),A(),a(22,"svg",49),v(23,"path",54),l(),c(24," Consumables "),l(),j(),a(25,"a",55,8),A(),a(27,"svg",49),v(28,"path",56),l(),c(29," Components "),l(),j(),a(30,"a",57,15),A(),a(32,"svg",49),v(33,"path",58),l(),c(34," People "),l(),j(),a(35,"a",59,16),A(),a(37,"svg",49),v(38,"path",60),l(),c(39," Reports "),l(),j(),a(40,"a",61,17),A(),a(42,"svg",49),v(43,"path",62),l(),c(44," AMS/FAR Check "),l(),j(),a(45,"a",63,18),A(),a(47,"svg",49),v(48,"path",64),l(),c(49," AMS 1.0 & 2.0 Check "),l(),j(),a(50,"a",65,19),A(),a(52,"svg",49),v(53,"path",66),l(),c(54," QR Sticker "),l(),T(55,UM,5,6,"a",67),j(),a(56,"a",68,20),A(),a(58,"svg",49),v(59,"path",69)(60,"path",70),l(),c(61," Settings "),l()),n&2){let e=St(1),i=St(6),r=St(11),o=St(16),s=St(21),u=St(26),d=St(31),m=St(36),p=St(41),g=St(46),C=St(51),_=St(57),M=b();se("bg-slate-700",e.isActive)("text-white",e.isActive),f(2),se("text-white",e.isActive),f(3),se("bg-slate-700",i.isActive)("text-white",i.isActive),f(2),se("text-white",i.isActive),f(3),se("bg-slate-700",r.isActive)("text-white",r.isActive),f(2),se("text-white",r.isActive),f(3),se("bg-slate-700",o.isActive)("text-white",o.isActive),f(2),se("text-white",o.isActive),f(3),se("bg-slate-700",s.isActive)("text-white",s.isActive),f(2),se("text-white",s.isActive),f(3),se("bg-slate-700",u.isActive)("text-white",u.isActive),f(2),se("text-white",u.isActive),f(3),se("bg-slate-700",d.isActive)("text-white",d.isActive),f(2),se("text-white",d.isActive),f(3),se("bg-slate-700",m.isActive)("text-white",m.isActive),f(2),se("text-white",m.isActive),f(3),se("bg-slate-700",p.isActive)("text-white",p.isActive),f(2),se("text-white",p.isActive),f(3),se("bg-slate-700",g.isActive)("text-white",g.isActive),f(2),se("text-white",g.isActive),f(3),se("bg-slate-700",C.isActive)("text-white",C.isActive),f(2),se("text-white",C.isActive),f(3),I(M.isAdminOrSuperAdmin()?55:-1),f(),se("bg-slate-700",_.isActive)("text-white",_.isActive),f(2),se("text-white",_.isActive)}}function $M(n,t){if(n&1){let e=O();a(0,"div",30)(1,"div",73)(2,"span",74),c(3),l()(),a(4,"div",75)(5,"p",76),c(6),l(),a(7,"p",77),c(8),l()(),a(9,"button",78),y("click",function(){w(e);let r=b();return S(r.onLogout())}),A(),a(10,"svg",79),v(11,"path",80),l()()()}if(n&2){let e=t;f(3),E(e.username.charAt(0).toUpperCase()),f(3),E(e.username),f(2),E(e.role)}}var jo=class jo{constructor(){this.isVisible=rt.required();this.toggleSidebar=Gt();this.assetService=h(V);this.authService=h(on);this.filterService=h(sn);this.router=h(L);this.sbus=this.assetService.sbus;this.sbuFilter=this.filterService.sbuFilter;this.currentUser=this.authService.currentUser;this.appName=oe(()=>this.assetService.generalSettings().appName);this.filteredAssets=oe(()=>{let t=this.assetService.assets(),e=this.sbuFilter();return e==="all"?t:t.filter(i=>i.sbu.name===e)});this.categoryTotals=oe(()=>{let e=this.filteredAssets().reduce((r,o)=>{let s=o.name||"Other";return r[s]=(r[s]||0)+1,r},{}),i=["Laptop","Desktop","Monitor","Printer"];return Object.entries(e).map(([r,o])=>({name:r,count:o})).filter(r=>i.includes(r.name)).sort((r,o)=>i.indexOf(r.name)-i.indexOf(o.name))});this.isAdminOrSuperAdmin=oe(()=>{let t=this.currentUser();return t?.role==="Admin"||t?.role==="Super Admin"})}isSettingsRouteActive(){return this.router.url.startsWith("/settings")}onSbuFilterChange(t){let e=t.target;this.filterService.setSbuFilter(e.value)}onLogout(){this.authService.logout()}onToggleSidebar(){this.toggleSidebar.emit()}getCategoryIcon(t){let e=t.toLowerCase();return e.includes("laptop")?"laptop":e.includes("desktop")?"desktop":e.includes("monitor")?"monitor":e.includes("printer")?"printer":"other"}};jo.\u0275fac=function(e){return new(e||jo)},jo.\u0275cmp=R({type:jo,selectors:[["app-sidebar"]],inputs:{isVisible:[1,"isVisible"]},outputs:{toggleSidebar:"toggleSidebar"},decls:12,vars:13,consts:[["rlaGen","routerLinkActive"],["rlaStatus","routerLinkActive"],["rlaModels","routerLinkActive"],["rlaCats","routerLinkActive"],["rlaManu","routerLinkActive"],["rlaSupp","routerLinkActive"],["rlaDep","routerLinkActive"],["rlaLoc","routerLinkActive"],["rlaComp","routerLinkActive"],["rlaSbu","routerLinkActive"],["rla1","routerLinkActive"],["rla2","routerLinkActive"],["rlaLic","routerLinkActive"],["rlaAcc","routerLinkActive"],["rlaCons","routerLinkActive"],["rlaPeop","routerLinkActive"],["rlaRep","routerLinkActive"],["rlaAms","routerLinkActive"],["rlaAmsCheck","routerLinkActive"],["rlaQR","routerLinkActive"],["rlaSettings","routerLinkActive"],["rla3","routerLinkActive"],[1,"bg-slate-900","border-slate-700/50","flex-shrink-0","flex","flex-col","transition-all","duration-300","ease-in-out","overflow-hidden"],[1,"flex-1","flex","flex-col","overflow-y-auto"],[1,"px-4","py-5","flex","items-center","border-slate-700/50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-8","w-8","text-sky-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"ml-2","text-xl","font-bold","text-white"],[1,"px-4","py-6","space-y-1"],[1,"flex-shrink-0","p-4","border-slate-700/50"],[1,"flex","items-center"],[1,"px-4","pt-2","pb-2","text-xs","font-semibold","uppercase","tracking-wider","text-slate-500"],["routerLink","/settings/users","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/status-labels","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/asset-models","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/categories","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/manufacturers","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/suppliers","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/departments","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/locations","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/companies","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/settings/sbus","routerLinkActive","bg-slate-700 text-white",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["routerLink","/dashboard",1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","mt-4","border-t","border-slate-700","pt-4","text-sky-400","hover:text-sky-300"],["routerLink","/dashboard","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mr-3","h-6","w-6","text-slate-400","group-hover:text-slate-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/assets","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["routerLink","/licenses","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"mr-3","h-6","w-6","text-slate-400","group-hover:text-slate-300"],["stroke-linecap","round","stroke-linejoin","round","d","M5 5v14a2 2 0 002 2h10a2 2 0 002-2V7l-4-4H7a2 2 0 00-2 2zm5 0v4h4"],["routerLink","/accessories","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M19 14v-2a2 2 0 00-2-2H7a2 2 0 00-2 2v2m14-2v4a2 2 0 01-2 2H7a2 2 0 01-2-2v-4m14-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v3m14 2h-1M5 12H4m16-4V5a2 2 0 00-2-2H5a2 2 0 00-2 2v3m4 0h10"],["routerLink","/consumables","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["routerLink","/components","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"],["routerLink","/people","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.125-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.125-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["routerLink","/reports","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"],["routerLink","/ams-far-check","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLink","/ams-check","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],["routerLink","/qr-sticker","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4v1m6 11h-1m-1-6v1M6 12H5m14 0h-1M6 18H5M12 18v1m-6-6v1m12-7h-1M6 6H5m7 1v1m7-6h-1m-1 6h1M6 12v1m1-7v1m-1 6h1m-6 0h1m6-1v-1m-6 6h1m1-1v1"],["routerLink","/data-management","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50",3,"bg-slate-700","text-white"],["routerLink","/settings","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["routerLink","/data-management","routerLinkActive","active",1,"group","flex","items-center","px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7l8-4 8 4M12 11v10"],[1,"h-10","w-10","rounded-full","flex","items-center","justify-center","bg-slate-700"],[1,"font-bold","text-lg","text-sky-400"],[1,"ml-3"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","font-medium","text-slate-400"],["title","Logout",1,"ml-auto","p-2","rounded-full","text-slate-400","hover:bg-slate-700/50",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"]],template:function(e,i){if(e&1&&(a(0,"aside",22)(1,"div",23)(2,"div",24),A(),a(3,"svg",25),v(4,"path",26),l(),j(),a(5,"span",27),c(6),l()(),a(7,"nav",28),T(8,jM,34,0)(9,BM,62,73),l()(),a(10,"div",29),T(11,$M,12,3,"div",30),l()()),e&2){let r;se("w-64",i.isVisible())("w-0",!i.isVisible())("border-r",i.isVisible()),f(2),se("border-b",i.isSettingsRouteActive()),f(4),E(i.appName()),f(2),I(i.isSettingsRouteActive()?8:9),f(2),se("border-t",!i.isSettingsRouteActive()),f(),I((r=i.currentUser())?11:-1,r)}},dependencies:[F,ae,Tg],encapsulation:2,changeDetection:0});var gm=jo;function HM(n,t){if(n&1){let e=O();a(0,"div",37)(1,"a",38),y("click",function(){w(e);let r=b();return S(r.closeCreateMenu())}),c(2,"Asset"),l(),a(3,"a",39),y("click",function(){w(e);let r=b();return S(r.closeCreateMenu())}),c(4,"License"),l(),a(5,"a",40),y("click",function(){w(e);let r=b();return S(r.closeCreateMenu())}),c(6,"Accessory"),l(),a(7,"a",41),y("click",function(){w(e);let r=b();return S(r.closeCreateMenu())}),c(8,"Consumable"),l(),a(9,"a",42),y("click",function(){w(e);let r=b();return S(r.closeCreateMenu())}),c(10,"Component"),l(),a(11,"a",43),y("click",function(){w(e);let r=b();return S(r.closeCreateMenu())}),c(12,"User"),l()()}}var Uo=class Uo{constructor(){this.toggleSidebar=Gt();this.isCreateMenuVisible=D(!1);this.elementRef=h(nt);this.authService=h(on);this.assetService=h(V);this.appName=oe(()=>this.assetService.generalSettings().appName)}onToggleSidebar(){this.toggleSidebar.emit()}toggleCreateMenu(t){t.stopPropagation(),this.isCreateMenuVisible.update(e=>!e)}closeCreateMenu(){this.isCreateMenuVisible.set(!1)}onDocumentClick(t){this.isCreateMenuVisible()&&!this.elementRef.nativeElement.querySelector(".create-menu-container")?.contains(t.target)&&this.closeCreateMenu()}onLogout(){this.authService.logout()}};Uo.\u0275fac=function(e){return new(e||Uo)},Uo.\u0275cmp=R({type:Uo,selectors:[["app-header"]],hostBindings:function(e,i){e&1&&y("click",function(o){return i.onDocumentClick(o)},n0)},outputs:{toggleSidebar:"toggleSidebar"},decls:45,vars:2,consts:[[1,"backdrop-blur-sm","flex-shrink-0","bg-slate-800/70","border-b","border-slate-700/50"],[1,"mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],[1,"flex","items-center"],[1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50","focus:ring-sky-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex-shrink-0","ml-4","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-8","w-8","text-sky-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"ml-2","text-xl","font-bold","hidden","sm:inline","text-white"],[1,"hidden","sm:flex","items-center","space-x-2","ml-6"],["routerLink","/assets","title","Assets",1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["routerLink","/licenses","title","Licenses",1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M5 5v14a2 2 0 002 2h10a2 2 0 002-2V7l-4-4H7a2 2 0 00-2 2zm5 0v4h4"],["routerLink","/accessories","title","Accessories",1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M19 14v-2a2 2 0 00-2-2H7a2 2 0 00-2 2v2m14-2v4a2 2 0 01-2 2H7a2 2 0 01-2-2v-4m14-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v3m14 2h-1M5 12H4m16-4V5a2 2 0 00-2-2H5a2 2 0 00-2 2v3m4 0h10"],["routerLink","/consumables","title","Consumables",1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["routerLink","/components","title","Components",1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"],["routerLink","/settings","title","Settings",1,"p-2","rounded-md","text-slate-400","hover:text-white","hover:bg-slate-700/50"],["stroke-linecap","round","stroke-linejoin","round","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"hidden","md:block","flex-1","max-w-xs","ml-6"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","search","name","search","placeholder","Lookup by Asset Tag",1,"block","w-full","rounded-md","py-2","pl-10","pr-3","text-sm","bg-slate-700/50","border-slate-600","placeholder-slate-400","text-white"],[1,"flex","items-center","ml-4"],[1,"relative","create-menu-container"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"ml-2","-mr-1","h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"origin-top-right","absolute","right-0","mt-2","w-48","rounded-md","shadow-lg","py-1","ring-1","ring-black","ring-opacity-5","bg-slate-800","border","border-slate-700"],["routerLink","/asset/create",1,"block","px-4","py-2","text-sm","text-slate-300","hover:bg-slate-700/50",3,"click"],["routerLink","/license/create",1,"block","px-4","py-2","text-sm","text-slate-300","hover:bg-slate-700/50",3,"click"],["routerLink","/accessory/create",1,"block","px-4","py-2","text-sm","text-slate-300","hover:bg-slate-700/50",3,"click"],["routerLink","/consumable/create",1,"block","px-4","py-2","text-sm","text-slate-300","hover:bg-slate-700/50",3,"click"],["routerLink","/component/create",1,"block","px-4","py-2","text-sm","text-slate-300","hover:bg-slate-700/50",3,"click"],["routerLink","/user/create",1,"block","px-4","py-2","text-sm","text-slate-300","hover:bg-slate-700/50",3,"click"]],template:function(e,i){e&1&&(a(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),y("click",function(){return i.onToggleSidebar()}),A(),a(5,"svg",5),v(6,"path",6),l()(),j(),a(7,"div",7),A(),a(8,"svg",8),v(9,"path",9),l(),j(),a(10,"span",10),c(11),l()(),a(12,"div",11)(13,"a",12),A(),a(14,"svg",13),v(15,"path",14),l()(),j(),a(16,"a",15),A(),a(17,"svg",13),v(18,"path",16),l()(),j(),a(19,"a",17),A(),a(20,"svg",13),v(21,"path",18),l()(),j(),a(22,"a",19),A(),a(23,"svg",13),v(24,"path",20),l()(),j(),a(25,"a",21),A(),a(26,"svg",13),v(27,"path",22),l()(),j(),a(28,"a",23),A(),a(29,"svg",13),v(30,"path",24)(31,"path",25),l()()()(),j(),a(32,"div",26)(33,"div",27)(34,"div",28),A(),a(35,"svg",29),v(36,"path",30),l()(),j(),v(37,"input",31),l()(),a(38,"div",32)(39,"div",33)(40,"button",34),y("click",function(o){return i.toggleCreateMenu(o)}),c(41," Create New "),A(),a(42,"svg",35),v(43,"path",36),l()(),T(44,HM,13,0,"div",37),l()()()()()),e&2&&(f(11),E(i.appName()),f(33),I(i.isCreateMenuVisible()?44:-1))},dependencies:[ae],encapsulation:2,changeDetection:0});var vm=Uo;function GM(n,t){n&1&&(a(0,"div",0)(1,"div",2),A(),a(2,"svg",3),v(3,"circle",4)(4,"path",5),l(),j(),a(5,"p",6),c(6,"Loading Application..."),l()()())}function zM(n,t){if(n&1){let e=O();a(0,"div",1)(1,"app-sidebar",7),y("toggleSidebar",function(){w(e);let r=b();return S(r.toggleSidebar())}),l(),a(2,"div",8)(3,"app-header",9),y("toggleSidebar",function(){w(e);let r=b();return S(r.toggleSidebar())}),l(),a(4,"main",10)(5,"div",11),v(6,"router-outlet"),l()()()()}if(n&2){let e=b();f(),x("isVisible",e.sidebarVisible())}}function qM(n,t){n&1&&v(0,"router-outlet")}var Bo=class Bo{constructor(){this.authService=h(on);this.isAuthenticated=this.authService.isAuthenticated;this.sidebarVisible=D(!0)}toggleSidebar(){this.sidebarVisible.update(t=>!t)}};Bo.\u0275fac=function(e){return new(e||Bo)},Bo.\u0275cmp=R({type:Bo,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"flex","h-screen","w-full","items-center","justify-center","bg-slate-900"],[1,"flex","h-screen"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","animate-spin","text-sky-500"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-4","text-lg","font-medium","text-slate-300"],[3,"toggleSidebar","isVisible"],[1,"flex-1","flex","flex-col","min-w-0"],[3,"toggleSidebar"],[1,"flex-1","flex","flex-col","overflow-y-auto","bg-slate-800"],[1,"p-6","md:p-8","flex-1"]],template:function(e,i){e&1&&T(0,GM,7,0,"div",0)(1,zM,7,1,"div",1)(2,qM,1,0,"router-outlet"),e&2&&I(i.isAuthenticated()===null?0:i.isAuthenticated()?1:2)},dependencies:[F,Nl,gm,vm],encapsulation:2,changeDetection:0});var ym=Bo;var WM=(n,t)=>t.id,QM=(n,t)=>t.label.id,ZM=(n,t)=>t.name;function YM(n,t){if(n&1&&(a(0,"option",8),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function KM(n,t){if(n&1){let e=O();a(0,"div",10),y("click",function(){let r=w(e).$implicit,o=b();return S(o.navigateToAssets(r.label.name))}),a(1,"div",17)(2,"p",18),c(3),l(),a(4,"p",2),c(5),l()()()}if(n&2){let e=t.$implicit;$t("background-color",e.label.color||"#3b82f6"),f(3),E(e.label.name),f(2),E(e.count)}}function JM(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",24),l())}function XM(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",25)(2,"path",26),l())}function eN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",27),l())}function tN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",28),l())}function nN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",29),l())}function iN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",30),l())}function rN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",31),l())}function oN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",32),l())}function sN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",32),l())}function aN(n,t){n&1&&(A(),a(0,"svg",21),v(1,"path",33),l())}function lN(n,t){if(n&1&&(a(0,"div",19)(1,"div",20),T(2,JM,2,0,":svg:svg",21)(3,XM,3,0,":svg:svg",21)(4,eN,2,0,":svg:svg",21)(5,tN,2,0,":svg:svg",21)(6,nN,2,0,":svg:svg",21)(7,iN,2,0,":svg:svg",21)(8,rN,2,0,":svg:svg",21)(9,oN,2,0,":svg:svg",21)(10,sN,2,0,":svg:svg",21)(11,aN,2,0,":svg:svg",21),l(),a(12,"p",22),c(13),l(),a(14,"p",23),c(15),l()()),n&2){let e,i=t.$implicit,r=b().getVisualsFor(i.name);Fe(r.bgColor),f(),Fe(r.textColor),f(),I((e=r.icon)==="monitor"?2:e==="laptop"?3:e==="tab"?4:e==="tv"?5:e==="printer"?6:e==="scanner"?7:e==="access-point"?8:e==="network-device"?9:e==="server"?10:e==="other"?11:-1),f(10),Fe(r.textColor),f(),E(i.count),f(2),E(i.name)}}var $o=class $o{constructor(){this.assetService=h(V);this.filterService=h(sn);this.router=h(L);this.sbus=this.assetService.sbus;this.sbuFilter=this.filterService.sbuFilter;this.statusLabels=this.assetService.statusLabels;this.filteredAssets=oe(()=>{let t=this.assetService.assets(),e=this.sbuFilter();return e==="all"?t:t.filter(i=>i.sbu?.name===e)});this.stats=oe(()=>{let t=this.filteredAssets();return{total:t.length,deployed:t.filter(e=>!!e.assigned_to&&e.status?.status_type!=="archived").length,readyToDeploy:t.filter(e=>["deployable"].includes(e.status?.status_type)&&!e.assigned_to).length,sold:t.filter(e=>e.status?.name==="Sold").length,eol:t.filter(e=>e.status?.status_type==="archived"&&e.status?.name!=="Sold").length,outOfRepair:t.filter(e=>["undeployable"].includes(e.status?.status_type)).length}});this.statusStats=oe(()=>{let t=this.filteredAssets();return this.statusLabels().map(i=>({label:i,count:t.filter(r=>r.status?.id===i.id).length})).filter(i=>i.count>0).sort((i,r)=>r.count-i.count)});this.categoryTotals=oe(()=>{let e=this.filteredAssets().reduce((i,r)=>{let o=r.category?.name||"Other";return i[o]=(i[o]||0)+1,i},{});return Object.entries(e).map(([i,r])=>({name:i,count:r})).sort((i,r)=>r.count-i.count)})}onSbuFilterChange(t){let e=t.target;this.filterService.setSbuFilter(e.value)}navigateToAssets(t){this.router.navigate(["/assets"],{queryParams:{status:t}})}getVisualsFor(t){let e=t.toLowerCase(),i={"total assets":{icon:"",classes:"bg-indigo-500/20 text-indigo-300"},desktop:{icon:"monitor",classes:"bg-violet-500/20 text-violet-300"},laptop:{icon:"laptop",classes:"bg-blue-500/20 text-blue-300"},tab:{icon:"tab",classes:"bg-cyan-500/20 text-cyan-300"},"android box":{icon:"tv",classes:"bg-amber-500/20 text-amber-300"},monitor:{icon:"monitor",classes:"bg-sky-500/20 text-sky-300"},printer:{icon:"printer",classes:"bg-emerald-500/20 text-emerald-300"},scanner:{icon:"scanner",classes:"bg-slate-600/30 text-slate-300"},"access-point":{icon:"access-point",classes:"bg-indigo-500/20 text-indigo-300"},"network device":{icon:"network-device",classes:"bg-yellow-500/20 text-yellow-300"},server:{icon:"server",classes:"bg-rose-500/20 text-rose-300"},other:{icon:"other",classes:"bg-slate-700/50 text-slate-300"}},r=Object.keys(i).find(d=>e.includes(d)),o=r?i[r].classes:i.other.classes,[s,u]=o.split(" ");return{icon:r?i[r].icon:"other",bgColor:s,textColor:u}}};$o.\u0275fac=function(e){return new(e||$o)},$o.\u0275cmp=R({type:$o,selectors:[["app-dashboard"]],decls:29,vars:6,consts:[[1,"space-y-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"flex","items-center"],["for","sbu-filter",1,"text-sm","font-medium","text-slate-300","mr-2"],["id","sbu-filter",1,"rounded-md","shadow-sm","py-2","px-3","focus:outline-none","sm:text-sm","bg-slate-700/50","border","border-slate-600","text-white","focus:ring-sky-500","focus:border-sky-500",3,"change","value"],["value","all"],[3,"value"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-4"],[1,"p-4","rounded-xl","shadow","cursor-pointer","hover:scale-[1.02]","transition-transform","duration-200",3,"click"],[1,"text-sm","text-slate-400"],[1,"text-3xl","font-bold"],[1,"p-4","rounded-xl","shadow","cursor-pointer","hover:scale-[1.02]","transition-transform","duration-200",3,"background-color"],[1,"text-xl","font-bold","mb-4","text-white"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-7","gap-4"],[1,"p-4","rounded-xl","shadow","flex","flex-col","items-center","justify-center","text-center","h-40",3,"class"],[1,"flex","flex-col","h-full","justify-between"],[1,"text-sm","font-medium","text-white"],[1,"p-4","rounded-xl","shadow","flex","flex-col","items-center","justify-center","text-center","h-40"],[1,"mb-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"h-8","w-8"],[1,"text-2xl","font-bold"],[1,"text-sm","font-medium","mt-1","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 18.75a.75.75 0 010-1.5.75.75 0 010 1.5z"],["stroke-linecap","round","stroke-linejoin","round","d","M3 8.25V18a2.25 2.25 0 002.25 2.25h13.5A2.25 2.25 0 0021 18V8.25m-18 0V6a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 6v2.25m-18 0h18"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"],["stroke-linecap","round","stroke-linejoin","round","d","M6 20.25h12m-7.5-3.75V14.25m3.75 2.25V14.25m-3.75 0H5.25a2.25 2.25 0 01-2.25-2.25V6.75a2.25 2.25 0 012.25-2.25h13.5a2.25 2.25 0 012.25 2.25v5.25a2.25 2.25 0 01-2.25-2.25H12.75"],["stroke-linecap","round","stroke-linejoin","round","d","M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6 8.25m10.56 5.579c.24.03.48.062.72.096m-.72-.096L18 8.25m-12 5.579V7.5a2.25 2.25 0 012.25-2.25h7.5a2.25 2.25 0 012.25 2.25v4.079m-12 0h12M5.25 12h13.5"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 4.5v.75A.75.75 0 004.5 6h.75m0 0v-.75A.75.75 0 004.5 4.5h-.75m0 0H3.75m0 0h.75m9.75 0v.75A.75.75 0 0015 6h.75m0 0v-.75A.75.75 0 0015 4.5h-.75m0 0h-.75m0 0h.75m-4.5 15v-.75A.75.75 0 009.75 18h-.75m0 0v.75A.75.75 0 009.75 19.5h.75m0 0h.75m0 0h-.75m-1.5-15h-3m13.5 15h-3"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"],["stroke-linecap","round","stroke-linejoin","round","d","M5.25 14.25h13.5m-13.5 0V6a2.25 2.25 0 012.25-2.25h9a2.25 2.25 0 012.25 2.25v8.25m-13.5 0V18a2.25 2.25 0 002.25 2.25h9A2.25 2.25 0 0018.75 18v-3.75m-13.5 0h13.5"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4"]],template:function(e,i){if(e&1){let r=O();a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Dashboard"),l(),a(5,"p",3),c(6,"Overview of your asset inventory."),l()(),a(7,"div",4)(8,"label",5),c(9,"Filter by SBU:"),l(),a(10,"select",6),y("change",function(s){return w(r),S(i.onSbuFilterChange(s))}),a(11,"option",7),c(12,"All"),l(),U(13,YM,2,2,"option",8,WM),l()()(),a(15,"div",9)(16,"div",10),y("click",function(){return w(r),S(i.navigateToAssets("all"))}),a(17,"p",11),c(18,"Total Assets"),l(),a(19,"p",12),c(20),l()(),U(21,KM,6,4,"div",13,QM),l(),a(23,"div")(24,"h3",14),c(25,"Category Total"),l(),a(26,"div",15),U(27,lN,16,9,"div",16,ZM),l()()()}if(e&2){f(10),x("value",i.sbuFilter()),f(3),B(i.sbus());let r=i.stats(),o=i.getVisualsFor("total assets");f(3),Fe(o.bgColor),f(3),Fe(o.textColor),f(),E(r.total),f(),B(i.statusStats()),f(6),B(i.categoryTotals())}},dependencies:[F],encapsulation:2,changeDetection:0});var bm=$o;var nw=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(ce(yn),ce(nt))};static \u0275dir=Ne({type:n})}return n})(),Wo=(()=>{class n extends nw{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,features:[it]})}return n})(),wr=new re(""),cN={provide:wr,useExisting:pt(()=>Cn),multi:!0},Cn=(()=>{class n extends Wo{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&y("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ft([cN]),it]})}return n})(),uN={provide:wr,useExisting:pt(()=>W),multi:!0};function dN(){let n=en()?en().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var mN=new re(""),W=(()=>{class n extends nw{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!dN())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(ce(yn),ce(nt),ce(mN,8))};static \u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&y("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Ft([uN]),it]})}return n})();function av(n){return n==null||lv(n)===0}function lv(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Qo=new re(""),Am=new re(""),fN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,k=class{static min(t){return iw(t)}static max(t){return pN(t)}static required(t){return rw(t)}static requiredTrue(t){return hN(t)}static email(t){return gN(t)}static minLength(t){return vN(t)}static maxLength(t){return yN(t)}static pattern(t){return bN(t)}static nullValidator(t){return Cm()}static compose(t){return uw(t)}static composeAsync(t){return mw(t)}};function iw(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function pN(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function rw(n){return av(n.value)?{required:!0}:null}function hN(n){return n.value===!0?null:{required:!0}}function gN(n){return av(n.value)||fN.test(n.value)?null:{email:!0}}function vN(n){return t=>{let e=t.value?.length??lv(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function yN(n){return t=>{let e=t.value?.length??lv(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function bN(n){if(!n)return Cm;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(av(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Cm(n){return null}function ow(n){return n!=null}function sw(n){return hi(n)?Le(n):n}function aw(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function lw(n,t){return t.map(e=>e(n))}function _N(n){return!n.validate}function cw(n){return n.map(t=>_N(t)?t:e=>t.validate(e))}function uw(n){if(!n)return null;let t=n.filter(ow);return t.length==0?null:function(e){return aw(lw(e,t))}}function dw(n){return n!=null?uw(cw(n)):null}function mw(n){if(!n)return null;let t=n.filter(ow);return t.length==0?null:function(e){let i=lw(e,t).map(sw);return lp(i).pipe(pe(aw))}}function fw(n){return n!=null?mw(cw(n)):null}function WC(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function pw(n){return n._rawValidators}function hw(n){return n._rawAsyncValidators}function nv(n){return n?Array.isArray(n)?n:[n]:[]}function wm(n,t){return Array.isArray(n)?n.includes(t):n===t}function QC(n,t){let e=nv(t);return nv(n).forEach(r=>{wm(e,r)||e.push(r)}),e}function ZC(n,t){return nv(t).filter(e=>!wm(n,e))}var Sm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=dw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},an=class extends Sm{name;get formDirective(){return null}get path(){return null}},zo=class extends Sm{_parent=null;name=null;valueAccessor=null},Em=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mX=ie(N({},xN),{"[class.ng-submitted]":"isSubmitted"}),Q=(()=>{class n extends Em{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ce(zo,2))};static \u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&se("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[it]})}return n})(),Z=(()=>{class n extends Em{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ce(an,10))};static \u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&se("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[it]})}return n})();var oc="VALID",_m="INVALID",Ho="PENDING",sc="DISABLED",Ci=class{},Dm=class extends Ci{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ac=class extends Ci{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},lc=class extends Ci{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Go=class extends Ci{status;source;constructor(t,e){super(),this.status=t,this.source=e}},iv=class extends Ci{source;constructor(t){super(),this.source=t}},rv=class extends Ci{source;constructor(t){super(),this.source=t}};function cv(n){return(Mm(n)?n.validators:n)||null}function CN(n){return Array.isArray(n)?dw(n):n||null}function uv(n,t){return(Mm(t)?t.asyncValidators:n)||null}function wN(n){return Array.isArray(n)?fw(n):n||null}function Mm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gw(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new te(1e3,"");if(!i[e])throw new te(1001,"")}function vw(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new te(1002,"")})}var qo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Et(this.statusReactive)}set status(t){Et(()=>this.statusReactive.set(t))}_status=oe(()=>this.statusReactive());statusReactive=D(void 0);get valid(){return this.status===oc}get invalid(){return this.status===_m}get pending(){return this.status==Ho}get disabled(){return this.status===sc}get enabled(){return this.status!==sc}errors;get pristine(){return Et(this.pristineReactive)}set pristine(t){Et(()=>this.pristineReactive.set(t))}_pristine=oe(()=>this.pristineReactive());pristineReactive=D(!0);get dirty(){return!this.pristine}get touched(){return Et(this.touchedReactive)}set touched(t){Et(()=>this.touchedReactive.set(t))}_touched=oe(()=>this.touchedReactive());touchedReactive=D(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(QC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(QC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ZC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ZC(t,this._rawAsyncValidators))}hasValidator(t){return wm(this._rawValidators,t)}hasAsyncValidator(t){return wm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ie(N({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new lc(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new lc(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ie(N({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ac(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new ac(!0,i))}markAsPending(t={}){this.status=Ho;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Go(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ie(N({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=sc,this.errors=null,this._forEachChild(r=>{r.disable(ie(N({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dm(this.value,i)),this._events.next(new Go(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=oc,this._forEachChild(i=>{i.enable(ie(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ie(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===Ho)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dm(this.value,e)),this._events.next(new Go(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ie(N({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sc:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ho,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=sw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Go(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?sc:this.errors?_m:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ho)?Ho:this._anyControlsHaveStatus(_m)?_m:oc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ac(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new lc(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Mm(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=CN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=wN(this._rawAsyncValidators)}},Tm=class extends qo{constructor(t,e,i){super(cv(e),uv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){vw(this,!0,t),Object.keys(t).forEach(i=>{gw(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ov=class extends Tm{};var dv=new re("",{providedIn:"root",factory:()=>Nm}),Nm="always";function mv(n,t){return[...t.path,n]}function YC(n,t,e=Nm){fv(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),EN(n,t),TN(n,t),DN(n,t),SN(n,t)}function KC(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),km(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Im(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function SN(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function fv(n,t){let e=pw(n);t.validator!==null?n.setValidators(WC(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=hw(n);t.asyncValidator!==null?n.setAsyncValidators(WC(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Im(t._rawValidators,r),Im(t._rawAsyncValidators,r)}function km(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=pw(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=hw(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Im(t._rawValidators,i),Im(t._rawAsyncValidators,i),e}function EN(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&yw(n,t)})}function DN(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&yw(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function yw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TN(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function IN(n,t){n==null,fv(n,t)}function kN(n,t){return km(n,t)}function AN(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function MN(n){return Object.getPrototypeOf(n.constructor)===Wo}function NN(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function RN(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===W?e=o:MN(o)?i=o:r=o}),r||i||e||null}function FN(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function JC(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function XC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xm=class extends qo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(cv(e),uv(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(XC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){JC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){JC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){XC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ON=n=>n instanceof xm,LN=(()=>{class n extends an{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return mv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,standalone:!1,features:[it]})}return n})();var Y=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),PN={provide:wr,useExisting:pt(()=>Ve),multi:!0},Ve=(()=>{class n extends Wo{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&y("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ft([PN]),it]})}return n})(),VN={provide:wr,useExisting:pt(()=>pv),multi:!0};var jN=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pv=(()=>{class n extends Wo{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=h(dv,{optional:!0})??Nm;constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(zo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(ce(yn),ce(nt),ce(jN),ce(ht))};static \u0275dir=Ne({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&y("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Ft([VN]),it]})}return n})();var bw=new re("");var UN={provide:an,useExisting:pt(()=>G)},G=(()=>{class n extends an{callSetDisabledState;get submitted(){return Et(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=oe(()=>this._submittedReactive());_submittedReactive=D(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ze;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(km(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return YC(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){KC(e.control||null,e,!1),FN(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),NN(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new iv(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new rv(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(KC(i||null,e),ON(r)&&(YC(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);IN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&kN(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fv(this.form,this),this._oldForm&&km(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(ce(Qo,10),ce(Am,10),ce(dv,8))};static \u0275dir=Ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&y("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ft([UN]),it,Ut]})}return n})(),BN={provide:an,useExisting:pt(()=>Zo)},Zo=(()=>{class n extends LN{name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){_w(this._parent)}static \u0275fac=function(i){return new(i||n)(ce(an,13),ce(Qo,10),ce(Am,10))};static \u0275dir=Ne({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ft([BN]),it]})}return n})(),$N={provide:an,useExisting:pt(()=>wi)},wi=(()=>{class n extends an{_parent;name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){_w(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return mv(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(i){return new(i||n)(ce(an,13),ce(Qo,10),ce(Am,10))};static \u0275dir=Ne({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ft([$N]),it]})}return n})();function _w(n){return!(n instanceof Zo)&&!(n instanceof G)&&!(n instanceof wi)}var HN={provide:zo,useExisting:pt(()=>q)},q=(()=>{class n extends zo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RN(this,o)}ngOnChanges(e){this._added||this._setUpControl(),AN(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(ce(an,13),ce(Qo,10),ce(Am,10),ce(wr,10),ce(bw,8))};static \u0275dir=Ne({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ft([HN]),it,Ut]})}return n})();var GN={provide:wr,useExisting:pt(()=>Ke),multi:!0};function xw(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function zN(n){return n.split(":")[0]}var Ke=(()=>{class n extends Wo{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i=this._getOptionId(e),r=xw(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=zN(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&y("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ft([GN]),it]})}return n})(),ct=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(xw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(ce(nt),ce(yn),ce(Ke,9))};static \u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),qN={provide:wr,useExisting:pt(()=>Cw),multi:!0};function ew(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function WN(n){return n.split(":")[0]}var Cw=(()=>{class n extends Wo{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let u=0;u<s.length;u++){let d=s[u],m=this._getOptionValue(d.value);r.push(m)}}else{let s=i.options;for(let u=0;u<s.length;u++){let d=s[u];if(d.selected){let m=this._getOptionValue(d.value);r.push(m)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=WN(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&y("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ft([qN]),it]})}return n})(),ut=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ew(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ew(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(ce(nt),ce(yn),ce(Cw,9))};static \u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function QN(n){return typeof n=="number"?n:parseFloat(n)}var ww=(()=>{class n{_validator=Cm;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Cm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ne({type:n,features:[Ut]})}return n})();var ZN={provide:Qo,useExisting:pt(()=>hv),multi:!0},hv=(()=>{class n extends ww{min;inputName="min";normalizeInput=e=>QN(e);createValidator=e=>iw(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&nr("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Ft([ZN]),it]})}return n})(),YN={provide:Qo,useExisting:pt(()=>gv),multi:!0};var gv=(()=>{class n extends ww{required;inputName="required";normalizeInput=fo;createValidator=e=>rw;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Bt(n)))(r||n)}})();static \u0275dir=Ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&nr("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ft([YN]),it]})}return n})();var KN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Mn({type:n});static \u0275inj=mn({})}return n})(),sv=class extends qo{constructor(t,e,i){super(cv(e),uv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){vw(this,!1,t),t.forEach((i,r)=>{gw(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function tw(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var K=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return tw(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Tm(r,o)}record(e,i=null){let r=this._reduceControls(e);return new ov(r,i)}control(e,i,r){let o={};return this.useNonNullable?(tw(i)?o=i:(o.validators=i,o.asyncValidators=r),new xm(e,ie(N({},o),{nonNullable:!0}))):new xm(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new sv(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof xm)return e;if(e instanceof qo)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:bw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:dv,useValue:e.callSetDisabledState??Nm}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Mn({type:n});static \u0275inj=mn({imports:[KN]})}return n})();var JN=(n,t)=>t.id;function XN(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("ngValue",e.id),f(),Ht("",e.name," (",e.username,")")}}function e3(n,t){n&1&&(a(0,"p",11),c(1,"Please select a user."),l())}var Yo=class Yo{constructor(){this.itemType=rt.required();this.itemName=rt.required();this.users=rt.required();this.close=Gt();this.checkout=Gt();this.fb=h(K);this.checkoutForm=this.fb.group({userId:[null,k.required]})}onCheckout(){this.checkoutForm.valid&&this.checkout.emit(this.checkoutForm.value.userId)}onClose(){this.close.emit()}};Yo.\u0275fac=function(e){return new(e||Yo)},Yo.\u0275cmp=R({type:Yo,selectors:[["app-checkout-modal"]],inputs:{itemType:[1,"itemType"],itemName:[1,"itemName"],users:[1,"users"]},outputs:{close:"close",checkout:"checkout"},decls:22,vars:6,consts:[[1,"fixed","inset-0","bg-black/60","z-50","flex","items-center","justify-center","backdrop-blur-sm",3,"click"],[1,"bg-slate-800","border","border-slate-700","rounded-lg","shadow-xl","w-full","max-w-md","m-4",3,"click"],[1,"p-4","border-b","border-slate-700"],[1,"text-lg","font-bold","text-white"],[1,"text-sm","text-slate-400"],[3,"ngSubmit","formGroup"],[1,"p-6"],["for","user",1,"block","text-sm","font-medium","text-slate-300","mb-2"],["id","user","formControlName","userId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["disabled","",3,"ngValue"],[3,"ngValue"],[1,"text-sm","text-red-400","mt-1"],[1,"px-6","py-4","bg-slate-800/50","border-t","border-slate-700","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){if(e&1&&(a(0,"div",0),y("click",function(){return i.onClose()}),a(1,"div",1),y("click",function(o){return o.stopPropagation()}),a(2,"div",2)(3,"h2",3),c(4),l(),a(5,"p",4),c(6),l()(),a(7,"form",5),y("ngSubmit",function(){return i.onCheckout()}),a(8,"div",6)(9,"label",7),c(10,"Select User"),l(),a(11,"select",8)(12,"option",9),c(13,"-- Choose a user --"),l(),U(14,XN,2,3,"option",10,JN),l(),T(16,e3,2,0,"p",11),l(),a(17,"div",12)(18,"button",13),y("click",function(){return i.onClose()}),c(19,"Cancel"),l(),a(20,"button",14),c(21,"Checkout"),l()()()()()),e&2){let r;f(4),X("Checkout ",i.itemType()),f(2),X('"',i.itemName(),'"'),f(),x("formGroup",i.checkoutForm),f(5),x("ngValue",null),f(2),B(i.users()),f(2),I((r=i.checkoutForm.get("userId"))!=null&&r.touched&&((r=i.checkoutForm.get("userId"))!=null&&r.invalid)?16:-1),f(4),x("disabled",i.checkoutForm.invalid)}},dependencies:[F,J,Y,ct,ut,Ke,Q,Z,G,q],encapsulation:2,changeDetection:0});var ln=Yo;var Ko=class Ko{constructor(){this.itemType=rt("item");this.itemName=rt("");this.confirm=Gt();this.cancel=Gt()}onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}};Ko.\u0275fac=function(e){return new(e||Ko)},Ko.\u0275cmp=R({type:Ko,selectors:[["app-confirmation-modal"]],inputs:{itemType:[1,"itemType"],itemName:[1,"itemName"]},outputs:{confirm:"confirm",cancel:"cancel"},decls:22,vars:3,consts:[[1,"fixed","inset-0","bg-black/60","z-50","flex","items-center","justify-center","backdrop-blur-sm",3,"click"],[1,"bg-slate-800","border","border-slate-700","rounded-lg","shadow-xl","w-full","max-w-md","m-4",3,"click"],[1,"p-4","border-b","border-slate-700","flex","items-center"],[1,"p-2","bg-red-500/10","rounded-full","mr-3","flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"],[1,"text-lg","font-bold","text-white"],[1,"text-sm","text-slate-400"],[1,"p-6"],[1,"text-sm","text-slate-300"],[1,"text-red-400","font-semibold"],[1,"px-6","py-4","bg-slate-900/50","border-t","border-slate-700","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-red-500",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0),y("click",function(){return i.onCancel()}),a(1,"div",1),y("click",function(o){return o.stopPropagation()}),a(2,"div",2)(3,"div",3),A(),a(4,"svg",4),v(5,"path",5),l()(),j(),a(6,"div")(7,"h2",6),c(8),l(),a(9,"p",7),c(10),l()()(),a(11,"div",8)(12,"p",9),c(13," This action cannot be undone. This will permanently delete the "),a(14,"strong",10),c(15),l(),c(16,". "),l()(),a(17,"div",11)(18,"button",12),y("click",function(){return i.onCancel()}),c(19," Cancel "),l(),a(20,"button",13),y("click",function(){return i.onConfirm()}),c(21," Confirm Delete "),l()()()()),e&2&&(f(8),X("Delete ",i.itemType()),f(2),X("Are you sure you want to delete this ",i.itemType(),"?"),f(5),E(i.itemName()))},dependencies:[F],encapsulation:2,changeDetection:0});var ke=Ko;function Sw(n,t){let e=t?.injector??h(ht),i=new va(1),r=Dt(()=>{let o;try{o=n()}catch(s){Et(()=>i.error(s));return}Et(()=>i.next(o))},{injector:e,manualCleanup:!0});return e.get(Ct).onDestroy(()=>{r.destroy(),i.complete()}),i.asObservable()}function Si(n,t){let i=!t?.manualCleanup?t?.injector?.get(Ct)??h(Ct):null,r=t3(t?.equal),o;t?.requireSync?o=D({kind:0},{equal:r}):o=D({kind:1,value:t?.initialValue},{equal:r});let s,u=n.subscribe({next:d=>o.set({kind:1,value:d}),error:d=>{o.set({kind:2,error:d})},complete:()=>{s?.()}});if(t?.requireSync&&o().kind===0)throw new te(601,!1);return s=i?.onDestroy(u.unsubscribe.bind(u)),oe(()=>{let d=o();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new te(601,!1)}},{equal:t?.equal})}function t3(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}var n3=n=>["/asset/edit",n],Rm=(n,t)=>t.id;function i3(n,t){if(n&1&&(a(0,"option",14),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function r3(n,t){n&1&&(a(0,"span",38),c(1),l()),n&2&&(f(),X("Location: ",t))}function o3(n,t){n&1&&(a(0,"span",38),c(1),l()),n&2&&(f(),X("Category: ",t))}function s3(n,t){if(n&1&&(a(0,"span",38),c(1),l()),n&2){let e=b(2);f(),X("Status: ",e.getStatusDisplayName(e.statusFilter()))}}function a3(n,t){if(n&1){let e=O();a(0,"div",20)(1,"span",37),c(2,"Filtered by:"),l(),T(3,r3,2,1,"span",38),T(4,o3,2,1,"span",38),T(5,s3,2,1,"span",38),a(6,"button",39),y("click",function(){w(e);let r=b();return S(r.clearQueryFilters())}),c(7," Clear Filters "),l()()}if(n&2){let e,i,r=b();f(3),I((e=r.locationFilter())?3:-1,e),f(),I((i=r.categoryFilter())?4:-1,i),f(),I(r.route.snapshot.queryParamMap.has("status")?5:-1)}}function l3(n,t){if(n&1){let e=O();a(0,"button",22),y("click",function(){w(e);let r=b().$implicit,o=b();return S(o.setFilter(r.id))}),c(1),a(2,"span",23),c(3),l()()}if(n&2){let e=b().$implicit,i=b();Fe(i.statusFilter()===e.id?"bg-sky-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"),f(),X(" ",e.name," "),f(2),E(i.statusCounts()[e.id])}}function c3(n,t){if(n&1&&T(0,l3,4,4,"button",40),n&2){let e=t.$implicit,i=b();I(i.statusCounts()[e.id]>0?0:-1)}}function u3(n,t){if(n&1){let e=O();a(0,"div",24)(1,"p",41),c(2),l(),a(3,"div",42)(4,"button",43),y("click",function(){w(e);let r=b();return S(r.bulkAssignSelected())}),c(5,"Assign"),l(),a(6,"button",44),y("click",function(){w(e);let r=b();return S(r.bulkArchiveSelected())}),c(7,"Archive"),l()()()}if(n&2){let e=b();f(2),X(" ",e.selectedAssetIds().size," asset(s) selected ")}}function m3(n,t){if(n&1){let e=O();a(0,"button",59),y("click",function(){w(e);let r=b().$implicit,o=b();return S(o.checkinAsset(r))}),c(1,"Check-in"),l()}}function f3(n,t){if(n&1){let e=O();a(0,"button",60),y("click",function(){w(e);let r=b().$implicit,o=b();return S(o.openCheckoutModal(r))}),c(1," Checkout "),l()}if(n&2){let e=b().$implicit;x("disabled",(e.status==null?null:e.status.status_type)!=="deployable")}}function p3(n,t){if(n&1&&(a(0,"tr")(1,"td",69),c(2),l(),a(3,"td",69),c(4),l()()),n&2){let e=t.$implicit;f(2),E(e.userName),f(2),E(e.checkoutDate)}}function h3(n,t){if(n&1&&(a(0,"table",64)(1,"thead",66)(2,"tr")(3,"th",67),c(4,"User"),l(),a(5,"th",67),c(6,"Date"),l()()(),a(7,"tbody",68),U(8,p3,5,2,"tr",null,Rm),l()()),n&2){let e=b(3);f(8),B(e.checkoutsForExpandedItem())}}function g3(n,t){n&1&&(a(0,"p",65),c(1,"No checkout history for this asset."),l())}function v3(n,t){if(n&1&&(a(0,"tr",58)(1,"td",61)(2,"div",62)(3,"h4",63),c(4,"Checkout History"),l(),T(5,h3,10,0,"table",64)(6,g3,2,0,"p",65),l()()()),n&2){let e=b(2);f(5),I(e.checkoutsForExpandedItem().length>0?5:6)}}function y3(n,t){if(n&1){let e=O();a(0,"tr",45)(1,"td",46)(2,"input",47),y("change",function(){let r=w(e).$implicit,o=b();return S(o.toggleSelection(r.id))}),l()(),a(3,"td",48),c(4),l(),a(5,"td",49),c(6),l(),a(7,"td",49),c(8),l(),a(9,"td",50),c(10),l(),a(11,"td",49),c(12),l(),a(13,"td",49),c(14),l(),a(15,"td",49)(16,"span",51),c(17),l()(),a(18,"td",52)(19,"div",4),T(20,m3,2,0,"button",53)(21,f3,2,1,"button",54),a(22,"button",55),y("click",function(){let r=w(e).$implicit,o=b();return S(o.toggleCheckoutsView(r.id))}),c(23,"History"),l(),a(24,"a",56),c(25,"Edit"),l(),a(26,"button",57),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(27,"Delete"),l()()()(),T(28,v3,7,1,"tr",58)}if(n&2){let e=t.$implicit,i=b();se("bg-slate-800",i.selectedAssetIds().has(e.id)),f(2),x("checked",i.selectedAssetIds().has(e.id)),f(2),E(e.category==null?null:e.category.name),f(2),E(e.asset_tag),f(2),E(e.model==null?null:e.model.name),f(2),E(e.serial_number),f(2),E((e.assigned_to==null?null:e.assigned_to.username)??"\u2014"),f(2),E(e.department==null?null:e.department.name),f(2),$t("background-color",(e.status==null?null:e.status.color)||"#3b82f6"),f(),X(" ",i.getAssetStatusDisplayName(e)," "),f(3),I(e.assigned_to?20:21),f(4),x("routerLink",Ae(15,n3,e.id)),f(4),I(i.expandedItemId()===e.id?28:-1)}}function b3(n,t){n&1&&(a(0,"tr")(1,"td",70),c(2,"No assets found for the selected filter."),l()())}function _3(n,t){if(n&1){let e=O();a(0,"app-checkout-modal",71),y("close",function(){w(e);let r=b();return S(r.closeCheckoutModal())})("checkout",function(r){w(e);let o=b();return S(o.onCheckout(r))}),l()}if(n&2){let e=b();x("itemType","Asset")("itemName",t.model)("users",e.users())}}function x3(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",72),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Asset")("itemName",t.name)}var Jo=class Jo{constructor(){this.assetService=h(V);this.filterService=h(sn);this.router=h(L);this.route=h(me);this.sbus=this.assetService.sbus;this.sbuFilter=this.filterService.sbuFilter;this.statusLabels=this.assetService.statusLabels;this.statusFilter=D("all");this.locationFilter=D(null);this.categoryFilter=D(null);this.searchQuery=D("");this.selectedAssetIds=D(new Set);this.users=this.assetService.users;this.checkouts=this.assetService.assetCheckouts;this.expandedItemId=D(null);this.isCheckoutModalOpen=D(!1);this.itemToCheckOut=D(null);this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null);this.queryParams=Si(this.route.queryParams);this.checkoutsForExpandedItem=oe(()=>{let t=this.expandedItemId();return t===null?[]:this.checkouts().filter(e=>e.assetId===t)});this.hasActiveQueryFilters=oe(()=>this.locationFilter()!==null||this.categoryFilter()!==null||this.statusFilter()!=="all");this.sbuFilteredAssets=oe(()=>{let t=this.assetService.assets(),e=this.sbuFilter();return e==="all"?t:t.filter(i=>i.sbu?.name===e)});this.statusCounts=oe(()=>{let t=this.sbuFilteredAssets(),e=this.statusLabels(),i={all:t.length};return e.forEach(r=>{i[r.id]=t.filter(o=>o.status?.id===r.id).length}),i});this.filteredAssets=oe(()=>{let t=this.sbuFilteredAssets(),e=this.statusFilter(),i=this.locationFilter(),r=this.categoryFilter();i&&(t=t.filter(u=>(u.location?.name||"Unknown")===i)),r&&(t=t.filter(u=>(u.category?.name||"Other")===r));let o=e==="all"?t:t.filter(u=>u.status?.id===e),s=this.searchQuery().toLowerCase().trim();return s?o.filter(u=>{let d=m=>String(m||"").toLowerCase().includes(s);return d(u.asset_tag)||d(u.model?.name)||d(u.status?.name)||d(u.serial_number)||d(u.assigned_to?.username)||d(u.department?.name)||d(u.location?.name)||d(u.category?.name)}):o});this.isAllSelected=oe(()=>{let t=this.filteredAssets(),e=this.selectedAssetIds();return t.length>0&&t.every(i=>e.has(i.id))});Dt(()=>{let t=this.queryParams();if(t){this.locationFilter.set(t.location||null),this.categoryFilter.set(t.category||null);let e=t.status;if(e)if(e==="all")this.statusFilter.set("all");else{let i=this.statusLabels().find(r=>r.name===e||String(r.id)===e);i?this.statusFilter.set(i.id):this.statusFilter.set("all")}else!t.location&&!t.category&&this.statusFilter.set("all")}})}onSearch(t){let e=t.target;this.searchQuery.set(e.value)}setFilter(t){this.statusFilter.set(t),this.selectedAssetIds.set(new Set);let e=null;if(t!=="all"){let i=this.statusLabels().find(r=>r.id===t);e=i?i.name:String(t)}this.router.navigate([],{relativeTo:this.route,queryParams:{status:e,location:null,category:null},queryParamsHandling:"merge"})}clearQueryFilters(){this.router.navigate(["/assets"])}getStatusDisplayName(t){if(t==="all")return"All";let e=this.statusLabels().find(i=>i.id===t);return e?e.name:"Unknown"}onSbuFilterChange(t){let e=t.target;this.filterService.setSbuFilter(e.value),this.selectedAssetIds.set(new Set)}toggleSelection(t){this.selectedAssetIds.update(e=>(e.has(t)?e.delete(t):e.add(t),new Set(e)))}toggleSelectAll(){let t=this.isAllSelected(),e=this.filteredAssets().map(i=>i.id);this.selectedAssetIds.update(i=>(t?e.forEach(r=>i.delete(r)):e.forEach(r=>i.add(r)),new Set(i)))}bulkArchiveSelected(){alert(`${this.selectedAssetIds().size} asset(s) have been archived.`),this.selectedAssetIds.set(new Set)}bulkAssignSelected(){alert(`Assigning ${this.selectedAssetIds().size} asset(s)...`),this.selectedAssetIds.set(new Set)}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:`${t.model} (${t.asset_tag})`}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteAsset(t.id),this.closeDeleteModal())}getAssetStatusDisplayName(t){return t.status?t.status.status_type==="deployable"&&t.assigned_to?"Deployed":t.status.name:"Unknown"}exportFilteredAssets(){let t=this.filteredAssets();if(t.length===0){alert("No assets to export for the current filter.");return}let e=t.map(m=>({id:m.id,asset_tag:m.asset_tag,sbu:m.sbu?.name??"",category:m.category?.name??"",asset_model:m.model?.name??"",serial_number:m.serial_number??"",location:m.location?.name??"",department:m.department?.name??"",status:m.status?.name??"Unknown",assigned_to:m.assigned_to?.username??"Unassigned",purchase_date:m.purchase_date,purchase_cost:m.purchase_cost,warranty_months:m.warranty_months,notes:m.notes})),i=Object.keys(e[0]),r=[i.join(","),...e.map(m=>i.map(p=>{let g=m[p],C=g==null?"":String(g);return/[",\n\r]/.test(C)?`"${C.replace(/"/g,'""')}"`:C}).join(","))].join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),u=URL.createObjectURL(o),d=new Date().toISOString().split("T")[0];s.setAttribute("href",u),s.setAttribute("download",`assets-export-${d}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}toggleCheckoutsView(t){this.expandedItemId.update(e=>e===t?null:t)}openCheckoutModal(t){["deployable"].includes(t.status?.status_type)&&!t.assigned_to?(this.itemToCheckOut.set(t),this.isCheckoutModalOpen.set(!0)):alert("This asset is not available to be checked out.")}closeCheckoutModal(){this.isCheckoutModalOpen.set(!1),this.itemToCheckOut.set(null)}async onCheckout(t){let e=this.itemToCheckOut();e&&await this.assetService.checkoutAsset(e.id,t)&&this.closeCheckoutModal()}async checkinAsset(t){confirm(`Are you sure you want to check in "${t.model?.name||"Asset"}"?`)&&await this.assetService.checkinAsset(t.id)}};Jo.\u0275fac=function(e){return new(e||Jo)},Jo.\u0275cmp=R({type:Jo,selectors:[["app-asset-list"]],decls:70,vars:13,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"flex","items-center","space-x-2"],[1,"inline-flex","items-center","px-4","py-2","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700/50","hover:bg-slate-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["routerLink","/asset/create",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500"],[1,"bg-slate-800/50","border","border-slate-700/50","p-4","rounded-lg","flex","items-center","justify-between","flex-wrap","gap-4"],[1,"flex","items-center"],["for","sbu-filter",1,"text-sm","font-medium","text-slate-300","mr-2","shrink-0"],["id","sbu-filter",1,"bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm",3,"change","value"],["value","all"],[3,"value"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","search","name","search","placeholder","Search assets...",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","py-2","pl-10","pr-3","text-sm","placeholder-slate-400","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500",3,"input","value"],[1,"flex","items-center","flex-wrap","gap-2"],[1,"flex","items-center","justify-between","flex-wrap","gap-4"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-colors","flex","items-center",3,"click"],[1,"ml-1.5","rounded-full","bg-black/20","px-2","py-0.5","text-xs"],[1,"bg-slate-700/50","border","border-slate-600/50","rounded-md","p-2","flex","items-center","justify-between","transition-all","duration-300","space-x-4"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"p-4","border-b","border-slate-700"],[1,"text-xl","font-semibold","text-white"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left"],["type","checkbox",1,"h-4","w-4","rounded","bg-slate-700","border-slate-600","text-sky-600","focus:ring-sky-500",3,"change","checked","disabled"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[3,"itemType","itemName","users"],[3,"itemType","itemName"],[1,"text-sm","font-medium","text-slate-400"],[1,"inline-flex","items-center","px-2.5","py-1","bg-slate-700","text-xs","font-semibold","text-slate-200","rounded-full"],[1,"text-sky-400","hover:text-sky-300","text-sm","font-medium","ml-2",3,"click"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-colors","flex","items-center",3,"class"],[1,"text-sm","font-medium","text-slate-300","shrink-0"],[1,"space-x-2"],[1,"px-3","py-1.5","text-sm","font-medium","rounded-md","text-white","bg-slate-600","hover:bg-slate-500","transition-colors",3,"click"],[1,"px-3","py-1.5","text-sm","font-medium","rounded-md","text-white","bg-yellow-600","hover:bg-yellow-500","transition-colors",3,"click"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap"],["type","checkbox",1,"h-4","w-4","rounded","bg-slate-700","border-slate-600","text-sky-600","focus:ring-sky-500",3,"change","checked"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300","font-mono"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-amber-600","hover:bg-amber-700","rounded"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-sky-600","hover:bg-sky-700","rounded","disabled:bg-slate-600","disabled:cursor-not-allowed",3,"disabled"],[1,"px-2","py-1","text-xs","font-semibold","text-slate-300","bg-slate-700","hover:bg-slate-600","rounded",3,"click"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],[1,"bg-slate-900/70"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-amber-600","hover:bg-amber-700","rounded",3,"click"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-sky-600","hover:bg-sky-700","rounded","disabled:bg-slate-600","disabled:cursor-not-allowed",3,"click","disabled"],["colspan","9",1,"p-4"],[1,"text-white"],[1,"font-bold","mb-2"],[1,"min-w-full","text-sm"],[1,"text-slate-400","text-sm"],[1,"bg-slate-800/50"],[1,"px-3","py-2","text-left"],[1,"divide-y","divide-slate-700"],[1,"px-3","py-2"],["colspan","9",1,"text-center","py-10","text-slate-400"],[3,"close","checkout","itemType","itemName","users"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),c(4,"Asset List"),l(),a(5,"p",3),c(6,"A list of all the assets in your account."),l()(),a(7,"div",4)(8,"button",5),y("click",function(){return i.exportFilteredAssets()}),A(),a(9,"svg",6),v(10,"path",7),l(),c(11," Export "),l(),j(),a(12,"a",8),c(13," + Add Asset "),l()()(),a(14,"div",9)(15,"div",10)(16,"label",11),c(17,"Filter by SBU:"),l(),a(18,"select",12),y("change",function(o){return i.onSbuFilterChange(o)}),a(19,"option",13),c(20,"All"),l(),U(21,i3,2,2,"option",14,Rm),l()(),a(23,"div",15)(24,"div",16),A(),a(25,"svg",17),v(26,"path",18),l()(),j(),a(27,"input",19),y("input",function(o){return i.onSearch(o)}),l()()(),T(28,a3,8,3,"div",20),a(29,"div",21)(30,"div",20)(31,"button",22),y("click",function(){return i.setFilter("all")}),c(32," All "),a(33,"span",23),c(34),l()(),U(35,c3,1,1,null,null,Rm),l(),T(37,u3,8,1,"div",24),l(),a(38,"div",25)(39,"div",26)(40,"h3",27),c(41,"Assets"),l()(),a(42,"div",28)(43,"table",29)(44,"thead",30)(45,"tr")(46,"th",31)(47,"input",32),y("change",function(){return i.toggleSelectAll()}),l()(),a(48,"th",33),c(49,"Asset Type"),l(),a(50,"th",33),c(51,"AMS Asset ID"),l(),a(52,"th",33),c(53,"Asset Model"),l(),a(54,"th",33),c(55,"Serial Number"),l(),a(56,"th",33),c(57,"User ID"),l(),a(58,"th",33),c(59,"Department"),l(),a(60,"th",33),c(61,"Status"),l(),a(62,"th",33),c(63,"Actions"),l()()(),a(64,"tbody",34),U(65,y3,29,17,null,null,Rm,!1,b3,3,0,"tr"),l()()()()(),T(68,_3,1,3,"app-checkout-modal",35),T(69,x3,1,2,"app-confirmation-modal",36)),e&2){let r,o;f(8),x("disabled",i.filteredAssets().length===0),f(10),x("value",i.sbuFilter()),f(3),B(i.sbus()),f(6),x("value",i.searchQuery()),f(),I(i.hasActiveQueryFilters()?28:-1),f(3),Fe(i.statusFilter()==="all"?"bg-sky-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"),f(3),E(i.statusCounts().all),f(),B(i.statusLabels()),f(2),I(i.selectedAssetIds().size>0?37:-1),f(10),x("checked",i.isAllSelected())("disabled",i.filteredAssets().length===0),f(18),B(i.filteredAssets()),f(3),I((r=i.isCheckoutModalOpen()&&i.itemToCheckOut())?68:-1,r),f(),I((o=i.isDeleteModalOpen()&&i.itemToDelete())?69:-1,o)}},dependencies:[F,ae,ln,ke],encapsulation:2,changeDetection:0});var Fm=Jo;var C3=n=>["/accessory/edit",n],Ew=(n,t)=>t.id;function w3(n,t){if(n&1&&(a(0,"tr")(1,"td",33),c(2),l(),a(3,"td",33),c(4),l()()),n&2){let e=t.$implicit;f(2),E(e.userName),f(2),E(e.checkoutDate)}}function S3(n,t){if(n&1&&(a(0,"table",28)(1,"thead",30)(2,"tr")(3,"th",31),c(4,"User"),l(),a(5,"th",31),c(6,"Date"),l()()(),a(7,"tbody",32),U(8,w3,5,2,"tr",null,Ew),l()()),n&2){let e=b(3);f(8),B(e.checkoutsForExpandedItem())}}function E3(n,t){n&1&&(a(0,"p",29),c(1,"No checkout history for this item."),l())}function D3(n,t){if(n&1&&(a(0,"tr",24)(1,"td",25)(2,"div",26)(3,"h4",27),c(4,"Checkout History"),l(),T(5,S3,10,0,"table",28)(6,E3,2,0,"p",29),l()()()),n&2){let e=b(2);f(5),I(e.checkoutsForExpandedItem().length>0?5:6)}}function T3(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",14),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",15),c(6),l(),a(7,"td",15)(8,"span",16),v(9,"span",17),c(10),l()(),a(11,"td",18)(12,"div",19)(13,"button",20),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openCheckoutModal(r))}),c(14,"Checkout"),l(),a(15,"button",21),y("click",function(){let r=w(e).$implicit,o=b();return S(o.toggleCheckoutsView(r.id))}),c(16,"History"),l(),a(17,"a",22),c(18,"Edit"),l(),a(19,"button",23),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(20,"Delete"),l()()()(),T(21,D3,7,1,"tr",24)}if(n&2){let e=t.$implicit,i=b();f(2),E(e.name),f(2),E(e.category),f(2),E(e.total),f(3),Fe(i.getAvailabilityColorClass(e)),f(),X(" ",e.available," "),f(3),x("disabled",e.available<=0),f(4),x("routerLink",Ae(9,C3,e.id)),f(4),I(i.expandedItemId()===e.id?21:-1)}}function I3(n,t){n&1&&(a(0,"tr")(1,"td",34),c(2,"No accessories found."),l()())}function k3(n,t){if(n&1){let e=O();a(0,"app-checkout-modal",35),y("close",function(){w(e);let r=b();return S(r.closeCheckoutModal())})("checkout",function(r){w(e);let o=b();return S(o.onCheckout(r))}),l()}if(n&2){let e=b();x("itemType","Accessory")("itemName",t.name)("users",e.users())}}function A3(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",36),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Accessory")("itemName",t.name)}var Xo=class Xo{constructor(){this.assetService=h(V);this.router=h(L);this.accessories=this.assetService.accessories;this.users=this.assetService.users;this.checkouts=this.assetService.accessoryCheckouts;this.expandedItemId=D(null);this.isCheckoutModalOpen=D(!1);this.itemToCheckOut=D(null);this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null);this.checkoutsForExpandedItem=oe(()=>{let t=this.expandedItemId();return t===null?[]:this.checkouts().filter(e=>e.accessoryId===t)})}toggleCheckoutsView(t){this.expandedItemId.update(e=>e===t?null:t)}openCheckoutModal(t){t.available>0?(this.itemToCheckOut.set(t),this.isCheckoutModalOpen.set(!0)):alert("This item is not available to check out.")}closeCheckoutModal(){this.isCheckoutModalOpen.set(!1),this.itemToCheckOut.set(null)}async onCheckout(t){let e=this.itemToCheckOut();e&&(await this.assetService.checkoutAccessory(e.id,t),this.closeCheckoutModal())}getAvailabilityColorClass(t){return t.available===0?"bg-red-500":t.available<t.total*.25?"bg-yellow-500":"bg-green-500"}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteAccessory(t.id),this.closeDeleteModal())}};Xo.\u0275fac=function(e){return new(e||Xo)},Xo.\u0275cmp=R({type:Xo,selectors:[["app-accessories"]],decls:30,vars:3,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],["routerLink","/accessory/create",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-slate-700"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[3,"itemType","itemName","users"],[3,"itemType","itemName"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"inline-flex","items-center"],[1,"h-2","w-2","rounded-full","mr-2"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-sky-600","hover:bg-sky-700","rounded","disabled:bg-slate-600","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-2","py-1","text-xs","font-semibold","text-slate-300","bg-slate-700","hover:bg-slate-600","rounded",3,"click"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],[1,"bg-slate-900/70"],["colspan","5",1,"p-4"],[1,"text-white"],[1,"font-bold","mb-2"],[1,"min-w-full","text-sm"],[1,"text-slate-400","text-sm"],[1,"bg-slate-800/50"],[1,"px-3","py-2","text-left"],[1,"divide-y","divide-slate-700"],[1,"px-3","py-2"],["colspan","5",1,"text-center","py-10","text-slate-400"],[3,"close","checkout","itemType","itemName","users"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),c(4,"Accessories"),l(),a(5,"p",3),c(6,"Manage all your accessories."),l()(),a(7,"a",4),c(8," Create New "),l()(),a(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),c(15,"Name"),l(),a(16,"th",9),c(17,"Category"),l(),a(18,"th",9),c(19,"Total"),l(),a(20,"th",9),c(21,"Available"),l(),a(22,"th",9),c(23,"Actions"),l()()(),a(24,"tbody",10),U(25,T3,22,11,null,null,Ew,!1,I3,3,0,"tr"),l()()()()(),T(28,k3,1,3,"app-checkout-modal",11),T(29,A3,1,2,"app-confirmation-modal",12)),e&2){let r,o;f(25),B(i.accessories()),f(3),I((r=i.isCheckoutModalOpen()&&i.itemToCheckOut())?28:-1,r),f(),I((o=i.isDeleteModalOpen()&&i.itemToDelete())?29:-1,o)}},dependencies:[F,ae,ln,ke],encapsulation:2,changeDetection:0});var Om=Xo;var M3=n=>["/consumable/edit",n],Dw=(n,t)=>t.id;function N3(n,t){if(n&1&&(a(0,"tr")(1,"td",33),c(2),l(),a(3,"td",33),c(4),l()()),n&2){let e=t.$implicit;f(2),E(e.userName),f(2),E(e.checkoutDate)}}function R3(n,t){if(n&1&&(a(0,"table",28)(1,"thead",30)(2,"tr")(3,"th",31),c(4,"User"),l(),a(5,"th",31),c(6,"Date"),l()()(),a(7,"tbody",32),U(8,N3,5,2,"tr",null,Dw),l()()),n&2){let e=b(3);f(8),B(e.checkoutsForExpandedItem())}}function F3(n,t){n&1&&(a(0,"p",29),c(1,"No checkout history for this item."),l())}function O3(n,t){if(n&1&&(a(0,"tr",24)(1,"td",25)(2,"div",26)(3,"h4",27),c(4,"Checkout History"),l(),T(5,R3,10,0,"table",28)(6,F3,2,0,"p",29),l()()()),n&2){let e=b(2);f(5),I(e.checkoutsForExpandedItem().length>0?5:6)}}function L3(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",14),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",15),c(6),l(),a(7,"td",15)(8,"span",16),v(9,"span",17),c(10),l()(),a(11,"td",18)(12,"div",19)(13,"button",20),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openCheckoutModal(r))}),c(14,"Checkout"),l(),a(15,"button",21),y("click",function(){let r=w(e).$implicit,o=b();return S(o.toggleCheckoutsView(r.id))}),c(16,"History"),l(),a(17,"a",22),c(18,"Edit"),l(),a(19,"button",23),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(20,"Delete"),l()()()(),T(21,O3,7,1,"tr",24)}if(n&2){let e=t.$implicit,i=b();f(2),E(e.name),f(2),E(e.category),f(2),E(e.total),f(3),Fe(i.getAvailabilityColorClass(e)),f(),X(" ",e.available," "),f(3),x("disabled",e.available<=0),f(4),x("routerLink",Ae(9,M3,e.id)),f(4),I(i.expandedItemId()===e.id?21:-1)}}function P3(n,t){n&1&&(a(0,"tr")(1,"td",34),c(2,"No consumables found."),l()())}function V3(n,t){if(n&1){let e=O();a(0,"app-checkout-modal",35),y("close",function(){w(e);let r=b();return S(r.closeCheckoutModal())})("checkout",function(r){w(e);let o=b();return S(o.onCheckout(r))}),l()}if(n&2){let e=b();x("itemType","Consumable")("itemName",t.name)("users",e.users())}}function j3(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",36),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Consumable")("itemName",t.name)}var es=class es{constructor(){this.assetService=h(V);this.router=h(L);this.consumables=this.assetService.consumables;this.users=this.assetService.users;this.checkouts=this.assetService.consumableCheckouts;this.expandedItemId=D(null);this.isCheckoutModalOpen=D(!1);this.itemToCheckOut=D(null);this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null);this.checkoutsForExpandedItem=oe(()=>{let t=this.expandedItemId();return t===null?[]:this.checkouts().filter(e=>e.consumableId===t)})}toggleCheckoutsView(t){this.expandedItemId.update(e=>e===t?null:t)}openCheckoutModal(t){t.available>0?(this.itemToCheckOut.set(t),this.isCheckoutModalOpen.set(!0)):alert("This item is not available to check out.")}closeCheckoutModal(){this.isCheckoutModalOpen.set(!1),this.itemToCheckOut.set(null)}async onCheckout(t){let e=this.itemToCheckOut();e&&(await this.assetService.checkoutConsumable(e.id,t),this.closeCheckoutModal())}getAvailabilityColorClass(t){return t.available===0?"bg-red-500":t.available<t.total*.25?"bg-yellow-500":"bg-green-500"}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteConsumable(t.id),this.closeDeleteModal())}};es.\u0275fac=function(e){return new(e||es)},es.\u0275cmp=R({type:es,selectors:[["app-consumables"]],decls:30,vars:3,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],["routerLink","/consumable/create",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-slate-700"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[3,"itemType","itemName","users"],[3,"itemType","itemName"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"inline-flex","items-center"],[1,"h-2","w-2","rounded-full","mr-2"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-sky-600","hover:bg-sky-700","rounded","disabled:bg-slate-600","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-2","py-1","text-xs","font-semibold","text-slate-300","bg-slate-700","hover:bg-slate-600","rounded",3,"click"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],[1,"bg-slate-900/70"],["colspan","5",1,"p-4"],[1,"text-white"],[1,"font-bold","mb-2"],[1,"min-w-full","text-sm"],[1,"text-slate-400","text-sm"],[1,"bg-slate-800/50"],[1,"px-3","py-2","text-left"],[1,"divide-y","divide-slate-700"],[1,"px-3","py-2"],["colspan","5",1,"text-center","py-10","text-slate-400"],[3,"close","checkout","itemType","itemName","users"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),c(4,"Consumables"),l(),a(5,"p",3),c(6,"Manage all your consumables."),l()(),a(7,"a",4),c(8," Create New "),l()(),a(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),c(15,"Name"),l(),a(16,"th",9),c(17,"Category"),l(),a(18,"th",9),c(19,"Total"),l(),a(20,"th",9),c(21,"Available"),l(),a(22,"th",9),c(23,"Actions"),l()()(),a(24,"tbody",10),U(25,L3,22,11,null,null,Dw,!1,P3,3,0,"tr"),l()()()()(),T(28,V3,1,3,"app-checkout-modal",11),T(29,j3,1,2,"app-confirmation-modal",12)),e&2){let r,o;f(25),B(i.consumables()),f(3),I((r=i.isCheckoutModalOpen()&&i.itemToCheckOut())?28:-1,r),f(),I((o=i.isDeleteModalOpen()&&i.itemToDelete())?29:-1,o)}},dependencies:[F,ae,ln,ke],encapsulation:2,changeDetection:0});var Lm=es;var Tw=(n,t)=>t.id;function U3(n,t){if(n&1&&(a(0,"tr")(1,"td",35),c(2),l(),a(3,"td",35),c(4),l()()),n&2){let e=t.$implicit;f(2),E(e.userName),f(2),E(e.checkoutDate)}}function B3(n,t){if(n&1&&(a(0,"table",30)(1,"thead",32)(2,"tr")(3,"th",33),c(4,"User"),l(),a(5,"th",33),c(6,"Date"),l()()(),a(7,"tbody",34),U(8,U3,5,2,"tr",null,Tw),l()()),n&2){let e=b(3);f(8),B(e.checkoutsForExpandedItem())}}function $3(n,t){n&1&&(a(0,"p",31),c(1,"No checkout history for this license."),l())}function H3(n,t){if(n&1&&(a(0,"tr",26)(1,"td",27)(2,"div",28)(3,"h4",29),c(4,"Checkout History"),l(),T(5,B3,10,0,"table",30)(6,$3,2,0,"p",31),l()()()),n&2){let e=b(2);f(5),I(e.checkoutsForExpandedItem().length>0?5:6)}}function G3(n,t){if(n&1){let e=O();a(0,"tr",12)(1,"td",13),c(2),l(),a(3,"td",14),c(4),l(),a(5,"td",15)(6,"div",16)(7,"span",17),c(8),l(),a(9,"div",18),v(10,"div",19),l()()(),a(11,"td",15),c(12),l(),a(13,"td",20)(14,"div",21)(15,"button",22),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openCheckoutModal(r))}),c(16,"Checkout"),l(),a(17,"button",23),y("click",function(){let r=w(e).$implicit,o=b();return S(o.toggleCheckoutsView(r.id))}),c(18,"History"),l(),a(19,"a",24),y("click",function(r){let o=w(e).$implicit,s=b();return S(s.editLicense(o.id,r))}),c(20,"Edit"),l(),a(21,"a",25),y("click",function(r){let o=w(e).$implicit,s=b();return S(s.deleteLicense(o.id,r))}),c(22,"Delete"),l()()()(),T(23,H3,7,1,"tr",26)}if(n&2){let e=t.$implicit,i=b();f(2),E(e.name),f(2),E(e.productKey),f(4),Ht("",e.usedSeats," / ",e.totalSeats);let r=i.getSeatUsagePercentage(e);f(2),Fe(i.getProgressBarColor(r)),$t("width",r,"%"),f(2),E(e.expirationDate),f(3),x("disabled",e.usedSeats>=e.totalSeats),f(8),I(i.expandedLicenseId()===e.id?23:-1)}}function z3(n,t){n&1&&(a(0,"tr")(1,"td",36),c(2,"No licenses found."),l()())}function q3(n,t){if(n&1){let e=O();a(0,"app-checkout-modal",37),y("close",function(){w(e);let r=b();return S(r.closeCheckoutModal())})("checkout",function(r){w(e);let o=b();return S(o.onCheckout(r))}),l()}if(n&2){let e=b();x("itemType","License")("itemName",t.name)("users",e.users())}}var ts=class ts{constructor(){this.assetService=h(V);this.router=h(L);this.licenses=this.assetService.licenses;this.users=this.assetService.users;this.checkouts=this.assetService.licenseCheckouts;this.expandedLicenseId=D(null);this.isCheckoutModalOpen=D(!1);this.itemToCheckOut=D(null);this.checkoutsForExpandedItem=oe(()=>{let t=this.expandedLicenseId();return t===null?[]:this.checkouts().filter(e=>e.licenseId===t)})}toggleCheckoutsView(t){this.expandedLicenseId.update(e=>e===t?null:t)}openCheckoutModal(t){t.usedSeats<t.totalSeats?(this.itemToCheckOut.set(t),this.isCheckoutModalOpen.set(!0)):alert("No available seats to check out.")}closeCheckoutModal(){this.isCheckoutModalOpen.set(!1),this.itemToCheckOut.set(null)}onCheckout(t){let e=this.itemToCheckOut();e&&(this.assetService.checkoutLicense(e.id,t),this.closeCheckoutModal())}getSeatUsagePercentage(t){return t.totalSeats===0?0:t.usedSeats/t.totalSeats*100}getProgressBarColor(t){return t<75?"bg-sky-500":t<90?"bg-yellow-500":"bg-red-500"}editLicense(t,e){e.preventDefault(),this.router.navigate(["/license/edit",t])}deleteLicense(t,e){e.preventDefault(),confirm(`Are you sure you want to delete the license with ID: ${t}?`)&&this.assetService.deleteLicense(t)}};ts.\u0275fac=function(e){return new(e||ts)},ts.\u0275cmp=R({type:ts,selectors:[["app-licenses"]],decls:29,vars:2,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],["routerLink","/license/create",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-slate-700"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[3,"itemType","itemName","users"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300","font-mono"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"flex","items-center"],[1,"mr-2"],[1,"w-24","bg-slate-700","rounded-full","h-2.5"],[1,"h-2.5","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-sky-600","hover:bg-sky-700","rounded","disabled:bg-slate-600","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-2","py-1","text-xs","font-semibold","text-slate-300","bg-slate-700","hover:bg-slate-600","rounded",3,"click"],["href","#",1,"text-sky-400","hover:text-sky-300",3,"click"],["href","#",1,"text-red-500","hover:text-red-400",3,"click"],[1,"bg-slate-900/70"],["colspan","5",1,"p-4"],[1,"text-white"],[1,"font-bold","mb-2"],[1,"min-w-full","text-sm"],[1,"text-slate-400","text-sm"],[1,"bg-slate-800/50"],[1,"px-3","py-2","text-left"],[1,"divide-y","divide-slate-700"],[1,"px-3","py-2"],["colspan","5",1,"text-center","py-10","text-slate-400"],[3,"close","checkout","itemType","itemName","users"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),c(4,"Licenses"),l(),a(5,"p",3),c(6,"Manage all your software licenses."),l()(),a(7,"a",4),c(8," Create New "),l()(),a(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),c(15,"Name "),l(),a(16,"th",9),c(17," Product Key"),l(),a(18,"th",9),c(19," Seats (Used/Total)"),l(),a(20,"th",9),c(21," Expiration Date"),l(),a(22,"th",9),c(23," Actions"),l()()(),a(24,"tbody",10),U(25,G3,24,11,null,null,Tw,!1,z3,3,0,"tr"),l()()()()(),T(28,q3,1,3,"app-checkout-modal",11)),e&2){let r;f(25),B(i.licenses()),f(3),I((r=i.isCheckoutModalOpen()&&i.itemToCheckOut())?28:-1,r)}},dependencies:[F,ae,ln],encapsulation:2,changeDetection:0});var Pm=ts;var W3=n=>["/user/edit",n],Q3=(n,t)=>t.id;function Z3(n,t){n&1&&(A(),a(0,"svg",28),v(1,"circle",29)(2,"path",30),l(),c(3," Importing... "))}function Y3(n,t){n&1&&c(0," Import ")}function K3(n,t){if(n&1){let e=O();a(0,"tr",26)(1,"td",31)(2,"div",32)(3,"div",33),A(),a(4,"svg",34),v(5,"path",35),l()(),j(),a(6,"div",36)(7,"div",37),c(8),l()()()(),a(9,"td",38)(10,"div"),c(11),l(),a(12,"div",39),c(13),l()(),a(14,"td",38),c(15),l(),a(16,"td",38),c(17),l(),a(18,"td",38),c(19),l(),a(20,"td",38),c(21),l(),a(22,"td",38),c(23),l(),a(24,"td",38),c(25),l(),a(26,"td",38),c(27),l(),a(28,"td",40)(29,"a",41),c(30,"Edit"),l(),a(31,"button",42),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(32,"Delete"),l()()()}if(n&2){let e=t.$implicit;f(8),E(e.name),f(3),E(e.email),f(2),E(e.username),f(2),E(e.phone??"\u2014"),f(2),E(e.job_title??e.jobTitle??"\u2014"),f(2),E(e.department??"\u2014"),f(2),E(e.company_name??e.companyName??"\u2014"),f(2),E(e.office_location??e.officeLocation??"\u2014"),f(2),E(e.manager??"\u2014"),f(2),E(e.assets),f(2),x("routerLink",Ae(11,W3,e.id))}}function J3(n,t){n&1&&(a(0,"tr")(1,"td",43),c(2,"No users found."),l()())}function X3(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",44),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","User")("itemName",t.name)}var ns=class ns{constructor(){this.assetService=h(V);this.router=h(L);this.users=this.assetService.users;this.selectedFile=D(null);this.isImporting=D(!1);this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}exportPeople(){let t=this.users();if(t.length===0){alert("No users to export.");return}let e=t.map(m=>({name:m.name,username:m.username,email:m.email,phone:m.phone,department:m.department,jobTitle:m.job_title??m.jobTitle,companyName:m.company_name??m.companyName,officeLocation:m.office_location??m.officeLocation,manager:m.manager})),i=Object.keys(e[0]),r=e.map(m=>i.map(p=>{let g=m[p],C=g==null?"":String(g);return/[",\n\r]/.test(C)?`"${C.replace(/"/g,'""')}"`:C}).join(",")),o=[i.join(","),...r].join(`
`),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),d=URL.createObjectURL(s);u.setAttribute("href",d),u.setAttribute("download","people.csv"),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}onFileSelected(t){let e=t.target;e.files&&e.files.length>0?this.selectedFile.set(e.files[0]):this.selectedFile.set(null)}async importPeople(){let t=this.selectedFile();if(t){this.isImporting.set(!0);try{let e=await this.readFile(t),i=XLSX.read(e,{type:"binary"}),r=i.SheetNames[0],o=XLSX.utils.sheet_to_json(i.Sheets[r]),s=this.users(),u=0,d=0;for(let m of o){let p=m.username||m.Username,g=m.email||m.Email,C=m.name||m.Name;if(!p||!g||!C){console.warn("Skipping row due to missing name, username, or email:",m),d++;continue}if(s.some(M=>M.username.toLowerCase()===p.toLowerCase()||M.email.toLowerCase()===g.toLowerCase())){console.warn(`Skipping user with duplicate username or email: ${p} / ${g}`),d++;continue}let _={name:C,username:p,email:g,phone:m.phone||m.Phone||m["Phone Number"],department:m.department||m.Department,jobTitle:m.jobTitle||m["Job Title"],companyName:m.companyName||m["Company Name"],officeLocation:m.officeLocation||m["Office Location"],manager:m.manager||m.Manager,assets:0,accessories:0,licenses:0};await this.assetService.addUser(_),u++}alert(`Import complete! ${u} users added, ${d} rows skipped.`)}catch(e){console.error("Error importing users:",e),alert("An error occurred during import. Please check the console for details.")}finally{this.isImporting.set(!1),this.selectedFile.set(null);let e=document.getElementById("import-file");e&&(e.value="")}}}readFile(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>e(o.target.result),r.onerror=o=>i(o),r.readAsBinaryString(t)})}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteUser(t.id),this.closeDeleteModal())}};ns.\u0275fac=function(e){return new(e||ns)},ns.\u0275cmp=R({type:ns,selectors:[["app-people"]],decls:61,vars:6,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between","flex-wrap","gap-4"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"flex","items-center","space-x-2"],[1,"inline-flex","items-center","px-4","py-2","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700/50","hover:bg-slate-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["routerLink","/user/create",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6"],[1,"md:grid","md:grid-cols-3","md:gap-6"],[1,"md:col-span-1"],[1,"text-lg","font-medium","leading-6","text-white"],[1,"mt-1","text-sm","text-slate-400"],[1,"mt-5","md:mt-0","md:col-span-2"],[1,"flex","items-center","space-x-4"],["for","import-file",1,"cursor-pointer","flex-1","w-full","inline-flex","justify-center","items-center","px-4","py-2.5","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700","hover:bg-slate-600"],["stroke-linecap","round","stroke-linejoin","round","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["id","import-file","type","file","accept",".csv, text/csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"hidden",3,"change"],[1,"inline-flex","justify-center","items-center","px-4","py-2.5","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-green-600","hover:bg-green-700","disabled:bg-green-600/50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-slate-700"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"flex","items-center"],[1,"flex-shrink-0","h-10","w-10","rounded-full","bg-slate-700","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"],[1,"ml-4"],[1,"text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"text-slate-400"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","10",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),c(4,"People"),l(),a(5,"p",3),c(6,"Manage all users in the system."),l()(),a(7,"div",4)(8,"button",5),y("click",function(){return i.exportPeople()}),A(),a(9,"svg",6),v(10,"path",7),l(),c(11," Export "),l(),j(),a(12,"a",8),c(13," Create New "),l()()(),a(14,"div",9)(15,"div",10)(16,"div",11)(17,"h3",12),c(18,"Import Users"),l(),a(19,"p",13),c(20," Upload a CSV or XLSX file with columns for 'name', 'username', and 'email' to bulk-add new users. "),l()(),a(21,"div",14)(22,"div",15)(23,"label",16),A(),a(24,"svg",6),v(25,"path",17),l(),c(26),j(),a(27,"input",18),y("change",function(o){return i.onFileSelected(o)}),l()(),a(28,"button",19),y("click",function(){return i.importPeople()}),T(29,Z3,4,0)(30,Y3,1,0),l()()()()(),a(31,"div",20)(32,"div",21)(33,"table",22)(34,"thead",23)(35,"tr")(36,"th",24),c(37,"Name"),l(),a(38,"th",24),c(39,"Email & Username"),l(),a(40,"th",24),c(41,"Phone"),l(),a(42,"th",24),c(43,"Job Title"),l(),a(44,"th",24),c(45,"Department"),l(),a(46,"th",24),c(47,"Company"),l(),a(48,"th",24),c(49,"Location"),l(),a(50,"th",24),c(51,"Manager"),l(),a(52,"th",24),c(53,"Assets"),l(),a(54,"th",24),c(55,"Actions"),l()()(),a(56,"tbody",25),U(57,K3,33,13,"tr",26,Q3,!1,J3,3,0,"tr"),l()()()()(),T(60,X3,1,2,"app-confirmation-modal",27)),e&2){let r;f(8),x("disabled",i.users().length===0),f(18),X(" ",i.selectedFile()?i.selectedFile().name:"Choose CSV/XLSX File"," "),f(2),x("disabled",!i.selectedFile()||i.isImporting()),f(),I(i.isImporting()?29:30),f(28),B(i.users()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?60:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var Vm=ns;var eR=(n,t)=>t.id,Iw=(n,t)=>t.name;function tR(n,t){if(n&1&&(a(0,"option",7),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function nR(n,t){if(n&1&&(a(0,"div",3),v(1,"span",18),a(2,"span"),c(3),l()()),n&2){let e=t.$implicit,i=b(2);f(),$t("background-color",i.statusColors(e.name)),f(2),Ht("",e.name," (",e.value,")")}}function iR(n,t){if(n&1&&(v(0,"div",16),a(1,"div",17),U(2,nR,4,4,"div",3,Iw),l()),n&2){let e=b();f(2),B(e.assetsByStatus())}}function rR(n,t){n&1&&(a(0,"div",11),c(1,"No data available"),l())}function oR(n,t){n&1&&v(0,"div",12)}function sR(n,t){n&1&&(a(0,"div",13),c(1,"No data available"),l())}function aR(n,t){if(n&1&&(a(0,"div",3),v(1,"span",21),a(2,"span",22),c(3),l()()),n&2){let e=t.$implicit,i=b(2);f(),$t("background-color",i.categoryColors(e.name)),f(),x("title",k0("",e.name," (",e.value,")")),f(),Ht("",e.name," (",e.value,")")}}function lR(n,t){if(n&1&&(a(0,"div",14),v(1,"div",19),a(2,"div",20),U(3,aR,4,7,"div",3,Iw),l()()),n&2){let e=b();f(3),B(e.assetsByCategory())}}function cR(n,t){n&1&&(a(0,"div",15),c(1,"No data available"),l())}var is=class is{constructor(){this.assetService=h(V);this.filterService=h(sn);this.elementRef=h(nt);this.router=h(L);this.viewInitialized=!1;this.sbus=this.assetService.sbus;this.sbuFilter=this.filterService.sbuFilter;this.filteredAssets=oe(()=>{let t=this.assetService.assets(),e=this.sbuFilter();return e==="all"?t:t.filter(i=>i.sbu.name===e)});this.assetsByStatus=oe(()=>{let t={Deployed:0,"Ready to deploy":0,Eol:0,Sold:0,"Lost or stolen":0};return this.filteredAssets().forEach(e=>{e.status.name==="Deployed"?t.Deployed++:e.status.name==="Ready to Deploy"?t["Ready to deploy"]++:e.status.name==="EOL"?t.Eol++:e.status.name==="Sold"?t.Sold++:e.status.status_type==="undeployable"&&t["Lost or stolen"]++}),Object.entries(t).map(([e,i])=>({name:e,value:i})).filter(e=>e.value>0)});this.assetsByLocation=oe(()=>{let t=this.filteredAssets().reduce((e,i)=>{let r=i.location.name||"Unknown";return e[r]=(e[r]||0)+1,e},{});return Object.entries(t).map(([e,i])=>({name:e,value:i}))});this.assetsByCategory=oe(()=>{let t=this.filteredAssets().reduce((e,i)=>{let r=i.name||"Other";return e[r]=(e[r]||0)+1,e},{});return Object.entries(t).map(([e,i])=>({name:e,value:i}))});this.statusColors=d3.scaleOrdinal().domain(["Deployed","Ready to deploy","Eol","Sold","Lost or stolen"]).range(["#6d28d9","#8b5cf6","#3b82f6","#22c55e","#a1a1aa"]);this.categoryColors=d3.scaleOrdinal().range(["#6d28d9","#a78bfa","#38bdf8","#34d399","#a3a3a3","#c4b5fd","#a855f7","#60a5fa","#2dd4bf"]);Dt(()=>{this.filteredAssets(),this.viewInitialized&&this.drawCharts()})}ngAfterViewInit(){this.viewInitialized=!0,this.drawCharts()}onSbuFilterChange(t){let e=t.target;this.filterService.setSbuFilter(e.value)}drawCharts(){this.drawStatusChart(),this.drawLocationChart(),this.drawCategoryChart()}drawStatusChart(){let t=this.assetsByStatus(),e=this.elementRef.nativeElement.querySelector("#status-chart-container");if(!e||t.length===0)return;let i=e.offsetWidth,r=250,o=Math.min(i,r)/2;d3.select(e).select("svg").remove();let s=d3.select(e).append("svg").attr("width",i).attr("height",r).append("g").attr("transform",`translate(${i/2}, ${r/2})`),u=d3.pie().value(m=>m.value).sort(null),d=d3.arc().innerRadius(0).outerRadius(o);s.selectAll("path").data(u(t)).enter().append("path").attr("d",d).attr("fill",m=>this.statusColors(m.data.name)).style("cursor","pointer").on("click",(m,p)=>{let C={Deployed:"deployed","Ready to deploy":"deployable",Sold:"sold",Eol:"archived","Lost or stolen":"undeployable"}[p.data.name];C&&this.router.navigate(["/assets"],{queryParams:{status:C}})})}drawLocationChart(){let t=this.assetsByLocation(),e=this.elementRef.nativeElement.querySelector("#location-chart-container");if(!e||t.length===0)return;d3.select(e).select("svg").remove();let i={top:20,right:20,bottom:50,left:40},r=e.offsetWidth-i.left-i.right,o=300-i.top-i.bottom,s=d3.select(e).append("svg").attr("width",r+i.left+i.right).attr("height",o+i.top+i.bottom).append("g").attr("transform",`translate(${i.left}, ${i.top})`),u=d3.scaleBand().domain(t.map(m=>m.name)).range([0,r]).padding(.4),d=d3.scaleLinear().domain([0,d3.max(t,m=>m.value)]).range([o,0]);s.append("g").attr("transform",`translate(0, ${o})`).call(d3.axisBottom(u)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-40)"),s.append("g").call(d3.axisLeft(d)),s.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",m=>u(m.name)).attr("y",m=>d(m.value)).attr("width",u.bandwidth()).attr("height",m=>o-d(m.value)).attr("fill","#6d28d9").style("cursor","pointer").on("click",(m,p)=>{this.router.navigate(["/assets"],{queryParams:{location:p.name}})})}drawCategoryChart(){let t=this.assetsByCategory(),e=this.elementRef.nativeElement.querySelector("#category-chart-container");if(!e||t.length===0)return;let i=250,r=250,o=Math.min(i,r)/2,s=o*.6;d3.select(e).select("svg").remove();let u=d3.select(e).append("svg").attr("width",i).attr("height",r).append("g").attr("transform",`translate(${i/2}, ${r/2})`),d=d3.pie().value(p=>p.value).sort(null),m=d3.arc().innerRadius(s).outerRadius(o);u.selectAll("path").data(d(t)).enter().append("path").attr("d",m).attr("fill",p=>this.categoryColors(p.data.name)).style("cursor","pointer").on("click",(p,g)=>{this.router.navigate(["/assets"],{queryParams:{category:g.data.name}})})}};is.\u0275fac=function(e){return new(e||is)},is.\u0275cmp=R({type:is,selectors:[["app-reports"]],decls:28,vars:4,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"flex","items-center"],["for","sbu-filter",1,"text-sm","font-medium","text-slate-300","mr-2"],["id","sbu-filter",1,"bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm",3,"change","value"],["value","all"],[3,"value"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6"],[1,"text-lg","font-semibold","text-white","mb-4"],[1,"flex","items-center","justify-center","h-[250px]","text-slate-500"],["id","location-chart-container",1,"w-full","h-[300px]"],[1,"flex","items-center","justify-center","h-[300px]","text-slate-500"],[1,"flex","flex-col","md:flex-row","items-center","gap-6"],[1,"flex","items-center","justify-center","h-48","text-slate-500"],["id","status-chart-container",1,"w-full","h-[250px]","mx-auto"],[1,"flex","flex-wrap","justify-center","gap-x-4","gap-y-2","mt-4","text-xs","text-slate-300"],[1,"w-3","h-3","rounded-full","mr-2"],["id","category-chart-container",1,"w-[250px]","h-[250px]","flex-shrink-0"],[1,"flex-grow","grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-x-4","gap-y-2","text-xs","text-slate-300"],[1,"w-3","h-3","rounded-sm","mr-2"],[1,"truncate",3,"title"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2",2),c(3,"Reports"),l(),a(4,"div",3)(5,"label",4),c(6,"Filter by SBU:"),l(),a(7,"select",5),y("change",function(o){return i.onSbuFilterChange(o)}),a(8,"option",6),c(9,"All"),l(),U(10,tR,2,2,"option",7,eR),l()()(),a(12,"div",8)(13,"div",9)(14,"h3",10),c(15,"Assets by Status"),l(),T(16,iR,4,0)(17,rR,2,0,"div",11),l(),a(18,"div",9)(19,"h3",10),c(20,"Assets by Location"),l(),T(21,oR,1,0,"div",12)(22,sR,2,0,"div",13),l()(),a(23,"div",9)(24,"h3",10),c(25,"Assets by Category"),l(),T(26,lR,5,0,"div",14)(27,cR,2,0,"div",15),l()()),e&2&&(f(7),x("value",i.sbuFilter()),f(3),B(i.sbus()),f(6),I(i.assetsByStatus().length>0?16:17),f(5),I(i.assetsByLocation().length>0?21:22),f(5),I(i.assetsByCategory().length>0?26:27))},dependencies:[F],encapsulation:2,changeDetection:0});var jm=is;var uR=(n,t)=>t.name;function dR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",9),l())}function mR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",10),l())}function fR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",11),l())}function pR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",12),l())}function hR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",13)(2,"path",14),l())}function gR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",12),l())}function vR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",15)(2,"path",16),l())}function yR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",17),l())}function bR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",18),l())}function _R(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",19)(2,"path",20),l())}function xR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",21),l())}function CR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",22),l())}function wR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",23),l())}function SR(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",24),l())}function ER(n,t){n&1&&(A(),a(0,"svg",7),v(1,"path",25),l())}function DR(n,t){if(n&1&&(a(0,"a",5)(1,"div",6),T(2,dR,2,0,":svg:svg",7)(3,mR,2,0,":svg:svg",7)(4,fR,2,0,":svg:svg",7)(5,pR,2,0,":svg:svg",7)(6,hR,3,0,":svg:svg",7)(7,gR,2,0,":svg:svg",7)(8,vR,3,0,":svg:svg",7)(9,yR,2,0,":svg:svg",7)(10,bR,2,0,":svg:svg",7)(11,_R,3,0,":svg:svg",7)(12,xR,2,0,":svg:svg",7)(13,CR,2,0,":svg:svg",7)(14,wR,2,0,":svg:svg",7)(15,SR,2,0,":svg:svg",7)(16,ER,2,0,":svg:svg",7),l(),a(17,"p",8),c(18),l()()),n&2){let e,i=t.$implicit;x("routerLink",i.route),f(2),I((e=i.icon)==="tag"?2:e==="cube"?3:e==="folder"?4:e==="industry"?5:e==="truck"?6:e==="building"?7:e==="map"?8:e==="briefcase"?9:e==="users"?10:e==="cog"?11:e==="sitemap"?12:e==="barcode"?13:e==="envelope"?14:e==="bell"?15:e==="cloud"?16:-1),f(16),E(i.name)}}var rs=class rs{constructor(){this.settings=[{name:"Status Labels",icon:"tag",route:"/settings/status-labels"},{name:"Asset Models",icon:"cube",route:"/settings/asset-models"},{name:"Categories",icon:"folder",route:"/settings/categories"},{name:"Manufacturers",icon:"industry",route:"/settings/manufacturers"},{name:"Suppliers",icon:"truck",route:"/settings/suppliers"},{name:"Departments",icon:"building",route:"/settings/departments"},{name:"Locations",icon:"map",route:"/settings/locations"},{name:"Companies",icon:"briefcase",route:"/settings/companies"},{name:"Authentication",icon:"users",route:"/settings/authentication"},{name:"LDAP / AD / Azure",icon:"cloud",route:"/settings/ldap"},{name:"General Settings",icon:"cog",route:"/settings/users"},{name:"SBUs",icon:"sitemap",route:"/settings/sbus"},{name:"Barcodes & Labels",icon:"barcode",route:"/settings/barcodes-labels"},{name:"Email Setting",icon:"envelope",route:"/settings/email"},{name:"Notifications",icon:"bell",route:"/settings/notifications"}]}};rs.\u0275fac=function(e){return new(e||rs)},rs.\u0275cmp=R({type:rs,selectors:[["app-settings"]],decls:9,vars:0,consts:[[1,"space-y-6"],[1,"px-6","md:px-8"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","xl:grid-cols-6","gap-6","px-6","md:px-8"],[1,"group","block","bg-slate-800/50","hover:bg-slate-700/50","border","border-slate-700/50","p-6","rounded-lg","text-center","transition-all","duration-200",3,"routerLink"],[1,"flex","justify-center","items-center","text-slate-400","group-hover:text-sky-400","mb-3","transition-colors","duration-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"h-10","w-10"],[1,"text-sm","font-semibold","text-slate-300","group-hover:text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M7 7h.01M7 3h5c.53 0 1.04.21 1.41.59l6.59 6.59a2 2 0 010 2.82l-5 5a2 2 0 01-2.82 0l-6.59-6.59A2 2 0 013 8V3h4z"],["stroke-linecap","round","stroke-linejoin","round","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],["stroke-linecap","round","stroke-linejoin","round","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"],["stroke-linecap","round","stroke-linejoin","round","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["d","M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10h10M13 16l2 4h3l2-4h-5z"],["stroke-linecap","round","stroke-linejoin","round","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M9 12h.01M15 12h.01M12 12h.01M6 12h.01M12 6h.01M16 18v2a2 2 0 01-2 2h-4a2 2 0 01-2-2v-2m4-12V2M12 2v2M8 2v2M5 20H3v-2a2 2 0 012-2h2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-1a6 6 0 00-1.78-4.125"],["stroke-linecap","round","stroke-linejoin","round","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4v16m8-8H4"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header",1)(2,"h2",2),c(3,"Settings"),l(),a(4,"p",3),c(5,"Manage application settings."),l()(),a(6,"div",4),U(7,DR,19,3,"a",5,uR),l()()),e&2&&(f(7),B(i.settings))},dependencies:[F,ae],encapsulation:2,changeDetection:0});var Um=rs;var TR=n=>["/component/edit",n],kw=(n,t)=>t.id;function IR(n,t){if(n&1&&(a(0,"tr")(1,"td",33),c(2),l(),a(3,"td",33),c(4),l()()),n&2){let e=t.$implicit;f(2),E(e.userName),f(2),E(e.checkoutDate)}}function kR(n,t){if(n&1&&(a(0,"table",28)(1,"thead",30)(2,"tr")(3,"th",31),c(4,"User"),l(),a(5,"th",31),c(6,"Date"),l()()(),a(7,"tbody",32),U(8,IR,5,2,"tr",null,kw),l()()),n&2){let e=b(3);f(8),B(e.checkoutsForExpandedItem())}}function AR(n,t){n&1&&(a(0,"p",29),c(1,"No checkout history for this item."),l())}function MR(n,t){if(n&1&&(a(0,"tr",24)(1,"td",25)(2,"div",26)(3,"h4",27),c(4,"Checkout History"),l(),T(5,kR,10,0,"table",28)(6,AR,2,0,"p",29),l()()()),n&2){let e=b(2);f(5),I(e.checkoutsForExpandedItem().length>0?5:6)}}function NR(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",14),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",15),c(6),l(),a(7,"td",15)(8,"span",16),v(9,"span",17),c(10),l()(),a(11,"td",18)(12,"div",19)(13,"button",20),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openCheckoutModal(r))}),c(14,"Checkout"),l(),a(15,"button",21),y("click",function(){let r=w(e).$implicit,o=b();return S(o.toggleCheckoutsView(r.id))}),c(16,"History"),l(),a(17,"a",22),c(18,"Edit"),l(),a(19,"button",23),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(20,"Delete"),l()()()(),T(21,MR,7,1,"tr",24)}if(n&2){let e=t.$implicit,i=b();f(2),E(e.name),f(2),E(e.category),f(2),E(e.total),f(3),Fe(i.getAvailabilityColorClass(e)),f(),X(" ",e.available," "),f(3),x("disabled",e.available<=0),f(4),x("routerLink",Ae(9,TR,e.id)),f(4),I(i.expandedItemId()===e.id?21:-1)}}function RR(n,t){n&1&&(a(0,"tr")(1,"td",34),c(2,"No components found."),l()())}function FR(n,t){if(n&1){let e=O();a(0,"app-checkout-modal",35),y("close",function(){w(e);let r=b();return S(r.closeCheckoutModal())})("checkout",function(r){w(e);let o=b();return S(o.onCheckout(r))}),l()}if(n&2){let e=b();x("itemType","Component")("itemName",t.name)("users",e.users())}}function OR(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",36),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Component")("itemName",t.name)}var os=class os{constructor(){this.assetService=h(V);this.router=h(L);this.components=this.assetService.components;this.users=this.assetService.users;this.checkouts=this.assetService.componentCheckouts;this.expandedItemId=D(null);this.isCheckoutModalOpen=D(!1);this.itemToCheckOut=D(null);this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null);this.checkoutsForExpandedItem=oe(()=>{let t=this.expandedItemId();return t===null?[]:this.checkouts().filter(e=>e.componentId===t)})}toggleCheckoutsView(t){this.expandedItemId.update(e=>e===t?null:t)}openCheckoutModal(t){t.available>0?(this.itemToCheckOut.set(t),this.isCheckoutModalOpen.set(!0)):alert("This item is not available to check out.")}closeCheckoutModal(){this.isCheckoutModalOpen.set(!1),this.itemToCheckOut.set(null)}async onCheckout(t){let e=this.itemToCheckOut();e&&(await this.assetService.checkoutComponent(e.id,t),this.closeCheckoutModal())}getAvailabilityColorClass(t){return t.available===0?"bg-red-500":t.available<t.total*.25?"bg-yellow-500":"bg-green-500"}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteComponent(t.id),this.closeDeleteModal())}};os.\u0275fac=function(e){return new(e||os)},os.\u0275cmp=R({type:os,selectors:[["app-components-page"]],decls:30,vars:3,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],["routerLink","/component/create",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-slate-700"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[3,"itemType","itemName","users"],[3,"itemType","itemName"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"inline-flex","items-center"],[1,"h-2","w-2","rounded-full","mr-2"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],[1,"px-2","py-1","text-xs","font-semibold","text-white","bg-sky-600","hover:bg-sky-700","rounded","disabled:bg-slate-600","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-2","py-1","text-xs","font-semibold","text-slate-300","bg-slate-700","hover:bg-slate-600","rounded",3,"click"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],[1,"bg-slate-900/70"],["colspan","5",1,"p-4"],[1,"text-white"],[1,"font-bold","mb-2"],[1,"min-w-full","text-sm"],[1,"text-slate-400","text-sm"],[1,"bg-slate-800/50"],[1,"px-3","py-2","text-left"],[1,"divide-y","divide-slate-700"],[1,"px-3","py-2"],["colspan","5",1,"text-center","py-10","text-slate-400"],[3,"close","checkout","itemType","itemName","users"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),c(4,"Components"),l(),a(5,"p",3),c(6,"Manage all your components."),l()(),a(7,"a",4),c(8," Create New "),l()(),a(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),c(15,"Name"),l(),a(16,"th",9),c(17,"Category"),l(),a(18,"th",9),c(19,"Total"),l(),a(20,"th",9),c(21,"Available"),l(),a(22,"th",9),c(23,"Actions"),l()()(),a(24,"tbody",10),U(25,NR,22,11,null,null,kw,!1,RR,3,0,"tr"),l()()()()(),T(28,FR,1,3,"app-checkout-modal",11),T(29,OR,1,2,"app-confirmation-modal",12)),e&2){let r,o;f(25),B(i.components()),f(3),I((r=i.isCheckoutModalOpen()&&i.itemToCheckOut())?28:-1,r),f(),I((o=i.isDeleteModalOpen()&&i.itemToDelete())?29:-1,o)}},dependencies:[F,ae,ln,ke],encapsulation:2,changeDetection:0});var Bm=os;var Sr=(n,t)=>t.id;function LR(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function PR(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function VR(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function jR(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function UR(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),Ht("",e.name," (",e.username,")")}}function BR(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function $R(n,t){if(n&1&&(a(0,"option",10),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}var ss=class ss{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.statuses=this.assetService.statusLabels;this.users=this.assetService.users;this.categories=this.assetService.categories;this.locations=this.assetService.locations;this.departments=this.assetService.departments;this.sbus=this.assetService.sbus;this.assetModels=this.assetService.assetModels;this.assetForm=this.fb.group({sbu:[null,k.required],category:[null,k.required],location:[null,k.required],assetTag:["",k.required],farAssetId:[""],modelId:[null,k.required],serialNumber:["",k.required],userId:[null],department:[null,k.required],statusId:[null,k.required],purchaseDate:[new Date().toISOString().split("T")[0],k.required],purchaseCost:[0,[k.required,k.min(0)]],warrantyMonths:[12,[k.required,k.min(0)]],notes:[""],attachment:[null]})}onFileChange(t){let e=t.target;if(e.files&&e.files.length){let i=e.files[0];console.log("File selected:",i.name)}}async onSubmit(){if(this.assetForm.valid){let t=this.assetForm.getRawValue(),e=t.userId?this.users().find(p=>p.id===Number(t.userId)):null,i=this.assetModels().find(p=>p.id===Number(t.modelId)),r=this.sbus().find(p=>p.id===Number(t.sbu)),o=this.categories().find(p=>p.id===Number(t.category)),s=this.locations().find(p=>p.id===Number(t.location)),u=this.departments().find(p=>p.id===Number(t.department)),d=this.statuses().find(p=>p.id===Number(t.statusId));if(!i||!r||!o||!s||!u||!d){console.error("Invalid selection");return}let m={sbu:r,name:o.name,category:o,location:s,asset_tag:t.assetTag,far_asset_id:t.farAssetId??"",model:i,serial_number:t.serialNumber,assigned_to:e||null,department:u,status:d,notes:t.notes??"",purchase_date:t.purchaseDate,purchase_cost:Number(t.purchaseCost),warranty_months:Number(t.warrantyMonths)};await this.assetService.addAsset(m),this.router.navigate(["/assets"])}}onCancel(){this.router.navigate(["/assets"])}};ss.\u0275fac=function(e){return new(e||ss)},ss.\u0275cmp=R({type:ss,selectors:[["app-create-asset"]],decls:116,vars:9,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8"],[1,"space-y-6","max-w-4xl","mx-auto",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-y-2","gap-x-4","items-center"],["for","sbu",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],[1,"md:col-span-3"],["id","sbu","formControlName","sbu",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["disabled","",3,"ngValue"],[3,"value"],["for","category",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","category","formControlName","category",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","location",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","location","formControlName","location",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","assetTag",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","text","id","assetTag","formControlName","assetTag",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","farAssetId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","text","id","farAssetId","formControlName","farAssetId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","modelId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","modelId","formControlName","modelId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","serialNumber",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","text","id","serialNumber","formControlName","serialNumber",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","userId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","userId","formControlName","userId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[3,"ngValue"],["for","department",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","department","formControlName","department",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","statusId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","statusId","formControlName","statusId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","purchaseDate",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","date","id","purchaseDate","formControlName","purchaseDate",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","purchaseCost",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","number","id","purchaseCost","formControlName","purchaseCost","min","0","step","0.01",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","warrantyMonths",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","number","id","warrantyMonths","formControlName","warrantyMonths","min","0",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-y-2","gap-x-4","items-start"],["for","notes",1,"block","text-sm","font-medium","text-slate-300","md:text-right","pt-2"],["id","notes","formControlName","notes","rows","4",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","attachment",1,"block","text-sm","font-medium","text-slate-300","md:text-right","pt-2"],["type","file","id","attachment",1,"block","w-full","text-sm","text-slate-400","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-sky-600/20","file:text-sky-300","hover:file:bg-sky-600/30","cursor-pointer",3,"change"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Asset"),l(),a(4,"p",2),c(5,"Fill in the details below to add a new asset."),l()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return i.onSubmit()}),a(8,"div",5)(9,"label",6),c(10,"SBU"),l(),a(11,"div",7)(12,"select",8)(13,"option",9),c(14,"Select an SBU"),l(),U(15,LR,2,2,"option",10,Sr),l()()(),a(17,"div",5)(18,"label",11),c(19,"Category"),l(),a(20,"div",7)(21,"select",12)(22,"option",9),c(23,"Select a category"),l(),U(24,PR,2,2,"option",10,Sr),l()()(),a(26,"div",5)(27,"label",13),c(28,"Location"),l(),a(29,"div",7)(30,"select",14)(31,"option",9),c(32,"Select a location"),l(),U(33,VR,2,2,"option",10,Sr),l()()(),a(35,"div",5)(36,"label",15),c(37,"Asset Tag"),l(),a(38,"div",7),v(39,"input",16),l()(),a(40,"div",5)(41,"label",17),c(42,"FAR Asset ID"),l(),a(43,"div",7),v(44,"input",18),l()(),a(45,"div",5)(46,"label",19),c(47,"Asset Model"),l(),a(48,"div",7)(49,"select",20)(50,"option",9),c(51,"Select an Asset Model"),l(),U(52,jR,2,2,"option",10,Sr),l()()(),a(54,"div",5)(55,"label",21),c(56,"Serial Number"),l(),a(57,"div",7),v(58,"input",22),l()(),a(59,"div",5)(60,"label",23),c(61,"User ID (Assigned To)"),l(),a(62,"div",7)(63,"select",24)(64,"option",25),c(65,"Unassigned"),l(),U(66,UR,2,3,"option",10,Sr),l()()(),a(68,"div",5)(69,"label",26),c(70,"Department"),l(),a(71,"div",7)(72,"select",27)(73,"option",9),c(74,"Select a department"),l(),U(75,BR,2,2,"option",10,Sr),l()()(),a(77,"div",5)(78,"label",28),c(79,"Status"),l(),a(80,"div",7)(81,"select",29)(82,"option",9),c(83,"Select a status"),l(),U(84,$R,2,2,"option",10,Sr),l()()(),a(86,"div",5)(87,"label",30),c(88,"Purchase Date"),l(),a(89,"div",7),v(90,"input",31),l()(),a(91,"div",5)(92,"label",32),c(93,"Purchase Cost"),l(),a(94,"div",7),v(95,"input",33),l()(),a(96,"div",5)(97,"label",34),c(98,"Warranty (Months)"),l(),a(99,"div",7),v(100,"input",35),l()(),a(101,"div",36)(102,"label",37),c(103,"Notes"),l(),a(104,"div",7),v(105,"textarea",38),l()(),a(106,"div",36)(107,"label",39),c(108,"Attachment"),l(),a(109,"div",7)(110,"input",40),y("change",function(o){return i.onFileChange(o)}),l()()(),a(111,"div",41)(112,"button",42),y("click",function(){return i.onCancel()}),c(113,"Cancel"),l(),a(114,"button",43),c(115,"Save"),l()()()()()),e&2&&(f(7),x("formGroup",i.assetForm),f(6),x("ngValue",null),f(2),B(i.sbus()),f(7),x("ngValue",null),f(2),B(i.categories()),f(7),x("ngValue",null),f(2),B(i.locations()),f(17),x("ngValue",null),f(2),B(i.assetModels()),f(12),x("ngValue",null),f(2),B(i.users()),f(7),x("ngValue",null),f(2),B(i.departments()),f(7),x("ngValue",null),f(2),B(i.statuses()),f(30),x("disabled",i.assetForm.invalid))},dependencies:[F,J,Y,ct,ut,W,Ve,Ke,Q,Z,hv,G,q],encapsulation:2,changeDetection:0});var $m=ss;var as=class as{constructor(){this.fb=h(K);this.router=h(L);this.licenseForm=this.fb.group({name:["",k.required],productKey:["",k.required],totalSeats:[1,[k.required,k.min(1)]]})}onSubmit(){this.licenseForm.valid&&(console.log("Form Submitted!",this.licenseForm.value),this.router.navigate(["/licenses"]))}onCancel(){this.router.navigate(["/licenses"])}};as.\u0275fac=function(e){return new(e||as)},as.\u0275cmp=R({type:as,selectors:[["app-create-license"]],decls:25,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","productKey",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","productKey","formControlName","productKey",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm","font-mono"],["for","totalSeats",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","totalSeats","formControlName","totalSeats",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Create New License"),l(),a(4,"p",2),c(5,"Fill in the details below to add a new license."),l()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return i.onSubmit()}),a(8,"div")(9,"label",5),c(10,"License Name"),l(),v(11,"input",6),l(),a(12,"div")(13,"label",7),c(14,"Product Key"),l(),v(15,"input",8),l(),a(16,"div")(17,"label",9),c(18,"Total Seats"),l(),v(19,"input",10),l(),a(20,"div",11)(21,"button",12),y("click",function(){return i.onCancel()}),c(22,"Cancel"),l(),a(23,"button",13),c(24,"Create License"),l()()()()()),e&2&&(f(7),x("formGroup",i.licenseForm),f(16),x("disabled",i.licenseForm.invalid))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var Hm=as;var ls=class ls{constructor(){this.fb=h(K);this.router=h(L);this.accessoryForm=this.fb.group({name:["",k.required],category:["",k.required],total:[1,[k.required,k.min(1)]]})}onSubmit(){this.accessoryForm.valid&&(console.log("Form Submitted!",this.accessoryForm.value),this.router.navigate(["/accessories"]))}onCancel(){this.router.navigate(["/accessories"])}};ls.\u0275fac=function(e){return new(e||ls)},ls.\u0275cmp=R({type:ls,selectors:[["app-create-accessory"]],decls:25,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","category",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","category","formControlName","category",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","total",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","total","formControlName","total",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Create New Accessory"),l(),a(4,"p",2),c(5,"Fill in the details below to add a new accessory."),l()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return i.onSubmit()}),a(8,"div")(9,"label",5),c(10,"Accessory Name"),l(),v(11,"input",6),l(),a(12,"div")(13,"label",7),c(14,"Category"),l(),v(15,"input",8),l(),a(16,"div")(17,"label",9),c(18,"Total Quantity"),l(),v(19,"input",10),l(),a(20,"div",11)(21,"button",12),y("click",function(){return i.onCancel()}),c(22,"Cancel"),l(),a(23,"button",13),c(24,"Create Accessory"),l()()()()()),e&2&&(f(7),x("formGroup",i.accessoryForm),f(16),x("disabled",i.accessoryForm.invalid))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var Gm=ls;var cs=class cs{constructor(){this.fb=h(K);this.router=h(L);this.consumableForm=this.fb.group({name:["",k.required],category:["",k.required],total:[1,[k.required,k.min(1)]]})}onSubmit(){this.consumableForm.valid&&(console.log("Form Submitted!",this.consumableForm.value),this.router.navigate(["/consumables"]))}onCancel(){this.router.navigate(["/consumables"])}};cs.\u0275fac=function(e){return new(e||cs)},cs.\u0275cmp=R({type:cs,selectors:[["app-create-consumable"]],decls:25,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","category",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","category","formControlName","category",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","total",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","total","formControlName","total",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Create New Consumable"),l(),a(4,"p",2),c(5,"Fill in the details below to add a new consumable."),l()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return i.onSubmit()}),a(8,"div")(9,"label",5),c(10,"Consumable Name"),l(),v(11,"input",6),l(),a(12,"div")(13,"label",7),c(14,"Category"),l(),v(15,"input",8),l(),a(16,"div")(17,"label",9),c(18,"Total Quantity"),l(),v(19,"input",10),l(),a(20,"div",11)(21,"button",12),y("click",function(){return i.onCancel()}),c(22,"Cancel"),l(),a(23,"button",13),c(24,"Create Consumable"),l()()()()()),e&2&&(f(7),x("formGroup",i.consumableForm),f(16),x("disabled",i.consumableForm.invalid))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var zm=cs;var vv=(n,t)=>t.id;function HR(n,t){if(n&1&&(a(0,"option",19),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function GR(n,t){if(n&1&&(a(0,"option",19),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function zR(n,t){if(n&1&&(a(0,"option",19),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}var us=class us{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.departments=this.assetService.departments;this.companies=this.assetService.companies;this.sbus=this.assetService.sbus;this.userForm=this.fb.group({name:["",k.required],username:["",k.required],email:["",[k.required,k.email]],phone:[""],department:[""],jobTitle:[""],companyName:[""],officeLocation:[""],manager:[""]})}async onSubmit(){if(this.userForm.valid)try{let t=this.userForm.getRawValue(),e=ie(N({},t),{assets:0,accessories:0,licenses:0});await this.assetService.addUser(e),alert("User created successfully!"),this.router.navigate(["/people"])}catch(t){console.error("Error creating user:",t);let e="Failed to create user. ";t?.message?.includes("row-level security policy")?e+="You do not have permission to create users. Please contact your administrator.":t?.message?.includes("column")?e+="There is a database schema issue. Please contact your administrator.":e+=t?.message||"An unexpected error occurred.",alert(e)}}onCancel(){this.router.navigate(["/people"])}};us.\u0275fac=function(e){return new(e||us)},us.\u0275cmp=R({type:us,selectors:[["app-create-user"]],decls:62,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-4xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","username",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","username","formControlName","username",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","email",1,"block","text-sm","font-medium","text-slate-300"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","phone",1,"block","text-sm","font-medium","text-slate-300"],["type","tel","id","phone","formControlName","phone",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","jobTitle",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","jobTitle","formControlName","jobTitle",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","department",1,"block","text-sm","font-medium","text-slate-300"],["id","department","formControlName","department",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["value","","disabled",""],[3,"value"],["for","companyName",1,"block","text-sm","font-medium","text-slate-300"],["id","companyName","formControlName","companyName",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","officeLocation",1,"block","text-sm","font-medium","text-slate-300"],["id","officeLocation","formControlName","officeLocation",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"md:col-span-2"],["for","manager",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","manager","formControlName","manager",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Create New User"),l(),a(4,"p",2),c(5,"Fill in the details below to add a new user."),l()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return i.onSubmit()}),a(8,"div",5)(9,"div")(10,"label",6),c(11,"Full Name"),l(),v(12,"input",7),l(),a(13,"div")(14,"label",8),c(15,"Username"),l(),v(16,"input",9),l(),a(17,"div")(18,"label",10),c(19,"Email"),l(),v(20,"input",11),l(),a(21,"div")(22,"label",12),c(23,"Phone Number"),l(),v(24,"input",13),l(),a(25,"div")(26,"label",14),c(27,"Job Title"),l(),v(28,"input",15),l(),a(29,"div")(30,"label",16),c(31,"Department"),l(),a(32,"select",17)(33,"option",18),c(34,"Select Department"),l(),U(35,HR,2,2,"option",19,vv),l()(),a(37,"div")(38,"label",20),c(39,"Company Name"),l(),a(40,"select",21)(41,"option",18),c(42,"Select Company"),l(),U(43,GR,2,2,"option",19,vv),l()(),a(45,"div")(46,"label",22),c(47,"Office Location"),l(),a(48,"select",23)(49,"option",18),c(50,"Select Office Location"),l(),U(51,zR,2,2,"option",19,vv),l()(),a(53,"div",24)(54,"label",25),c(55,"Manager"),l(),v(56,"input",26),l()(),a(57,"div",27)(58,"button",28),y("click",function(){return i.onCancel()}),c(59,"Cancel"),l(),a(60,"button",29),c(61,"Create User"),l()()()()()),e&2&&(f(7),x("formGroup",i.userForm),f(28),B(i.departments()),f(8),B(i.companies()),f(8),B(i.sbus()),f(9),x("disabled",i.userForm.invalid))},dependencies:[F,J,Y,ct,ut,W,Ke,Q,Z,G,q],encapsulation:2,changeDetection:0});var qm=us;var ds=class ds{constructor(){this.fb=h(K);this.router=h(L);this.componentForm=this.fb.group({name:["",k.required],category:["",k.required],total:[1,[k.required,k.min(1)]]})}onSubmit(){this.componentForm.valid&&(console.log("Form Submitted!",this.componentForm.value),this.router.navigate(["/components"]))}onCancel(){this.router.navigate(["/components"])}};ds.\u0275fac=function(e){return new(e||ds)},ds.\u0275cmp=R({type:ds,selectors:[["app-create-app-component"]],decls:25,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","category",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","category","formControlName","category",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","total",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","total","formControlName","total",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Create New Component"),l(),a(4,"p",2),c(5,"Fill in the details below to add a new component."),l()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return i.onSubmit()}),a(8,"div")(9,"label",5),c(10,"Component Name"),l(),v(11,"input",6),l(),a(12,"div")(13,"label",7),c(14,"Category"),l(),v(15,"input",8),l(),a(16,"div")(17,"label",9),c(18,"Total Quantity"),l(),v(19,"input",10),l(),a(20,"div",11)(21,"button",12),y("click",function(){return i.onCancel()}),c(22,"Cancel"),l(),a(23,"button",13),c(24,"Create Component"),l()()()()()),e&2&&(f(7),x("formGroup",i.componentForm),f(16),x("disabled",i.componentForm.invalid))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var Wm=ds;function qR(n,t){if(n&1&&(a(0,"div",16)(1,"div",8)(2,"div",9),A(),a(3,"svg",26),v(4,"path",27),l()(),j(),a(5,"div",28)(6,"h3",29),c(7,"Login Failed"),l(),a(8,"div",30)(9,"p"),c(10),l()()()()()),n&2){let e=b();f(10),E(e.errorMessage())}}function WR(n,t){n&1&&(A(),a(0,"svg",24),v(1,"circle",31)(2,"path",32),l())}function QR(n,t){n&1&&(A(),a(0,"svg",25),v(1,"path",33),l())}var ms=class ms{constructor(){this.fb=h(K);this.authService=h(on);this.loginForm=this.fb.group({email:["",[k.required,k.email]],password:["",k.required]});this.errorMessage=D(null);this.isLoading=D(!1)}async onSubmit(){if(this.loginForm.valid){this.isLoading.set(!0),this.errorMessage.set(null);let{email:t,password:e}=this.loginForm.getRawValue();try{let i=await this.authService.login(t,e);i&&this.errorMessage.set(i)}catch{this.errorMessage.set("An unexpected error occurred. Please try again.")}finally{this.isLoading.set(!1)}}}};ms.\u0275fac=function(e){return new(e||ms)},ms.\u0275cmp=R({type:ms,selectors:[["app-login"]],decls:41,vars:5,consts:[[1,"flex","min-h-screen","items-center","justify-center","bg-slate-900","px-4","py-12","sm:px-6","lg:px-8"],[1,"w-full","max-w-md","space-y-8","bg-slate-800","p-10","rounded-xl","border","border-slate-700","shadow-2xl"],[1,"mx-auto","h-16","w-16","flex","items-center","justify-center","rounded-full","bg-slate-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-10","w-10","text-sky-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"mt-6","text-center","text-3xl","font-bold","tracking-tight","text-white"],[1,"mt-2","text-center","text-sm","text-slate-400"],[1,"rounded-md","bg-sky-900/50","p-4","border","border-sky-500/30"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-sky-400"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3","flex-1","md:flex","md:justify-between"],[1,"text-sm","text-sky-300"],[1,"font-medium","text-white"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"rounded-md","bg-red-900/50","p-4","border","border-red-500/50"],[1,"-space-y-px","rounded-md","shadow-sm"],["for","email-address",1,"sr-only"],["id","email-address","name","email","type","email","autocomplete","email","required","","formControlName","email","placeholder","Email address",1,"relative","block","w-full","rounded-t-md","border-0","bg-slate-700/50","py-3","px-3","text-white","ring-1","ring-inset","ring-slate-600","placeholder:text-slate-400","focus:z-10","focus:ring-2","focus:ring-inset","focus:ring-sky-500","sm:text-sm","sm:leading-6"],["for","password",1,"sr-only"],["id","password","name","password","type","password","autocomplete","current-password","required","","formControlName","password","placeholder","Password",1,"relative","block","w-full","rounded-b-md","border-0","bg-slate-700/50","py-3","px-3","text-white","ring-1","ring-inset","ring-slate-600","placeholder:text-slate-400","focus:z-10","focus:ring-2","focus:ring-inset","focus:ring-sky-500","sm:text-sm","sm:leading-6"],["type","submit",1,"group","relative","flex","w-full","justify-center","rounded-md","bg-sky-600","py-3","px-3","text-sm","font-semibold","text-white","hover:bg-sky-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-sky-600","disabled:opacity-70","disabled:cursor-not-allowed","transition-all","duration-200",3,"disabled"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-sky-200","group-hover:text-sky-100"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-300"],[1,"mt-2","text-sm","text-red-200"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill-rule","evenodd","d","M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule","evenodd"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),A(),a(4,"svg",3),v(5,"path",4),l()(),j(),a(6,"h2",5),c(7,"Sign in to Asset Manager"),l(),a(8,"p",6),c(9," Please enter your credentials to continue "),l()(),a(10,"div",7)(11,"div",8)(12,"div",9),A(),a(13,"svg",10),v(14,"path",11),l()(),j(),a(15,"div",12)(16,"p",13),c(17," Use "),a(18,"strong",14),c(19,"admin@example.com"),l(),c(20," / "),a(21,"strong",14),c(22,"password"),l(),c(23," for demo. "),l()()()(),a(24,"form",15),y("ngSubmit",function(){return i.onSubmit()}),T(25,qR,11,1,"div",16),a(26,"div",17)(27,"div")(28,"label",18),c(29,"Email address"),l(),v(30,"input",19),l(),a(31,"div")(32,"label",20),c(33,"Password"),l(),v(34,"input",21),l()(),a(35,"div")(36,"button",22)(37,"span",23),T(38,WR,3,0,":svg:svg",24)(39,QR,2,0,":svg:svg",25),l(),c(40),l()()()()()),e&2&&(f(24),x("formGroup",i.loginForm),f(),I(i.errorMessage()?25:-1),f(11),x("disabled",i.loginForm.invalid||i.isLoading()),f(2),I(i.isLoading()?38:39),f(2),X(" ",i.isLoading()?"Signing in...":"Sign in"," "))},dependencies:[F,J,Y,W,Q,Z,gv,G,q],encapsulation:2,changeDetection:0});var Qm=ms;var Aw=(n,t)=>{let e=h(on),i=h(L);return Sw(e.isAuthenticated).pipe(mt(r=>r!==null),un(),pe(r=>r?!0:i.createUrlTree(["/login"])))};function ZR(n,t){n&1&&(A(),a(0,"svg",24),v(1,"circle",25)(2,"path",26),l(),c(3," Importing... "))}function YR(n,t){n&1&&c(0," Import Assets ")}var fs=class fs{constructor(){this.assetService=h(V);this.selectedFile=D(null);this.isImporting=D(!1)}exportAssets(){let t=this.assetService.assets();if(t.length===0){alert("No assets to export.");return}let e=t.map(m=>({id:m.id,asset_tag:m.asset_tag,name:m.name,model:m.model,status:m.status.name,status_type:m.status.status_type,assigned_to_id:m.assigned_to?.id??"",assigned_to_name:m.assigned_to?.name??"",purchase_date:m.purchase_date,purchase_cost:m.purchase_cost,warranty_months:m.warranty_months,notes:m.notes}));if(e.length===0)return;let i=Object.keys(e[0]),r=e.map(m=>i.map(p=>{let g=m[p],C=g==null?"":String(g);return/[",\n\r]/.test(C)?`"${C.replace(/"/g,'""')}"`:C}).join(",")),o=[i.join(","),...r].join(`
`),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),d=URL.createObjectURL(s);u.setAttribute("href",d),u.setAttribute("download","assets.csv"),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),console.log("Exporting assets to CSV...")}downloadTemplate(){let e=["SBU","Asset Type","Location","AMS Asset ID","FAR Asset ID","Asset Model","Serial Number","User ID","Department","Status","purchase_date","purchase_cost","warranty_months","Notes","Attachment URL"].join(","),i=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),o=URL.createObjectURL(i);r.setAttribute("href",o),r.setAttribute("download","asset_import_template.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}onFileSelected(t){let e=t.target;e.files&&e.files.length>0?this.selectedFile.set(e.files[0]):this.selectedFile.set(null)}async importAssets(){let t=this.selectedFile();if(t){this.isImporting.set(!0);try{let e=await this.readFile(t),i=XLSX.read(e,{type:"binary"}),r=i.SheetNames[0],o=XLSX.utils.sheet_to_json(i.Sheets[r]),s=this.assetService.statusLabels(),u=this.assetService.users(),d=this.assetService.assetModels(),m=this.assetService.categories(),p=this.assetService.sbus(),g=this.assetService.locations(),C=this.assetService.departments(),_=0,M=0;for(let P of o){let $=ot=>{for(let kv of ot)if(P[kv]!==void 0)return P[kv]},z=$(["AMS Asset ID","ams_asset_id","Asset Tag"]);if(!z||this.assetService.assets().some(ot=>ot.asset_tag===String(z))){console.warn(`Skipping duplicate/missing tag: ${z}`),M++;continue}let Ie=$(["Status","status"]),Ce=s.find(ot=>ot.name.toLowerCase()===String(Ie||"").toLowerCase());if(!Ce){console.warn(`Status not found: ${Ie}`),M++;continue}let Te=$(["User ID","user_id","User"]),Re=null;Te&&(Re=u.find(ot=>ot.id==Te||ot.username.toLowerCase()===String(Te).toLowerCase())||null);let vt=$(["Asset Model","Asset Name","asset_model","asset_name","Model","model"]),Qt=d.find(ot=>ot.name.toLowerCase()===String(vt||"").toLowerCase());if(!Qt){console.warn(`Model not found: ${vt}`),M++;continue}let Ei=$(["Asset Type","asset_type","Category","category"]),_v=m.find(ot=>ot.name.toLowerCase()===String(Ei||"").toLowerCase());if(!_v){console.warn(`Category not found: ${Ei}`),M++;continue}let xv=$(["SBU","sbu"]),Cv=p.find(ot=>ot.name.toLowerCase()===String(xv||"").toLowerCase());if(!Cv){console.warn(`SBU not found: ${xv}`),M++;continue}let wv=$(["Location","location"]),Sv=g.find(ot=>ot.name.toLowerCase()===String(wv||"").toLowerCase());if(!Sv){console.warn(`Location not found: ${wv}`),M++;continue}let Ev=$(["Department","department"]),Dv=C.find(ot=>ot.name.toLowerCase()===String(Ev||"").toLowerCase());if(!Dv){console.warn(`Department not found: ${Ev}`),M++;continue}let Tv=String($(["Notes","notes"])||""),Iv=$(["Attachment URL","attachment_url"]);Iv&&(Tv+=`
[Attachment: ${Iv}]`);let Rw={asset_tag:String(z),name:Qt.name,model:Qt,status:Ce,assigned_to:Re,purchase_date:$(["purchase_date","Purchase Date"])||new Date().toISOString().split("T")[0],purchase_cost:Number($(["purchase_cost","Purchase Cost"]))||0,warranty_months:Number($(["warranty_months","Warranty Months"]))||0,notes:Tv,sbu:Cv,location:Sv,department:Dv,category:_v,far_asset_id:String($(["FAR Asset ID","far_asset_id"])||""),serial_number:String($(["Serial Number","serial_number"])||"")};await this.assetService.addAsset(Rw),_++}alert(`Import complete! ${_} assets added, ${M} rows skipped.`)}catch(e){console.error("Error importing assets:",e),alert("An error occurred during import. Please check the console for details.")}finally{this.isImporting.set(!1),this.selectedFile.set(null);let e=document.getElementById("import-file");e&&(e.value="")}}}readFile(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>e(o.target.result),r.onerror=o=>i(o),r.readAsBinaryString(t)})}};fs.\u0275fac=function(e){return new(e||fs)},fs.\u0275cmp=R({type:fs,selectors:[["app-data-management"]],decls:40,vars:3,consts:[[1,"space-y-8"],[1,"p-6","rounded-lg","bg-gradient-to-r","from-sky-600","to-teal-500","text-white","shadow-lg"],[1,"text-3xl","font-bold"],[1,"mt-1","text-sky-100/90"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","flex","flex-col","items-start"],[1,"flex","items-center","w-full","mb-4"],[1,"bg-sky-500/10","p-3","rounded-full"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-sky-400"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],[1,"ml-4"],[1,"text-xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"mt-auto","w-full","inline-flex","justify-center","items-center","px-4","py-2.5","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"click"],[1,"bg-green-500/10","p-3","rounded-full"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],[1,"text-sky-400","text-sm","hover:underline","mt-1",3,"click"],[1,"w-full","mt-auto","space-y-4"],["for","import-file",1,"cursor-pointer","w-full","inline-flex","justify-center","items-center","px-4","py-2.5","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700","hover:bg-slate-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["id","import-file","type","file","accept",".csv, text/csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"hidden",3,"change"],[1,"w-full","inline-flex","justify-center","items-center","px-4","py-2.5","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-green-600","hover:bg-green-700","disabled:bg-green-600/50","disabled:cursor-not-allowed",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header",1)(2,"h2",2),c(3,"Data Management"),l(),a(4,"p",3),c(5,"Import and export asset data."),l()(),a(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),A(),a(10,"svg",8),v(11,"path",9),l()(),j(),a(12,"div",10)(13,"h3",11),c(14,"Export Assets"),l(),a(15,"p",12),c(16,"Download all asset data as a CSV file."),l()()(),a(17,"button",13),y("click",function(){return i.exportAssets()}),c(18," Export to CSV "),l()(),a(19,"div",5)(20,"div",6)(21,"div",14),A(),a(22,"svg",15),v(23,"path",16),l()(),j(),a(24,"div",10)(25,"h3",11),c(26,"Import Assets"),l(),a(27,"p",12),c(28,"Upload a CSV file to add multiple assets."),l(),a(29,"button",17),y("click",function(){return i.downloadTemplate()}),c(30,"Download CSV Template"),l()()(),a(31,"div",18)(32,"label",19),A(),a(33,"svg",20),v(34,"path",21),l(),c(35),j(),a(36,"input",22),y("change",function(o){return i.onFileSelected(o)}),l()(),a(37,"button",23),y("click",function(){return i.importAssets()}),T(38,ZR,4,0)(39,YR,1,0),l()()()()()),e&2&&(f(35),X(" ",i.selectedFile()?i.selectedFile().name:"Choose CSV File"," "),f(2),x("disabled",!i.selectedFile()||i.isImporting()),f(),I(i.isImporting()?38:39))},dependencies:[F],encapsulation:2,changeDetection:0});var Zm=fs;var Er=class Er{constructor(){this.lastAssetUpdate=D(null)}triggerAssetUpdateNotification(t,e){this.lastAssetUpdate.set({asset:t,changes:e})}};Er.\u0275fac=function(e){return new(e||Er)},Er.\u0275prov=ee({token:Er,factory:Er.\u0275fac,providedIn:"root"});var ps=Er;var Dr=(n,t)=>t.id;function KR(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function JR(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function XR(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function eF(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function tF(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),Ht("",e.name," (",e.username,")")}}function nF(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function iF(n,t){if(n&1&&(a(0,"option",11),c(1),l()),n&2){let e=t.$implicit;x("value",e.id),f(),E(e.name)}}function rF(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",5),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div",6)(3,"label",7),c(4,"SBU"),l(),a(5,"div",8)(6,"select",9)(7,"option",10),c(8,"Select an SBU"),l(),U(9,KR,2,2,"option",11,Dr),l()()(),a(11,"div",6)(12,"label",12),c(13,"Category"),l(),a(14,"div",8)(15,"select",13)(16,"option",10),c(17,"Select a category"),l(),U(18,JR,2,2,"option",11,Dr),l()()(),a(20,"div",6)(21,"label",14),c(22,"Location"),l(),a(23,"div",8)(24,"select",15)(25,"option",10),c(26,"Select a location"),l(),U(27,XR,2,2,"option",11,Dr),l()()(),a(29,"div",6)(30,"label",16),c(31,"AMS Asset ID"),l(),a(32,"div",8),v(33,"input",17),l()(),a(34,"div",6)(35,"label",18),c(36,"FAR Asset ID"),l(),a(37,"div",8),v(38,"input",19),l()(),a(39,"div",6)(40,"label",20),c(41,"Asset Model"),l(),a(42,"div",8)(43,"select",21)(44,"option",10),c(45,"Select an Asset Model"),l(),U(46,eF,2,2,"option",11,Dr),l()()(),a(48,"div",6)(49,"label",22),c(50,"Serial Number"),l(),a(51,"div",8),v(52,"input",23),l()(),a(53,"div",6)(54,"label",24),c(55,"User ID"),l(),a(56,"div",8)(57,"select",25)(58,"option",26),c(59,"Unassigned"),l(),U(60,tF,2,3,"option",11,Dr),l()()(),a(62,"div",6)(63,"label",27),c(64,"Department"),l(),a(65,"div",8)(66,"select",28)(67,"option",10),c(68,"Select a department"),l(),U(69,nF,2,2,"option",11,Dr),l()()(),a(71,"div",6)(72,"label",29),c(73,"Status"),l(),a(74,"div",8)(75,"select",30)(76,"option",10),c(77,"Select a status"),l(),U(78,iF,2,2,"option",11,Dr),l()()(),a(80,"div",31)(81,"label",32),c(82,"Notes"),l(),a(83,"div",8),v(84,"textarea",33),l()(),a(85,"div",31)(86,"label",34),c(87,"Attachment"),l(),a(88,"div",8)(89,"input",35),y("change",function(r){w(e);let o=b();return S(o.onFileChange(r))}),l()()(),a(90,"div",36)(91,"button",37),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(92,"Cancel"),l(),a(93,"button",38),c(94,"Save Changes"),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.assetForm),f(6),x("ngValue",null),f(2),B(e.sbus()),f(7),x("ngValue",null),f(2),B(e.categories()),f(7),x("ngValue",null),f(2),B(e.locations()),f(17),x("ngValue",null),f(2),B(e.assetModels()),f(12),x("ngValue",null),f(2),B(e.users()),f(7),x("ngValue",null),f(2),B(e.departments()),f(7),x("ngValue",null),f(2),B(e.statuses()),f(15),x("disabled",e.assetForm.invalid)}}function oF(n,t){n&1&&(a(0,"div",4)(1,"p",39),c(2,"Asset not found or is loading..."),l()())}var hs=class hs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V);this.notificationService=h(ps);this.statuses=this.assetService.statusLabels;this.users=this.assetService.users;this.categories=this.assetService.categories;this.locations=this.assetService.locations;this.departments=this.assetService.departments;this.sbus=this.assetService.sbus;this.assetModels=this.assetService.assetModels}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id")),e=this.assetService.getAssetById(t);e?(this.asset=e,this.assetForm=this.fb.group({sbu:[this.asset.sbu?.id??null,k.required],category:[this.asset.category?.id??null,k.required],location:[this.asset.location?.id??null,k.required],amsAssetId:[this.asset.asset_tag,k.required],farAssetId:[this.asset.far_asset_id??""],modelId:[this.asset.model?.id??null,k.required],serialNumber:[this.asset.serial_number??"",k.required],userId:[this.asset.assigned_to?.id??null],department:[this.asset.department?.id??null,k.required],statusId:[this.asset.status?.id??null,k.required],notes:[this.asset.notes??""],attachment:[null]})):this.router.navigate(["/assets"])}onFileChange(t){let e=t.target;if(e.files&&e.files.length){let i=e.files[0];console.log("File selected:",i.name)}}getChanges(t,e){let i=[];return(t.assigned_to?.id??null)!==(e.assigned_to?.id??null)&&i.push({field:"User ID",oldValue:t.assigned_to?.username||"Not set",newValue:e.assigned_to?.username||"Unassigned"}),t.department?.id!==e.department?.id&&i.push({field:"Department",oldValue:t.department?.name||"Not set",newValue:e.department?.name||""}),t.notes!==e.notes&&i.push({field:"Notes",oldValue:t.notes||"Not set",newValue:e.notes||""}),t.status?.id!==e.status?.id&&i.push({field:"Status",oldValue:t.status?.name||"Not set",newValue:e.status?.name||""}),t.location?.id!==e.location?.id&&i.push({field:"Location",oldValue:t.location?.name||"Not Set",newValue:e.location?.name||""}),t.sbu?.id!==e.sbu?.id&&i.push({field:"SBU",oldValue:t.sbu?.name||"Not Set",newValue:e.sbu?.name||""}),t.model?.id!==e.model?.id&&i.push({field:"Asset Model",oldValue:t.model?.name||"Not set",newValue:e.model?.name||""}),i}async onSubmit(){if(this.assetForm.valid&&this.asset){let t=this.assetForm.getRawValue(),e=t.userId?this.users().find(g=>g.id===Number(t.userId)):null,i=this.assetModels().find(g=>g.id===Number(t.modelId)),r=this.sbus().find(g=>g.id===Number(t.sbu)),o=this.categories().find(g=>g.id===Number(t.category)),s=this.locations().find(g=>g.id===Number(t.location)),u=this.departments().find(g=>g.id===Number(t.department)),d=this.statuses().find(g=>g.id===Number(t.statusId));if(!i||!r||!o||!s||!u||!d){console.error("Invalid selection");return}let m=ie(N({},this.asset),{sbu:r,name:o.name,category:o,location:s,asset_tag:t.amsAssetId,far_asset_id:t.farAssetId,model:i,serial_number:t.serialNumber,assigned_to:e||null,department:u,status:d,notes:t.notes});if(await this.assetService.updateAsset(m)){let g=this.getChanges(this.asset,m);g.length>0?(this.notificationService.triggerAssetUpdateNotification(m,g),this.router.navigate(["/email-preview/asset-updated"])):this.router.navigate(["/assets"])}}}onCancel(){this.router.navigate(["/assets"])}};hs.\u0275fac=function(e){return new(e||hs)},hs.\u0275cmp=R({type:hs,selectors:[["app-edit-asset"]],decls:10,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"font-semibold","text-sky-400"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8"],[1,"space-y-6","max-w-4xl","mx-auto",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-y-2","gap-x-4","items-center"],["for","sbu",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],[1,"md:col-span-3"],["id","sbu","formControlName","sbu",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["disabled","",3,"ngValue"],[3,"value"],["for","category",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","category","formControlName","category",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","location",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","location","formControlName","location",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","amsAssetId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","text","id","amsAssetId","formControlName","amsAssetId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","farAssetId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","text","id","farAssetId","formControlName","farAssetId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","modelId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","modelId","formControlName","modelId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","serialNumber",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["type","text","id","serialNumber","formControlName","serialNumber",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","userId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","userId","formControlName","userId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[3,"ngValue"],["for","department",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","department","formControlName","department",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","statusId",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","statusId","formControlName","statusId",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-y-2","gap-x-4","items-start"],["for","notes",1,"block","text-sm","font-medium","text-slate-300","md:text-right","pt-2"],["id","notes","formControlName","notes","rows","4",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","attachment",1,"block","text-sm","font-medium","text-slate-300","md:text-right","pt-2"],["type","file","id","attachment",1,"block","w-full","text-sm","text-slate-400","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-sky-600/20","file:text-sky-300","hover:file:bg-sky-600/30","cursor-pointer",3,"change"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"],[1,"text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Edit Asset"),l(),a(4,"p",2),c(5,"Update the details for asset tag: "),a(6,"span",3),c(7),l()()(),T(8,rF,95,9,"div",4)(9,oF,3,0,"div",4),l()),e&2&&(f(7),E(i.asset==null?null:i.asset.asset_tag),f(),I(i.assetForm?8:9))},dependencies:[F,J,Y,ct,ut,W,Ke,Q,Z,G,q],encapsulation:2,changeDetection:0});var Ym=hs;function sF(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",5),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div")(3,"label",6),c(4,"License Name"),l(),v(5,"input",7),l(),a(6,"div")(7,"label",8),c(8,"Product Key"),l(),v(9,"input",9),l(),a(10,"div")(11,"label",10),c(12,"Total Seats"),l(),v(13,"input",11),l(),a(14,"div",12)(15,"button",13),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(16,"Cancel"),l(),a(17,"button",14),c(18,"Save Changes"),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.licenseForm),f(16),x("disabled",e.licenseForm.invalid)}}function aF(n,t){n&1&&(a(0,"div",4)(1,"p",15),c(2,"Loading license data..."),l()())}var gs=class gs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.license=this.assetService.getLicenseById(t),this.license?this.licenseForm=this.fb.group({name:[this.license.name,k.required],productKey:[this.license.productKey,k.required],totalSeats:[this.license.totalSeats,[k.required,k.min(1)]]}):this.router.navigate(["/licenses"])}onSubmit(){if(this.licenseForm.valid&&this.license){let t=N(N({},this.license),this.licenseForm.value);this.assetService.updateLicense(t),this.router.navigate(["/licenses"])}}onCancel(){this.router.navigate(["/licenses"])}};gs.\u0275fac=function(e){return new(e||gs)},gs.\u0275cmp=R({type:gs,selectors:[["app-edit-license"]],decls:10,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"font-semibold","text-sky-400"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","productKey",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","productKey","formControlName","productKey",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm","font-mono"],["for","totalSeats",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","totalSeats","formControlName","totalSeats",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"],[1,"text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Edit License"),l(),a(4,"p",2),c(5,"Update the details for license: "),a(6,"span",3),c(7),l()()(),T(8,sF,19,2,"div",4)(9,aF,3,0,"div",4),l()),e&2&&(f(7),E(i.license==null?null:i.license.name),f(),I(i.licenseForm?8:9))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var Km=gs;function lF(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",5),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div")(3,"label",6),c(4,"Accessory Name"),l(),v(5,"input",7),l(),a(6,"div")(7,"label",8),c(8,"Category"),l(),v(9,"input",9),l(),a(10,"div")(11,"label",10),c(12,"Total Quantity"),l(),v(13,"input",11),l(),a(14,"div",12)(15,"button",13),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(16,"Cancel"),l(),a(17,"button",14),c(18,"Save Changes"),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.accessoryForm),f(16),x("disabled",e.accessoryForm.invalid)}}function cF(n,t){n&1&&(a(0,"div",4)(1,"p",15),c(2,"Loading accessory data..."),l()())}var vs=class vs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.accessory=this.assetService.getAccessoryById(t),this.accessory?this.accessoryForm=this.fb.group({name:[this.accessory.name,k.required],category:[this.accessory.category,k.required],total:[this.accessory.total,[k.required,k.min(1)]]}):this.router.navigate(["/accessories"])}onSubmit(){if(this.accessoryForm.valid&&this.accessory){let t=N(N({},this.accessory),this.accessoryForm.value);this.assetService.updateAccessory(t),this.router.navigate(["/accessories"])}}onCancel(){this.router.navigate(["/accessories"])}};vs.\u0275fac=function(e){return new(e||vs)},vs.\u0275cmp=R({type:vs,selectors:[["app-edit-accessory"]],decls:10,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"font-semibold","text-sky-400"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","category",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","category","formControlName","category",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","total",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","total","formControlName","total",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"],[1,"text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Edit Accessory"),l(),a(4,"p",2),c(5,"Update the details for accessory: "),a(6,"span",3),c(7),l()()(),T(8,lF,19,2,"div",4)(9,cF,3,0,"div",4),l()),e&2&&(f(7),E(i.accessory==null?null:i.accessory.name),f(),I(i.accessoryForm?8:9))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var Jm=vs;function uF(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",5),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div")(3,"label",6),c(4,"Consumable Name"),l(),v(5,"input",7),l(),a(6,"div")(7,"label",8),c(8,"Category"),l(),v(9,"input",9),l(),a(10,"div")(11,"label",10),c(12,"Total Quantity"),l(),v(13,"input",11),l(),a(14,"div",12)(15,"button",13),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(16,"Cancel"),l(),a(17,"button",14),c(18,"Save Changes"),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.consumableForm),f(16),x("disabled",e.consumableForm.invalid)}}function dF(n,t){n&1&&(a(0,"div",4)(1,"p",15),c(2,"Loading consumable data..."),l()())}var ys=class ys{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.consumable=this.assetService.getConsumableById(t),this.consumable?this.consumableForm=this.fb.group({name:[this.consumable.name,k.required],category:[this.consumable.category,k.required],total:[this.consumable.total,[k.required,k.min(1)]]}):this.router.navigate(["/consumables"])}onSubmit(){if(this.consumableForm.valid&&this.consumable){let t=N(N({},this.consumable),this.consumableForm.value);this.assetService.updateConsumable(t),this.router.navigate(["/consumables"])}}onCancel(){this.router.navigate(["/consumables"])}};ys.\u0275fac=function(e){return new(e||ys)},ys.\u0275cmp=R({type:ys,selectors:[["app-edit-consumable"]],decls:10,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"font-semibold","text-sky-400"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","category",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","category","formControlName","category",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","total",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","total","formControlName","total",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"],[1,"text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Edit Consumable"),l(),a(4,"p",2),c(5,"Update the details for consumable: "),a(6,"span",3),c(7),l()()(),T(8,uF,19,2,"div",4)(9,dF,3,0,"div",4),l()),e&2&&(f(7),E(i.consumable==null?null:i.consumable.name),f(),I(i.consumableForm?8:9))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var Xm=ys;function mF(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",5),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div")(3,"label",6),c(4,"Component Name"),l(),v(5,"input",7),l(),a(6,"div")(7,"label",8),c(8,"Category"),l(),v(9,"input",9),l(),a(10,"div")(11,"label",10),c(12,"Total Quantity"),l(),v(13,"input",11),l(),a(14,"div",12)(15,"button",13),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(16,"Cancel"),l(),a(17,"button",14),c(18,"Save Changes"),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.componentForm),f(16),x("disabled",e.componentForm.invalid)}}function fF(n,t){n&1&&(a(0,"div",4)(1,"p",15),c(2,"Loading component data..."),l()())}var bs=class bs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.component=this.assetService.getComponentById(t),this.component?this.componentForm=this.fb.group({name:[this.component.name,k.required],category:[this.component.category,k.required],total:[this.component.total,[k.required,k.min(1)]]}):this.router.navigate(["/components"])}onSubmit(){if(this.componentForm.valid&&this.component){let t=N(N({},this.component),this.componentForm.value);this.assetService.updateComponent(t),this.router.navigate(["/components"])}}onCancel(){this.router.navigate(["/components"])}};bs.\u0275fac=function(e){return new(e||bs)},bs.\u0275cmp=R({type:bs,selectors:[["app-edit-app-component"]],decls:10,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"font-semibold","text-sky-400"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","category",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","category","formControlName","category",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","total",1,"block","text-sm","font-medium","text-slate-300"],["type","number","id","total","formControlName","total",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"],[1,"text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Edit Component"),l(),a(4,"p",2),c(5,"Update the details for component: "),a(6,"span",3),c(7),l()()(),T(8,mF,19,2,"div",4)(9,fF,3,0,"div",4),l()),e&2&&(f(7),E(i.component==null?null:i.component.name),f(),I(i.componentForm?8:9))},dependencies:[F,J,Y,W,Ve,Q,Z,G,q],encapsulation:2,changeDetection:0});var ef=bs;var yv=(n,t)=>t.id;function pF(n,t){if(n&1&&(a(0,"option",21),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function hF(n,t){if(n&1&&(a(0,"option",21),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function gF(n,t){if(n&1&&(a(0,"option",21),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function vF(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",6),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div",7)(3,"div")(4,"label",8),c(5,"Full Name"),l(),v(6,"input",9),l(),a(7,"div")(8,"label",10),c(9,"Username"),l(),v(10,"input",11),l(),a(11,"div")(12,"label",12),c(13,"Email"),l(),v(14,"input",13),l(),a(15,"div")(16,"label",14),c(17,"Phone Number"),l(),v(18,"input",15),l(),a(19,"div")(20,"label",16),c(21,"Job Title"),l(),v(22,"input",17),l(),a(23,"div")(24,"label",18),c(25,"Department"),l(),a(26,"select",19)(27,"option",20),c(28,"Select Department"),l(),U(29,pF,2,2,"option",21,yv),l()(),a(31,"div")(32,"label",22),c(33,"Company Name"),l(),a(34,"select",23)(35,"option",20),c(36,"Select Company"),l(),U(37,hF,2,2,"option",21,yv),l()(),a(39,"div")(40,"label",24),c(41,"Office Location (SBU)"),l(),a(42,"select",25)(43,"option",20),c(44,"Select Office Location"),l(),U(45,gF,2,2,"option",21,yv),l()(),a(47,"div",26)(48,"label",27),c(49,"Manager"),l(),v(50,"input",28),l()(),a(51,"div",29)(52,"button",30),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(53,"Cancel"),l(),a(54,"button",31),c(55,"Save Changes"),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.userForm),f(28),B(e.departments()),f(8),B(e.companies()),f(8),B(e.sbus()),f(9),x("disabled",e.userForm.invalid)}}function yF(n,t){n&1&&(a(0,"div",5)(1,"p",32),c(2,"Loading user data..."),l()())}var _s=class _s{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V);this.departments=this.assetService.departments;this.companies=this.assetService.companies;this.sbus=this.assetService.sbus}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));if(this.user=this.assetService.getUserById(t),this.user){let e=this.user;this.userForm=this.fb.group({name:[this.user.name,k.required],username:[this.user.username,k.required],email:[this.user.email,[k.required,k.email]],phone:[this.user.phone??e.phone??""],department:[this.user.department??e.department??""],jobTitle:[e.job_title??this.user.jobTitle??""],companyName:[e.company_name??this.user.companyName??""],officeLocation:[e.office_location??this.user.officeLocation??""],manager:[this.user.manager??e.manager??""]})}else this.router.navigate(["/people"])}async onSubmit(){if(this.userForm.valid&&this.user){let t=this.userForm.value,e=N(N({},this.user),t);await this.assetService.updateUser(e),this.router.navigate(["/people"])}}onCancel(){this.router.navigate(["/people"])}};_s.\u0275fac=function(e){return new(e||_s)},_s.\u0275cmp=R({type:_s,selectors:[["app-edit-user"]],decls:10,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"font-semibold","text-sky-400"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-4xl"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8","max-w-2xl"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","username",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","username","formControlName","username",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","email",1,"block","text-sm","font-medium","text-slate-300"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","phone",1,"block","text-sm","font-medium","text-slate-300"],["type","tel","id","phone","formControlName","phone",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","jobTitle",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","jobTitle","formControlName","jobTitle",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","department",1,"block","text-sm","font-medium","text-slate-300"],["id","department","formControlName","department",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["value","","disabled",""],[3,"value"],["for","companyName",1,"block","text-sm","font-medium","text-slate-300"],["id","companyName","formControlName","companyName",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","officeLocation",1,"block","text-sm","font-medium","text-slate-300"],["id","officeLocation","formControlName","officeLocation",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"md:col-span-2"],["for","manager",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","manager","formControlName","manager",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"],[1,"text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Edit User"),l(),a(4,"p",2),c(5,"Update the details for user: "),a(6,"span",3),c(7),l()()(),T(8,vF,56,2,"div",4)(9,yF,3,0,"div",5),l()),e&2&&(f(7),E(i.user==null?null:i.user.name),f(),I(i.userForm?8:9))},dependencies:[F,J,Y,ct,ut,W,Ke,Q,Z,G,q],encapsulation:2,changeDetection:0});var tf=_s;var bF=["barcode1d"],_F=["barcode2d"],xF=()=>[],CF=(n,t)=>t.label;function wF(n,t){if(n&1&&(a(0,"div",5),c(1),l()),n&2){let e=b().$implicit,i=b();f(),X(" ",e.title.replace("(COMPANY)",i.companyName())," ")}}function SF(n,t){if(n&1&&(a(0,"div",7),v(1,"canvas",12,0),a(3,"div",13),c(4),l()()),n&2){let e=b(2);f(4),E(e.asset().asset_tag)}}function EF(n,t){n&1&&v(0,"div",9)}function DF(n,t){if(n&1&&(a(0,"div",14)(1,"span",15),c(2),l(),a(3,"span",16),c(4),l()()),n&2){let e=t.$implicit,i=b(3);f(2),X("",e.label,": "),f(2),E(i.getAssetValue(e.dataSource))}}function TF(n,t){if(n&1&&(a(0,"div",10),U(1,DF,5,2,"div",14,CF),l()),n&2){let e=t.$implicit;f(),B(e.options)}}function IF(n,t){n&1&&(a(0,"div",11),v(1,"canvas",17,1),l())}function kF(n,t){if(n&1&&(a(0,"div",3)(1,"div",4),T(2,wF,2,1,"div",5),a(3,"div",6),T(4,SF,5,1,"div",7),a(5,"div",8),U(6,EF,1,0,"div",9,nd),U(8,TF,3,0,"div",10,nd),l()(),T(10,IF,3,0,"div",11),l()()),n&2){let e=t.$implicit;f(2),I(e.title?2:-1),f(2),I(e.barcode2DType!=="none"?4:-1),f(2),B(A0(3,xF).constructor(e.fieldStartOffset)),f(2),B(e.fields),f(2),I(e.barcode1DType!=="none"?10:-1)}}var xs=class xs{constructor(){this.assetService=h(V);this.settings=rt.required();this.asset=rt.required();this.companyName=oe(()=>this.assetService.generalSettings().companyName)}ngAfterViewInit(){this.generateBarcodes()}ngOnChanges(t){(t.settings||t.asset)&&setTimeout(()=>this.generateBarcodes(),0)}getAssetValue(t){let e=this.asset();return!t||!e?"":t==="user_id"||t==="assigned_user"?e.assigned_to?e.assigned_to.username:"":t==="status"?e.status?.name||"":t==="model"?e.model?.name||"":t==="category"?e.category?.name||"":t==="sbu"?e.sbu?.name||"":t==="department"?e.department?.name||"":t==="location"?e.location?.name||"":e[t]===void 0||e[t]===null?"":String(e[t])}generateBarcodes(){let t=this.settings(),e=this.asset();if(!(!t||!e)){if(this.barcode1dCanvas&&t.barcode1DType!=="none")try{let i=e.asset_tag||"000000",o={C128:"CODE128",C39:"CODE39",EAN13:"EAN13",UPC:"UPC"}[t.barcode1DType]||"CODE128";JsBarcode(this.barcode1dCanvas.nativeElement,i,{format:o,lineColor:"#000",width:2,height:30,displayValue:!1,margin:0})}catch(i){console.error("JsBarcode error:",i)}if(this.barcode2dCanvas&&t.barcode2DType!=="none")try{let i="";if(t.barcode2DContent==="URL")i=`${t.barcode2DPrefix}${e.id}`;else{let s=this.getAssetValue(t.barcode2DContent);i=`${t.barcode2DPrefix}${s}`}let r=qrcode(0,"M");r.addData(i),r.make();let o=this.barcode2dCanvas.nativeElement.getContext("2d");if(o){this.barcode2dCanvas.nativeElement.width=90,this.barcode2dCanvas.nativeElement.height=90;let u=90/r.getModuleCount(),d=90/r.getModuleCount();for(let m=0;m<r.getModuleCount();m++)for(let p=0;p<r.getModuleCount();p++)o.fillStyle=r.isDark(m,p)?"#000":"#fff",o.fillRect(p*u,m*d,u,d)}}catch(i){console.error("QR Code generation error:",i)}}}};xs.\u0275fac=function(e){return new(e||xs)},xs.\u0275cmp=R({type:xs,selectors:[["app-label-preview"]],viewQuery:function(e,i){if(e&1&&(id(bF,5),id(_F,5)),e&2){let r;co(r=uo())&&(i.barcode1dCanvas=r.first),co(r=uo())&&(i.barcode2dCanvas=r.first)}},inputs:{settings:[1,"settings"],asset:[1,"asset"]},features:[Ut],decls:1,vars:1,consts:[["barcode2d",""],["barcode1d",""],["class","label-container",4,"ngIf"],[1,"label-container"],[1,"label-content"],[1,"label-header"],[1,"label-body"],[1,"qr-col"],[1,"fields-col"],[1,"field-row","spacer"],[1,"field-row"],[1,"label-footer"],[1,"qr-canvas"],[1,"qr-text"],[1,"field-item"],[1,"field-label"],[1,"field-value"],[1,"barcode-canvas"]],template:function(e,i){e&1&&ed(0,kF,11,4,"div",2),e&2&&x("ngIf",i.settings())},dependencies:[F,j0],styles:[".label-container[_ngcontent-%COMP%]{width:360px;min-height:200px;background-color:#fff;border:1px solid #ccc;padding:12px;box-shadow:0 2px 4px #0000001a;font-family:Arial,sans-serif;color:#000;box-sizing:border-box;display:flex;flex-direction:column}.label-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;flex:1}.label-header[_ngcontent-%COMP%]{font-weight:800;text-transform:uppercase;font-size:16px;text-align:left;margin-bottom:8px;border-bottom:2px solid #000;padding-bottom:4px}.label-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;gap:12px}.qr-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:90px;flex-shrink:0}.qr-canvas[_ngcontent-%COMP%]{width:90px;height:90px}.qr-text[_ngcontent-%COMP%]{font-family:monospace;font-size:10px;font-weight:700;margin-top:2px;text-align:center;word-break:break-all}.fields-col[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:flex-start;gap:4px;min-width:0}.field-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;width:100%}.field-row.spacer[_ngcontent-%COMP%]{height:1.2em}.field-item[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;align-items:baseline;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:12px;line-height:1.4}.field-label[_ngcontent-%COMP%]{font-weight:600;color:#555;margin-right:4px;text-transform:uppercase;font-size:10px}.field-value[_ngcontent-%COMP%]{font-weight:700;color:#000}.label-footer[_ngcontent-%COMP%]{margin-top:auto;padding-top:8px;display:flex;justify-content:center}.barcode-canvas[_ngcontent-%COMP%]{max-width:100%;height:30px}"],changeDetection:0});var Cs=xs;var AF=(n,t)=>t.id,bv=(n,t)=>t.asset_tag;function MF(n,t){if(n&1&&(a(0,"option",12),c(1),l()),n&2){let e=t.$implicit;x("value",e.name),f(),E(e.name)}}function NF(n,t){if(n&1){let e=O();a(0,"div",22)(1,"label",19)(2,"input",20),y("change",function(r){let o=w(e).$implicit,s=b();return S(s.toggleAssetSelection(o.asset_tag,r.target.checked))}),l(),a(3,"div")(4,"p",34),c(5),l(),a(6,"p",35),c(7),l()()()()}if(n&2){let e=t.$implicit,i=b();f(2),x("checked",i.selectedAssetIDs().has(e.asset_tag)),f(3),E(e.model),f(2),E(e.asset_tag)}}function RF(n,t){n&1&&(a(0,"p",23),c(1,"No assets found."),l())}function FF(n,t){n&1&&(a(0,"span"),c(1,"Generating PDF..."),l())}function OF(n,t){n&1&&(a(0,"span"),c(1,"Download PDF"),l())}function LF(n,t){if(n&1&&v(0,"app-label-preview",36),n&2){let e=t.$implicit,i=b(2);x("asset",e)("settings",i.labelSettings())}}function PF(n,t){if(n&1&&(a(0,"div",30),U(1,LF,1,2,"app-label-preview",36,bv),l()),n&2){let e=b();f(),B(e.selectedAssetsForPrint())}}function VF(n,t){n&1&&(a(0,"div",31)(1,"p"),c(2,"Generated stickers will be previewed here."),l()())}function jF(n,t){if(n&1&&(a(0,"div",33),v(1,"app-label-preview",36),l()),n&2){let e=t.$implicit,i=b();f(),x("asset",e)("settings",i.labelSettings())}}var ws=class ws{constructor(){this.assetService=h(V);this.filterService=h(sn);this.searchQuery=D("");this.selectedAssetIDs=D(new Set);this.selectedAssetsForPrint=D([]);this.isPrinting=D(!1);this.allAssets=this.assetService.assets;this.labelSettings=this.assetService.labelSettings;this.sbus=this.assetService.sbus;this.sbuFilter=this.filterService.sbuFilter;this.filteredAssets=oe(()=>{let t=this.allAssets(),e=this.searchQuery().toLowerCase(),i=this.sbuFilter(),r=i==="all"?t:t.filter(o=>o.sbu.name===i);return e?r.filter(o=>Object.values(o).some(s=>String(s).toLowerCase().includes(e))||o.model?.name?.toLowerCase().includes(e)||o.status?.name?.toLowerCase().includes(e)):r});this.isAllSelected=oe(()=>{let t=this.filteredAssets(),e=this.selectedAssetIDs();return t.length>0&&t.every(i=>e.has(i.asset_tag))})}onSbuFilterChange(t){let e=t.target;this.filterService.setSbuFilter(e.value),this.selectedAssetIDs.set(new Set)}onSearch(t){let e=t.target;this.searchQuery.set(e.value),this.selectedAssetIDs.set(new Set)}toggleAssetSelection(t,e){this.selectedAssetIDs.update(i=>{let r=new Set(i);return e?r.add(t):r.delete(t),r})}toggleSelectAll(t){t?this.selectedAssetIDs.set(new Set(this.filteredAssets().map(e=>e.asset_tag))):this.selectedAssetIDs.set(new Set)}generateStickers(){let t=this.selectedAssetIDs();if(t.size===0){this.selectedAssetsForPrint.set([]);return}let e=this.allAssets().filter(i=>t.has(i.asset_tag));this.selectedAssetsForPrint.set(e)}async printStickersAsPdf(){if(this.isPrinting.set(!0),this.selectedAssetsForPrint().length===0){this.isPrinting.set(!1);return}let{jsPDF:e}=window.jspdf,i=90,r=50,o=new e({orientation:"l",unit:"mm",format:[i,r]});try{await new Promise(u=>setTimeout(u,200));let s=document.querySelectorAll("#print-sheet .sticker-container");for(let u=0;u<s.length;u++){let d=s[u];if(!d)continue;let p=(await window.html2canvas(d,{scale:3,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png");u>0&&o.addPage([i,r],"l"),o.addImage(p,"PNG",0,0,i,r)}o.save("qr-stickers-labels.pdf")}catch(s){console.error("Error generating PDF:",s),alert("An error occurred while generating the PDF."),this.isPrinting.set(!1)}}getModelName(t){return t?t.model&&!Array.isArray(t.model)&&typeof t.model=="object"&&t.model.name?t.model.name:Array.isArray(t.model)&&t.model.length>0&&t.model[0].name?t.model[0].name:t.name&&typeof t.name=="string"?t.name:t.asset_model&&typeof t.asset_model=="string"?t.asset_model:"Unknown Model":""}};ws.\u0275fac=function(e){return new(e||ws)},ws.\u0275cmp=R({type:ws,selectors:[["app-qr-sticker"]],decls:51,vars:9,consts:[[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","p-5","bg-gradient-to-r","from-sky-600","to-teal-500","text-white","rounded-xl","mb-8","shadow-lg"],[1,"text-2xl","md:text-3xl","font-bold"],[1,"text-white/80","mt-1"],["routerLink","/settings/barcodes-labels",1,"underline","text-white","hover:text-sky-200"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-1","bg-slate-800/50","border","border-slate-700/50","p-6","rounded-xl","shadow-lg"],[1,"text-lg","font-bold","text-white","mb-4"],[1,"space-y-4","mb-4"],[1,"flex","items-center"],["for","sbu-filter",1,"text-sm","font-medium","text-slate-300","mr-2","shrink-0"],["id","sbu-filter",1,"w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm",3,"change","value"],["value","all"],[3,"value"],[1,"relative"],["type","text","placeholder","Search assets...",1,"pl-10","pr-4","py-2","bg-slate-700/50","border","border-slate-600","rounded-lg","text-white","placeholder-slate-400","focus:ring-sky-500","focus:border-sky-500","w-full",3,"input","value"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","absolute","left-3","top-1/2","-translate-y-1/2","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"border","border-slate-700/50","rounded-lg","max-h-96","overflow-y-auto"],[1,"p-3","border-b","border-slate-700/50","bg-slate-800"],[1,"flex","items-center","space-x-3","cursor-pointer"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-sky-600","focus:ring-sky-500",3,"change","checked"],[1,"font-semibold","text-sm","text-slate-300"],[1,"px-3","py-2","border-b","border-slate-700/50","last:border-b-0","hover:bg-slate-700/50"],[1,"text-center","text-slate-400","p-4","text-sm"],[1,"lg:col-span-2","bg-slate-800/50","border","border-slate-700/50","p-6","rounded-xl","shadow-lg","flex","flex-col"],[1,"flex-1","flex","flex-col"],[1,"flex","flex-col","sm:flex-row","items-center","gap-4","mb-4"],[1,"w-full","sm:flex-1","bg-sky-600","text-white","font-bold","py-2","px-4","rounded-lg","hover:bg-sky-700","transition-colors","disabled:bg-sky-300/20","disabled:text-sky-200/50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"w-full","sm:flex-1","bg-teal-600","text-white","font-bold","py-2","px-4","rounded-lg","hover:bg-teal-700","transition-colors","disabled:bg-gray-400/50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bg-slate-900/50","border","border-slate-700/50","rounded-lg","p-4","flex-1","overflow-y-auto","min-h-[400px]"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center","justify-center","h-full","text-slate-400"],["id","print-sheet"],[1,"sticker-container"],[1,"font-medium","text-sm","text-white"],[1,"text-xs","text-slate-400","font-mono"],[3,"asset","settings"]],template:function(e,i){e&1&&(a(0,"header",0)(1,"div")(2,"h1",1),c(3,"QR Sticker Creator"),l(),a(4,"p",2),c(5,"Select assets to generate stickers based on your "),a(6,"a",3),c(7,"Label Settings"),l(),c(8,"."),l()()(),a(9,"div",4)(10,"div",5)(11,"h2",6),c(12,"1. Select Assets"),l(),a(13,"div",7)(14,"div",8)(15,"label",9),c(16,"Filter by SBU:"),l(),a(17,"select",10),y("change",function(o){return i.onSbuFilterChange(o)}),a(18,"option",11),c(19,"All SBUs"),l(),U(20,MF,2,2,"option",12,AF),l()(),a(22,"div",13)(23,"input",14),y("input",function(o){return i.onSearch(o)}),l(),A(),a(24,"svg",15),v(25,"path",16),l()()(),j(),a(26,"div",17)(27,"div",18)(28,"label",19)(29,"input",20),y("change",function(o){return i.toggleSelectAll(o.target.checked)}),l(),a(30,"span",21),c(31,"Select All"),l()()(),U(32,NF,8,3,"div",22,bv,!1,RF,2,0,"p",23),l()(),a(35,"div",24)(36,"div",25)(37,"h2",6),c(38,"2. Preview & Print"),l(),a(39,"div",26)(40,"button",27),y("click",function(){return i.generateStickers()}),c(41),l(),a(42,"button",28),y("click",function(){return i.printStickersAsPdf()}),T(43,FF,2,0,"span")(44,OF,2,0,"span"),l()(),a(45,"div",29),T(46,PF,3,0,"div",30)(47,VF,3,0,"div",31),l()()()(),a(48,"div",32),U(49,jF,2,2,"div",33,bv),l()),e&2&&(f(17),x("value",i.sbuFilter()),f(3),B(i.sbus()),f(3),x("value",i.searchQuery()),f(6),x("checked",i.isAllSelected()),f(3),B(i.filteredAssets()),f(8),x("disabled",i.selectedAssetIDs().size===0),f(),X(" Generate ",i.selectedAssetIDs().size," Stickers "),f(),x("disabled",i.selectedAssetsForPrint().length===0||i.isPrinting()),f(),I(i.isPrinting()?43:44),f(3),I(i.selectedAssetsForPrint().length>0?46:47),f(3),B(i.selectedAssetsForPrint()))},dependencies:[F,Cs,ae],styles:[`#print-sheet{position:absolute;left:-9999px;top:0;display:flex;flex-direction:column;gap:10px}.sticker-container{width:360px;min-height:200px;background-color:#fff;display:flex;overflow:hidden}
`],encapsulation:2,changeDetection:0});var nf=ws;var UF=n=>["/settings/status-label/edit",n],BF=(n,t)=>t.id;function $F(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15)(2,"button",16),y("click",function(){let r=w(e).$index,o=b();return S(o.moveUp(r))}),A(),a(3,"svg",17),v(4,"path",18),l()(),j(),a(5,"button",19),y("click",function(){let r=w(e).$index,o=b();return S(o.moveDown(r))}),A(),a(6,"svg",17),v(7,"path",20),l()()(),j(),a(8,"td",21),c(9),l(),a(10,"td",21),c(11),l(),a(12,"td",21),v(13,"span",22),l(),a(14,"td",23)(15,"a",24),c(16,"Edit"),l(),a(17,"button",25),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(18,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index,r=b();f(2),x("disabled",i===0),f(3),x("disabled",i===r.sortedLabels().length-1),f(4),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),$t("background-color",e.color||"#3b82f6"),f(2),x("routerLink",Ae(7,UF,e.id))}}function HF(n,t){n&1&&(a(0,"tr")(1,"td",26),c(2," No status labels found. "),l()())}function GF(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",27),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Status Label")("itemName",t.name)}var Ss=class Ss{constructor(){this.assetService=h(V);this.router=h(L);this.sortedLabels=D([]);this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null);Dt(()=>{let t=this.assetService.statusLabels();this.sortedLabels.set([...t])},{allowSignalWrites:!0})}addNew(){this.router.navigate(["/settings/status-label/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteStatusLabel(t.id),this.closeDeleteModal())}moveUp(t){t!==0&&this.sortedLabels.update(e=>{let i=[...e];return[i[t-1],i[t]]=[i[t],i[t-1]],i})}moveDown(t){let e=this.sortedLabels();t!==e.length-1&&this.sortedLabels.update(i=>{let r=[...i];return[r[t],r[t+1]]=[r[t+1],r[t]],r})}};Ss.\u0275fac=function(e){return new(e||Ss)},Ss.\u0275cmp=R({type:Ss,selectors:[["app-status-labels"]],decls:30,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white","flex","space-x-1"],["title","Move Up",1,"text-slate-400","hover:text-sky-400","disabled:opacity-30","disabled:cursor-not-allowed",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule","evenodd"],["title","Move Down",1,"text-slate-400","hover:text-sky-400","disabled:opacity-30","disabled:cursor-not-allowed",3,"click","disabled"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"inline-block","w-6","h-6","rounded-full","border","border-slate-600"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","4",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Status Labels"),l(),a(5,"p",3),c(6,"Add, edit, or remove status labels."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"Order"),l(),a(17,"th",10),c(18,"#"),l(),a(19,"th",10),c(20," Name "),l(),a(21,"th",10),c(22," Color "),l(),a(23,"th",11),c(24," Actions "),l()()(),a(25,"tbody",12),U(26,$F,19,9,"tr",13,BF,!1,HF,3,0,"tr"),l()()()(),T(29,GF,1,2,"app-confirmation-modal",14)),e&2){let r;f(26),B(i.sortedLabels()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?29:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var rf=Ss;var zF=n=>["/settings/asset-model/edit",n],qF=(n,t)=>t.id;function WF(n,t){if(n&1){let e=O();a(0,"tr",19)(1,"td",21),c(2),l(),a(3,"td",21),c(4),l(),a(5,"td",22)(6,"a",23),c(7,"Edit"),l(),a(8,"button",24),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,zF,e.id))}}function QF(n,t){n&1&&(a(0,"tr")(1,"td",25),c(2," No items found. "),l()())}function ZF(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",26),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Asset Model")("itemName",t.name)}var Es=class Es{constructor(){this.assetService=h(V);this.router=h(L);this.assetModels=this.assetService.assetModels;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/asset-model/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteAssetModel(t.id),this.closeDeleteModal())}async onFileSelected(t){let e=t.target;if(e.files&&e.files.length>0){let i=e.files[0];await this.importModels(i),e.value=""}}async importModels(t){try{let e=await this.readFile(t),i=XLSX.read(e,{type:"binary"}),r=i.SheetNames[0],o=XLSX.utils.sheet_to_json(i.Sheets[r]),s=this.assetModels(),u=0,d=0;for(let m of o){let p=m.Name||m.name||m["Model Name"]||m.model_name;if(!p){d++;continue}let g=String(p).trim();if(s.some(C=>C.name.toLowerCase()===g.toLowerCase())){d++;continue}await this.assetService.addAssetModel({name:g}),u++}alert(`Import complete! Added: ${u}, Skipped (duplicate/invalid): ${d}`)}catch(e){console.error("Error importing models:",e),alert("Error importing file. Please check the format.")}}downloadTemplate(){let e=["Model Name"].join(","),i=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),o=URL.createObjectURL(i);r.setAttribute("href",o),r.setAttribute("download","asset_models_template.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}readFile(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>e(o.target.result),r.onerror=o=>i(o),r.readAsBinaryString(t)})}};Es.\u0275fac=function(e){return new(e||Es)},Es.\u0275cmp=R({type:Es,selectors:[["app-asset-models"]],decls:34,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"flex","gap-3"],[1,"cursor-pointer","inline-flex","items-center","px-4","py-2","border","border-slate-600","shadow-sm","text-sm","font-medium","rounded-md","text-slate-200","bg-slate-700","hover:bg-slate-600","focus-within:ring-2","focus-within:ring-offset-2","focus-within:ring-offset-slate-800","focus-within:ring-sky-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["type","file","accept",".csv, .xlsx, .xls",1,"hidden",3,"change"],[1,"text-xs","text-sky-400","hover:text-sky-300","underline","self-center","mr-2",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Asset Models"),l(),a(5,"p",3),c(6,"Add, edit, or remove asset models."),l()(),a(7,"div",4)(8,"label",5),A(),a(9,"svg",6),v(10,"path",7),l(),c(11," Bulk Import "),j(),a(12,"input",8),y("change",function(o){return i.onFileSelected(o)}),l()(),a(13,"button",9),y("click",function(){return i.downloadTemplate()}),c(14,"Template"),l(),a(15,"button",10),y("click",function(){return i.addNew()}),A(),a(16,"svg",11),v(17,"path",12),l(),c(18," Add New "),l()()(),j(),a(19,"div",13)(20,"table",14)(21,"thead",15)(22,"tr")(23,"th",16),c(24,"#"),l(),a(25,"th",16),c(26," Name "),l(),a(27,"th",17),c(28," Actions "),l()()(),a(29,"tbody",18),U(30,WF,10,5,"tr",19,qF,!1,QF,3,0,"tr"),l()()()(),T(33,ZF,1,2,"app-confirmation-modal",20)),e&2){let r;f(30),B(i.assetModels()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?33:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var of=Es;var YF=n=>["/settings/category/edit",n],KF=(n,t)=>t.id;function JF(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,YF,e.id))}}function XF(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function e5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Category")("itemName",t.name)}var Ds=class Ds{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.categories;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/category/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteCategory(t.id),this.closeDeleteModal())}};Ds.\u0275fac=function(e){return new(e||Ds)},Ds.\u0275cmp=R({type:Ds,selectors:[["app-categories"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Categories"),l(),a(5,"p",3),c(6,"Add, edit, or remove categories."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,JF,10,5,"tr",13,KF,!1,XF,3,0,"tr"),l()()()(),T(25,e5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var sf=Ds;var t5=n=>["/settings/manufacturer/edit",n],n5=(n,t)=>t.id;function i5(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,t5,e.id))}}function r5(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function o5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Manufacturer")("itemName",t.name)}var Ts=class Ts{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.manufacturers;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/manufacturer/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteManufacturer(t.id),this.closeDeleteModal())}};Ts.\u0275fac=function(e){return new(e||Ts)},Ts.\u0275cmp=R({type:Ts,selectors:[["app-manufacturers"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Manufacturers"),l(),a(5,"p",3),c(6,"Add, edit, or remove manufacturers."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,i5,10,5,"tr",13,n5,!1,r5,3,0,"tr"),l()()()(),T(25,o5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var af=Ts;var s5=n=>["/settings/supplier/edit",n],a5=(n,t)=>t.id;function l5(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,s5,e.id))}}function c5(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function u5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Supplier")("itemName",t.name)}var Is=class Is{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.suppliers;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/supplier/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteSupplier(t.id),this.closeDeleteModal())}};Is.\u0275fac=function(e){return new(e||Is)},Is.\u0275cmp=R({type:Is,selectors:[["app-suppliers"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Suppliers"),l(),a(5,"p",3),c(6,"Add, edit, or remove suppliers."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,l5,10,5,"tr",13,a5,!1,c5,3,0,"tr"),l()()()(),T(25,u5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var lf=Is;var d5=n=>["/settings/department/edit",n],m5=(n,t)=>t.id;function f5(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,d5,e.id))}}function p5(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function h5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Department")("itemName",t.name)}var ks=class ks{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.departments;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/department/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteDepartment(t.id),this.closeDeleteModal())}};ks.\u0275fac=function(e){return new(e||ks)},ks.\u0275cmp=R({type:ks,selectors:[["app-departments"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Departments"),l(),a(5,"p",3),c(6,"Add, edit, or remove departments."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,f5,10,5,"tr",13,m5,!1,p5,3,0,"tr"),l()()()(),T(25,h5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var cf=ks;var g5=n=>["/settings/location/edit",n],v5=(n,t)=>t.id;function y5(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,g5,e.id))}}function b5(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function _5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Location")("itemName",t.name)}var As=class As{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.locations;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/location/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteLocation(t.id),this.closeDeleteModal())}};As.\u0275fac=function(e){return new(e||As)},As.\u0275cmp=R({type:As,selectors:[["app-locations"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Locations"),l(),a(5,"p",3),c(6,"Add, edit, or remove locations."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,y5,10,5,"tr",13,v5,!1,b5,3,0,"tr"),l()()()(),T(25,_5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var uf=As;var x5=n=>["/settings/company/edit",n],C5=(n,t)=>t.id;function w5(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,x5,e.id))}}function S5(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function E5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","Company")("itemName",t.name)}var Ms=class Ms{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.companies;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/company/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteCompany(t.id),this.closeDeleteModal())}};Ms.\u0275fac=function(e){return new(e||Ms)},Ms.\u0275cmp=R({type:Ms,selectors:[["app-companies"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"Companies"),l(),a(5,"p",3),c(6,"Add, edit, or remove companies."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,w5,10,5,"tr",13,C5,!1,S5,3,0,"tr"),l()()()(),T(25,E5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var df=Ms;function D5(n,t){n&1&&(a(0,"div",1),A(),a(1,"svg",5),v(2,"path",6),l(),j(),a(3,"span"),c(4,"Settings saved successfully!"),l()())}function T5(n,t){if(n&1){let e=O();a(0,"div",4)(1,"form",7),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(2,"div")(3,"h2",8),c(4,"Application Branding"),l(),a(5,"div",0)(6,"div",9)(7,"label",10),c(8,"Application Name"),l(),a(9,"div",11),v(10,"input",12),a(11,"p",13),c(12,"This name appears in the browser title and header."),l()()(),a(13,"div",9)(14,"label",14),c(15,"Company Name"),l(),a(16,"div",11),v(17,"input",15),a(18,"p",13),c(19,'Used in labels where "Property of (COMPANY)" is displayed.'),l()()()()(),a(20,"div",16)(21,"button",17),c(22," Save Changes "),l()()()()}if(n&2){let e=b();f(),x("formGroup",e.form),f(20),x("disabled",e.form.invalid||e.form.pristine)}}var Ns=class Ns{constructor(){this.assetService=h(V);this.fb=h(K);this.showSuccessPopup=D(!1);Dt(()=>{let t=this.assetService.generalSettings();this.form&&this.form.patchValue(t,{emitEvent:!1})})}ngOnInit(){let t=this.assetService.generalSettings();this.form=this.fb.group({appName:[t.appName,k.required],companyName:[t.companyName,k.required],theme:[t.theme]})}async onSubmit(){this.form.valid&&(await this.assetService.updateGeneralSettings(this.form.value),this.form.markAsPristine(),this.showSuccessPopup.set(!0),setTimeout(()=>this.showSuccessPopup.set(!1),3e3))}};Ns.\u0275fac=function(e){return new(e||Ns)},Ns.\u0275cmp=R({type:Ns,selectors:[["app-general-settings"]],decls:8,vars:2,consts:[[1,"space-y-6"],[1,"fixed","top-20","right-8","bg-green-600/90","border","border-green-500","text-white","py-3","px-5","rounded-lg","shadow-lg","flex","items-center","transition-all","duration-300","ease-in-out","z-50","animate-fade-in-down"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","md:p-8"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","mr-3"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"space-y-8","max-w-4xl",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","text-white","mb-6","pb-3","border-b","border-slate-700"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-y-2","gap-x-4","items-center"],["for","appName",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],[1,"md:col-span-3"],["id","appName","type","text","formControlName","appName",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"text-xs","text-slate-400","mt-2"],["for","companyName",1,"block","text-sm","font-medium","text-slate-300","md:text-right"],["id","companyName","type","text","formControlName","companyName",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end"],["type","submit",1,"px-6","py-2.5","text-sm","font-semibold","text-white","bg-sky-600","rounded-md","hover:bg-sky-700","shadow-sm","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500","transition-colors",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0),T(1,D5,5,0,"div",1),a(2,"header")(3,"h2",2),c(4,"General Settings"),l(),a(5,"p",3),c(6,"Manage global application settings."),l()(),T(7,T5,23,2,"div",4),l()),e&2&&(f(),I(i.showSuccessPopup()?1:-1),f(6),I(i.form?7:-1))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var mf=Ns;var I5=n=>["/settings/sbu/edit",n],k5=(n,t)=>t.id;function A5(n,t){if(n&1){let e=O();a(0,"tr",13)(1,"td",15),c(2),l(),a(3,"td",15),c(4),l(),a(5,"td",16)(6,"a",17),c(7,"Edit"),l(),a(8,"button",18),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),c(9,"Delete"),l()()()}if(n&2){let e=t.$implicit,i=t.$index;f(2),X(" ",(i+1).toString().padStart(2,"0")," "),f(2),X(" ",e.name," "),f(2),x("routerLink",Ae(3,I5,e.id))}}function M5(n,t){n&1&&(a(0,"tr")(1,"td",19),c(2," No items found. "),l()())}function N5(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",20),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","SBU")("itemName",t.name)}var Rs=class Rs{constructor(){this.assetService=h(V);this.router=h(L);this.items=this.assetService.sbus;this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null)}addNew(){this.router.navigate(["/settings/sbu/create"])}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.name}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteSbu(t.id),this.closeDeleteModal())}};Rs.\u0275fac=function(e){return new(e||Rs)},Rs.\u0275cmp=R({type:Rs,selectors:[["app-sbus"]],decls:26,vars:2,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-5","flex","justify-between","items-center","border-b","border-slate-700/50"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-slate-800","bg-white","hover:bg-slate-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[3,"itemType","itemName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-4"],[1,"text-sky-400","hover:text-sky-300",3,"routerLink"],["type","button",1,"bg-transparent","border-none","p-0","text-red-500","hover:text-red-400","cursor-pointer",3,"click"],["colspan","3",1,"text-center","py-10","text-slate-400"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),c(4,"SBUs"),l(),a(5,"p",3),c(6,"Add, edit, or remove SBUs."),l()(),a(7,"button",4),y("click",function(){return i.addNew()}),A(),a(8,"svg",5),v(9,"path",6),l(),c(10," Add New "),l()(),j(),a(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),c(16,"#"),l(),a(17,"th",10),c(18," Name "),l(),a(19,"th",11),c(20," Actions "),l()()(),a(21,"tbody",12),U(22,A5,10,5,"tr",13,k5,!1,M5,3,0,"tr"),l()()()(),T(25,N5,1,2,"app-confirmation-modal",14)),e&2){let r;f(22),B(i.items()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?25:-1,r)}},dependencies:[F,ae,ke],encapsulation:2,changeDetection:0});var ff=Rs;var R5=(n,t)=>t.id;function F5(n,t){if(n&1&&(a(0,"tr",17)(1,"td",56),v(2,"input",57),l(),a(3,"td",58),c(4),l(),a(5,"td",59),c(6),l(),a(7,"td",59),c(8),l(),a(9,"td",59),c(10),l(),a(11,"td",60)(12,"span"),c(13),l()(),a(14,"td",60)(15,"span"),c(16),l()(),a(17,"td",60)(18,"span"),c(19),l()(),a(20,"td",60)(21,"span"),c(22),l()(),a(23,"td",60)(24,"span"),c(25),l()()()),n&2){let e=t.$implicit;f(2),x("value",e.id),f(2),E(e.name),f(2),E(e.size),f(2),E(e.labels),f(2),E(e.fields),f(2),Fe(e.tag?"text-green-500":"text-red-500"),f(),E(e.tag?"\u2713":"\u2717"),f(2),Fe(e.is1D?"text-green-500":"text-red-500"),f(),E(e.is1D?"\u2713":"\u2717"),f(2),Fe(e.is2D?"text-green-500":"text-red-500"),f(),E(e.is2D?"\u2713":"\u2717"),f(2),Fe(e.logo?"text-green-500":"text-red-500"),f(),E(e.logo?"\u2713":"\u2717"),f(2),Fe(e.title?"text-green-500":"text-red-500"),f(),E(e.title?"\u2713":"\u2717")}}function O5(n,t){if(n&1&&(a(0,"option",71),c(1),l()),n&2){let e=t.$implicit;x("value",e),f(),E(e)}}function L5(n,t){if(n&1){let e=O();a(0,"div",66),v(1,"input",68),a(2,"select",69)(3,"option",70),c(4,"Select Data Source"),l(),U(5,O5,2,2,"option",71,Be),l(),a(7,"button",72),y("click",function(){let r=w(e).$index,o=b().$index,s=b();return S(s.removeOption(o,r))}),c(8,"Remove Field"),l()()}if(n&2){let e=t.$index,i=b(2);x("formGroupName",e),f(5),B(i.assetFields)}}function P5(n,t){if(n&1){let e=O();a(0,"div",50)(1,"div",61)(2,"h4",62),c(3),l(),a(4,"div")(5,"button",63),y("click",function(){let r=w(e).$index,o=b();return S(o.moveRow(r,"up"))}),c(6,"\u2191"),l(),a(7,"button",63),y("click",function(){let r=w(e).$index,o=b();return S(o.moveRow(r,"down"))}),c(8,"\u2193"),l(),a(9,"button",64),y("click",function(){let r=w(e).$index,o=b();return S(o.removeRow(r))}),c(10,"\u2717"),l()()(),a(11,"div",65),U(12,L5,9,1,"div",66,Be),a(14,"button",67),y("click",function(){let r=w(e).$index,o=b();return S(o.addOption(r))}),c(15,"+ Add Field to Row"),l()()()}if(n&2){let e=t.$index,i=b();x("formGroupName",e),f(3),X("Field Row ",e+1),f(2),x("disabled",e===0),f(2),x("disabled",e===i.fields.length-1),f(5),B(i.options(e).controls)}}function V5(n,t){if(n&1&&v(0,"app-label-preview",52),n&2){let e=b();x("settings",t)("asset",e.previewAsset())}}function j5(n,t){n&1&&(a(0,"div",53)(1,"p",73),c(2,"Preview will appear here."),l()())}var Fs=class Fs{constructor(){this.assetService=h(V);this.fb=h(K);this.templates=this.assetService.labelTemplates;this.settingsForm=this.fb.group({selectedTemplate:["DefaultLabel",k.required],title:["",k.required],useAssetLogo:[!1],barcode1DType:["C128",k.required],barcode2DType:["QRCODE",k.required],barcode2DPrefix:[""],barcode2DContent:["asset_tag",k.required],fieldStartOffset:[0,[k.required,k.min(0)]],fields:this.fb.array([])});this.previewAsset=oe(()=>this.assetService.assets()[0]);this.previewSettings=Si(this.settingsForm.valueChanges.pipe(cp(200),pe(t=>t)),{initialValue:this.assetService.labelSettings()});this.assetFields=["sbu","category","location","asset_tag","far_asset_id","model","serial_number","user_id","department","status","purchase_date","purchase_cost","warranty_months","notes"]}ngOnInit(){let t=this.assetService.labelSettings();this.fields.clear(),t.fields&&t.fields.length>0?t.fields.forEach(e=>this.addRow(e)):this.addRow(),this.settingsForm.patchValue({selectedTemplate:t.selectedTemplate,title:t.title,useAssetLogo:t.useAssetLogo,barcode1DType:t.barcode1DType,barcode2DType:t.barcode2DType,barcode2DPrefix:t.barcode2DPrefix,barcode2DContent:t.barcode2DContent,fieldStartOffset:t.fieldStartOffset})}get fields(){return this.settingsForm.get("fields")}options(t){return this.fields.at(t).get("options")}addRow(t){let e=this.fb.group({options:this.fb.array([])});this.fields.push(e),t&&t.options?t.options.forEach(i=>{e.get("options").push(this.fb.group({label:[i.label,k.required],dataSource:[i.dataSource,k.required]}))}):this.addOption(this.fields.length-1)}removeRow(t){this.fields.removeAt(t)}moveRow(t,e){let i=e==="up"?t-1:t+1;if(i<0||i>=this.fields.length)return;let r=this.fields.at(t);this.fields.removeAt(t),this.fields.insert(i,r)}addOption(t){let e=this.fb.group({label:["",k.required],dataSource:["",k.required]});this.options(t).push(e)}removeOption(t,e){this.options(t).removeAt(e)}onSubmit(){this.settingsForm.valid?(this.assetService.updateLabelSettings(this.settingsForm.value),alert("Settings saved successfully!")):alert("Please correct the errors before saving.")}};Fs.\u0275fac=function(e){return new(e||Fs)},Fs.\u0275cmp=R({type:Fs,selectors:[["app-barcodes-labels"]],decls:114,vars:2,consts:[[1,"bg-gray-100","-m-6","md:-m-8","p-6","md:p-8","min-h-full","font-sans","text-gray-800"],[1,"max-w-7xl","mx-auto","space-y-8"],[1,"flex","items-center","mb-4"],["routerLink","/settings",1,"mr-4","p-2","rounded-full","hover:bg-gray-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-2xl","font-bold","text-gray-700"],[3,"ngSubmit","formGroup"],[1,"bg-white","p-6","rounded-lg","shadow-sm","border","border-gray-200","mb-8"],[1,"text-xl","font-semibold","mb-4"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"text-xl","font-semibold","mb-2"],[1,"text-sm","text-gray-500","mb-6"],[1,"space-y-4"],["for","title",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","title","formControlName","title",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"mt-2","text-xs","text-gray-500"],[1,"bg-gray-200","p-1","rounded"],[1,"flex","items-center"],["id","useAssetLogo","type","checkbox","formControlName","useAssetLogo",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded","focus:ring-indigo-500"],["for","useAssetLogo",1,"ml-2","block","text-sm","text-gray-900"],["for","barcode1DType",1,"block","text-sm","font-medium","text-gray-700"],["id","barcode1DType","formControlName","barcode1DType",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","C128"],["value","C39"],["value","EAN13"],["value","UPC"],["for","barcode2DType",1,"block","text-sm","font-medium","text-gray-700"],["id","barcode2DType","formControlName","barcode2DType",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","QRCODE"],["value","DATAMATRIX"],["for","barcode2DPrefix",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","barcode2DPrefix","formControlName","barcode2DPrefix",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","barcode2DContent",1,"block","text-sm","font-medium","text-gray-700"],["id","barcode2DContent","formControlName","barcode2DContent",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","URL"],["value","asset_tag"],["value","serial_number"],["for","fieldStartOffset",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","fieldStartOffset","formControlName","fieldStartOffset",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","items-start"],[1,"bg-white","p-6","rounded-lg","shadow-sm","border","border-gray-200"],["formArrayName","fields",1,"space-y-4"],[1,"p-4","bg-gray-50","border","border-gray-200","rounded-lg",3,"formGroupName"],["type","button",1,"w-full","text-center","py-2","border-2","border-dashed","border-gray-300","rounded-md","text-sm","text-gray-500","hover:bg-gray-100","hover:border-gray-400",3,"click"],[3,"settings","asset"],[1,"flex","items-center","justify-center","h-48","bg-gray-100","rounded-md"],[1,"mt-8","flex","justify-end"],["type","submit",1,"px-6","py-3","text-sm","font-semibold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","shadow-sm","disabled:opacity-50"],[1,"px-6","py-4"],["type","radio","formControlName","selectedTemplate",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300",3,"value"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","text-center"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-semibold"],["type","button",1,"p-1","text-gray-400","hover:text-gray-700","disabled:opacity-50",3,"click","disabled"],["type","button",1,"p-1","text-red-400","hover:text-red-700",3,"click"],["formArrayName","options",1,"space-y-2"],[1,"grid","grid-cols-2","gap-2","p-2","border-l-2","border-gray-300",3,"formGroupName"],["type","button",1,"text-sm","text-indigo-600","hover:text-indigo-800",3,"click"],["type","text","formControlName","label","placeholder","Label (e.g. Name)",1,"w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["formControlName","dataSource",1,"w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["value","","disabled",""],[3,"value"],["type","button",1,"text-red-400","hover:text-red-700","text-xs","justify-self-end",3,"click"],[1,"text-gray-500"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"header",2)(3,"a",3),A(),a(4,"svg",4),v(5,"path",5),l()(),j(),a(6,"h1",6),c(7,"Barcodes & Labels"),l()(),a(8,"form",7),y("ngSubmit",function(){return i.onSubmit()}),a(9,"section",8)(10,"h2",9),c(11,"1. Select a Template"),l(),a(12,"div",10)(13,"table",11)(14,"thead",12)(15,"tr"),v(16,"th",13),a(17,"th",14),c(18,"Name"),l(),a(19,"th",14),c(20,"Size"),l(),a(21,"th",14),c(22,"Labels"),l(),a(23,"th",14),c(24,"Fields"),l(),a(25,"th",15),c(26,"Tag"),l(),a(27,"th",15),c(28,"1D"),l(),a(29,"th",15),c(30,"2D"),l(),a(31,"th",15),c(32,"Logo"),l(),a(33,"th",15),c(34,"Title"),l()()(),a(35,"tbody",16),U(36,F5,26,20,"tr",17,R5),l()()()(),a(38,"section",8)(39,"h2",18),c(40,"2. Update Label Settings"),l(),a(41,"p",19),c(42,"Changes made here must be saved before they will be reflected in the labels or the preview below."),l(),a(43,"div",20)(44,"div")(45,"label",21),c(46,"Title"),l(),v(47,"input",22),a(48,"p",23),c(49,"The title to show on labels that support it. The placeholder "),a(50,"code",24),c(51,"(COMPANY)"),l(),c(52," will be replaced with the asset's company name."),l()(),a(53,"div",25),v(54,"input",26),a(55,"label",27),c(56,"Use Asset Logo"),l()(),a(57,"div")(58,"label",28),c(59,"1D Barcode Type"),l(),a(60,"select",29)(61,"option",30),c(62,"C128"),l(),a(63,"option",31),c(64,"C39"),l(),a(65,"option",32),c(66,"EAN13"),l(),a(67,"option",33),c(68,"UPC"),l()()(),a(69,"div")(70,"label",34),c(71,"2D Barcode Type"),l(),a(72,"select",35)(73,"option",36),c(74,"QRCODE"),l(),a(75,"option",37),c(76,"DATAMATRIX"),l()()(),a(77,"div")(78,"label",38),c(79,"2D Barcode Prefix"),l(),v(80,"input",39),l(),a(81,"div")(82,"label",40),c(83,"2D Barcode Content"),l(),a(84,"select",41)(85,"option",42),c(86,"Default URL"),l(),a(87,"option",43),c(88,"Asset Tag"),l(),a(89,"option",44),c(90,"Serial Number"),l()()(),a(91,"div")(92,"label",45),c(93,"Field Start Offset (Empty Rows)"),l(),v(94,"input",46),l()()(),a(95,"div",47)(96,"section",48)(97,"h2",18),c(98,"3. Label Fields"),l(),a(99,"p",19),c(100,"Manage the fields that appear on your label. Changes here are reflected live in the preview."),l(),a(101,"div",49),U(102,P5,16,4,"div",50,Be),a(104,"button",51),y("click",function(){return i.addRow()}),c(105,"+ Add New Row"),l()()(),a(106,"section",48)(107,"h2",9),c(108,"4. Label Preview"),l(),T(109,V5,1,2,"app-label-preview",52)(110,j5,3,0,"div",53),l()(),a(111,"div",54)(112,"button",55),c(113,"Save Settings"),l()()()()()),e&2){let r;f(8),x("formGroup",i.settingsForm),f(28),B(i.templates()),f(66),B(i.fields.controls),f(7),I((r=i.previewSettings())?109:110,r)}},dependencies:[F,J,Y,ct,ut,W,Ve,Cn,Ke,pv,Q,Z,G,q,Zo,wi,Cs,ae],encapsulation:2,changeDetection:0});var pf=Fs;function U5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Label Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"label",8),c(7,"Label Color"),l(),a(8,"div",9),v(9,"input",10),a(10,"span",11),c(11),l()()(),a(12,"div",12)(13,"button",13),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(14,"Cancel"),l(),a(15,"button",14),c(16,"Save Changes"),l()()()}if(n&2){let e,i=b();x("formGroup",i.statusLabelForm),f(11),E((e=i.statusLabelForm.get("color"))==null?null:e.value),f(4),x("disabled",i.statusLabelForm.invalid)}}function B5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading status label data..."),l()())}var Os=class Os{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V);console.log("EditStatusLabelComponent Initialized")}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.statusLabel=this.assetService.getStatusLabelById(t),this.statusLabel?this.statusLabelForm=this.fb.group({name:[this.statusLabel.name,k.required],color:[this.statusLabel.color||"#3b82f6"]}):(console.warn("Status Label not found for ID:",t),this.router.navigate(["/settings/status-labels"]))}async onSubmit(){if(this.statusLabelForm.valid&&this.statusLabel){let t=N(N({},this.statusLabel),this.statusLabelForm.value);await this.assetService.updateStatusLabel(t),this.router.navigate(["/settings/status-labels"])}}onCancel(){this.router.navigate(["/settings/status-labels"])}};Os.\u0275fac=function(e){return new(e||Os)},Os.\u0275cmp=R({type:Os,selectors:[["app-edit-status-label"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300","mb-1"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"mt-4"],["for","color",1,"block","text-sm","font-medium","text-slate-300","mb-1"],[1,"flex","items-center","space-x-3"],["type","color","id","color","formControlName","color",1,"h-10","w-20","p-1","bg-slate-700","border","border-slate-600","rounded"],[1,"text-slate-400","text-sm","font-mono","bg-slate-900","px-2","py-1","rounded"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Status Label (Updated)"),l(),T(3,U5,17,3,"form",2)(4,B5,3,0,"div",3),l()),e&2&&(f(3),I(i.statusLabelForm?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var hf=Os;var Ls=class Ls{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.statusLabelForm=this.fb.group({name:["",k.required],color:["#3b82f6"]})}async onSubmit(){if(this.statusLabelForm.valid){let t={name:this.statusLabelForm.value.name,status_type:"deployable",notes:"",color:this.statusLabelForm.value.color};await this.assetService.addStatusLabel(t),this.router.navigate(["/settings/status-labels"])}}onCancel(){this.router.navigate(["/settings/status-labels"])}};Ls.\u0275fac=function(e){return new(e||Ls)},Ls.\u0275cmp=R({type:Ls,selectors:[["app-create-status-label"]],decls:23,vars:3,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],["for","color",1,"block","text-sm","font-medium","text-slate-300"],[1,"mt-1","flex","items-center","space-x-3"],["type","color","id","color","formControlName","color",1,"h-10","w-20","p-1","bg-slate-700","border","border-slate-600","rounded"],[1,"text-slate-400","text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Status Label"),l(),a(4,"p",2),c(5,"Create a new status label to categorize your assets."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Status Label"),l(),v(10,"input",5),l(),a(11,"div")(12,"label",6),c(13,"Label Color"),l(),a(14,"div",7),v(15,"input",8),a(16,"span",9),c(17),l()()(),a(18,"div",10)(19,"button",11),y("click",function(){return i.onCancel()}),c(20,"Cancel"),l(),a(21,"button",12),c(22,"Create Label"),l()()()()),e&2){let r;f(6),x("formGroup",i.statusLabelForm),f(11),E((r=i.statusLabelForm.get("color"))==null?null:r.value),f(4),x("disabled",i.statusLabelForm.invalid)}},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var gf=Ls;var Ps=class Ps{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addAssetModel(this.form.value),this.router.navigate(["/settings/asset-models"]))}onCancel(){this.router.navigate(["/settings/asset-models"])}};Ps.\u0275fac=function(e){return new(e||Ps)},Ps.\u0275cmp=R({type:Ps,selectors:[["app-create-asset-model"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Asset Model"),l(),a(4,"p",2),c(5,"Create a new asset model."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var vf=Ps;function $5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function H5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var Vs=class Vs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getAssetModelById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/asset-models"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateAssetModel(t),this.router.navigate(["/settings/asset-models"])}}onCancel(){this.router.navigate(["/settings/asset-models"])}};Vs.\u0275fac=function(e){return new(e||Vs)},Vs.\u0275cmp=R({type:Vs,selectors:[["app-edit-asset-model"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Asset Model"),l(),T(3,$5,10,2,"form",2)(4,H5,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var yf=Vs;var js=class js{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addCategory(this.form.value),this.router.navigate(["/settings/categories"]))}onCancel(){this.router.navigate(["/settings/categories"])}};js.\u0275fac=function(e){return new(e||js)},js.\u0275cmp=R({type:js,selectors:[["app-create-category"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Category"),l(),a(4,"p",2),c(5,"Create a new category."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var bf=js;function G5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function z5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var Us=class Us{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getCategoryById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/categories"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateCategory(t),this.router.navigate(["/settings/categories"])}}onCancel(){this.router.navigate(["/settings/categories"])}};Us.\u0275fac=function(e){return new(e||Us)},Us.\u0275cmp=R({type:Us,selectors:[["app-edit-category"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Category"),l(),T(3,G5,10,2,"form",2)(4,z5,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var _f=Us;var Bs=class Bs{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addManufacturer(this.form.value),this.router.navigate(["/settings/manufacturers"]))}onCancel(){this.router.navigate(["/settings/manufacturers"])}};Bs.\u0275fac=function(e){return new(e||Bs)},Bs.\u0275cmp=R({type:Bs,selectors:[["app-create-manufacturer"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Manufacturer"),l(),a(4,"p",2),c(5,"Create a new manufacturer."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var xf=Bs;function q5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function W5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var $s=class $s{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getManufacturerById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/manufacturers"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateManufacturer(t),this.router.navigate(["/settings/manufacturers"])}}onCancel(){this.router.navigate(["/settings/manufacturers"])}};$s.\u0275fac=function(e){return new(e||$s)},$s.\u0275cmp=R({type:$s,selectors:[["app-edit-manufacturer"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Manufacturer"),l(),T(3,q5,10,2,"form",2)(4,W5,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Cf=$s;var Hs=class Hs{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addSupplier(this.form.value),this.router.navigate(["/settings/suppliers"]))}onCancel(){this.router.navigate(["/settings/suppliers"])}};Hs.\u0275fac=function(e){return new(e||Hs)},Hs.\u0275cmp=R({type:Hs,selectors:[["app-create-supplier"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Supplier"),l(),a(4,"p",2),c(5,"Create a new supplier."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var wf=Hs;function Q5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function Z5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var Gs=class Gs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getSupplierById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/suppliers"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateSupplier(t),this.router.navigate(["/settings/suppliers"])}}onCancel(){this.router.navigate(["/settings/suppliers"])}};Gs.\u0275fac=function(e){return new(e||Gs)},Gs.\u0275cmp=R({type:Gs,selectors:[["app-edit-supplier"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Supplier"),l(),T(3,Q5,10,2,"form",2)(4,Z5,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Sf=Gs;var zs=class zs{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addDepartment(this.form.value),this.router.navigate(["/settings/departments"]))}onCancel(){this.router.navigate(["/settings/departments"])}};zs.\u0275fac=function(e){return new(e||zs)},zs.\u0275cmp=R({type:zs,selectors:[["app-create-department"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Department"),l(),a(4,"p",2),c(5,"Create a new department."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Ef=zs;function Y5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function K5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var qs=class qs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getDepartmentById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/departments"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateDepartment(t),this.router.navigate(["/settings/departments"])}}onCancel(){this.router.navigate(["/settings/departments"])}};qs.\u0275fac=function(e){return new(e||qs)},qs.\u0275cmp=R({type:qs,selectors:[["app-edit-department"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Department"),l(),T(3,Y5,10,2,"form",2)(4,K5,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Df=qs;var Ws=class Ws{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addLocation(this.form.value),this.router.navigate(["/settings/locations"]))}onCancel(){this.router.navigate(["/settings/locations"])}};Ws.\u0275fac=function(e){return new(e||Ws)},Ws.\u0275cmp=R({type:Ws,selectors:[["app-create-location"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Location"),l(),a(4,"p",2),c(5,"Create a new location."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Tf=Ws;function J5(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function X5(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var Qs=class Qs{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getLocationById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/locations"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateLocation(t),this.router.navigate(["/settings/locations"])}}onCancel(){this.router.navigate(["/settings/locations"])}};Qs.\u0275fac=function(e){return new(e||Qs)},Qs.\u0275cmp=R({type:Qs,selectors:[["app-edit-location"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Location"),l(),T(3,J5,10,2,"form",2)(4,X5,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var If=Qs;var Zs=class Zs{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addCompany(this.form.value),this.router.navigate(["/settings/companies"]))}onCancel(){this.router.navigate(["/settings/companies"])}};Zs.\u0275fac=function(e){return new(e||Zs)},Zs.\u0275cmp=R({type:Zs,selectors:[["app-create-company"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New Company"),l(),a(4,"p",2),c(5,"Create a new company."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var kf=Zs;function eO(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function tO(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var Ys=class Ys{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getCompanyById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/companies"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateCompany(t),this.router.navigate(["/settings/companies"])}}onCancel(){this.router.navigate(["/settings/companies"])}};Ys.\u0275fac=function(e){return new(e||Ys)},Ys.\u0275cmp=R({type:Ys,selectors:[["app-edit-company"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit Company"),l(),T(3,eO,10,2,"form",2)(4,tO,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Af=Ys;var Ks=class Ks{constructor(){this.fb=h(K);this.router=h(L);this.assetService=h(V);this.form=this.fb.group({name:["",k.required]})}onSubmit(){this.form.valid&&(this.assetService.addSbu(this.form.value),this.router.navigate(["/settings/sbus"]))}onCancel(){this.router.navigate(["/settings/sbus"])}};Ks.\u0275fac=function(e){return new(e||Ks)},Ks.\u0275cmp=R({type:Ks,selectors:[["app-create-sbu"]],decls:16,vars:2,consts:[[1,"space-y-6","max-w-2xl"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-slate-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-4","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-800","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header")(2,"h2",1),c(3,"Add New SBU"),l(),a(4,"p",2),c(5,"Create a new SBU."),l()(),a(6,"form",3),y("ngSubmit",function(){return i.onSubmit()}),a(7,"div")(8,"label",4),c(9,"Name"),l(),v(10,"input",5),l(),a(11,"div",6)(12,"button",7),y("click",function(){return i.onCancel()}),c(13,"Cancel"),l(),a(14,"button",8),c(15,"Create"),l()()()()),e&2&&(f(6),x("formGroup",i.form),f(8),x("disabled",i.form.invalid))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Mf=Ks;function nO(n,t){if(n&1){let e=O();a(0,"form",4),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(1,"div")(2,"label",5),c(3,"Name"),l(),v(4,"input",6),l(),a(5,"div",7)(6,"button",8),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(7,"Cancel"),l(),a(8,"button",9),c(9,"Save"),l()()()}if(n&2){let e=b();x("formGroup",e.form),f(8),x("disabled",e.form.invalid)}}function iO(n,t){n&1&&(a(0,"div",3)(1,"p"),c(2,"Loading data..."),l()())}var Js=class Js{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V)}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.item=this.assetService.getSbuById(t),this.item?this.form=this.fb.group({name:[this.item.name,k.required]}):this.router.navigate(["/settings/sbus"])}onSubmit(){if(this.form.valid&&this.item){let t=N(N({},this.item),this.form.value);this.assetService.updateSbu(t),this.router.navigate(["/settings/sbus"])}}onCancel(){this.router.navigate(["/settings/sbus"])}};Js.\u0275fac=function(e){return new(e||Js)},Js.\u0275cmp=R({type:Js,selectors:[["app-edit-sbu"]],decls:5,vars:1,consts:[[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","p-6","max-w-md","mx-auto"],[1,"text-lg","font-bold","text-white","mb-6"],[3,"formGroup"],[1,"text-center","text-slate-400"],[3,"ngSubmit","formGroup"],["for","name",1,"sr-only"],["type","text","id","name","formControlName","name",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","shadow-sm","py-2","px-3","text-white","placeholder-slate-400","focus:outline-none","focus:ring-sky-500","focus:border-sky-500","sm:text-sm"],[1,"pt-6","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-slate-300","bg-slate-700","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-slate-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"disabled"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Edit SBU"),l(),T(3,nO,10,2,"form",2)(4,iO,3,0,"div",3),l()),e&2&&(f(3),I(i.form?3:4))},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Nf=Js;var rO=n=>["/settings/authentication/edit",n],Mw=(n,t)=>t.id;function oO(n,t){if(n&1&&(a(0,"option",17),c(1),l()),n&2){let e=t.$implicit;x("value",e),f(),E(e)}}function sO(n,t){if(n&1&&(a(0,"label",39),v(1,"input",40),c(2),l()),n&2){let e=t.$implicit,i=t.$index;f(),x("formControlName",i),f(),X(" ",e.name," ")}}function aO(n,t){if(n&1&&(a(0,"div",38),U(1,sO,3,2,"label",39,Mw),l()),n&2){let e=b(3);f(),B(e.systemModules())}}function lO(n,t){if(n&1&&(a(0,"div",36),T(1,aO,3,0,"div",38),l()),n&2){let e=b(2);f(),I(e.modulesArray.length===e.systemModules().length?1:-1)}}function cO(n,t){n&1&&(a(0,"p",37),c(1,"No classes found in student database yet."),l())}function uO(n,t){if(n&1&&(a(0,"div",18)(1,"div",30)(2,"div",31),v(3,"input",32),l(),a(4,"div",33)(5,"label",34),c(6,"Assign Accessible Classes"),l(),a(7,"p",35),c(8,"Select the classes this viewer is allowed to see."),l()()(),T(9,lO,2,1,"div",36)(10,cO,2,0,"p",37),l()),n&2){let e,i=b();f(9),I((e=i.userForm.get("assignClasses"))!=null&&e.value?9:10)}}function dO(n,t){if(n&1){let e=O();a(0,"tr",28)(1,"td",41),c(2),l(),a(3,"td",42)(4,"span",43),A(),a(5,"svg",44),v(6,"path",45),l(),c(7),l()(),j(),a(8,"td",46),c(9),l(),a(10,"td",47)(11,"a",48),A(),a(12,"svg",49),v(13,"path",50),l()(),j(),a(14,"button",51),y("click",function(){let r=w(e).$implicit,o=b();return S(o.openDeleteModal(r))}),A(),a(15,"svg",49),v(16,"path",52),l()(),j(),a(17,"button",53),A(),a(18,"svg",49),v(19,"path",54),l()()()()}if(n&2){let e=t.$implicit;f(2),E(e.username),f(5),X(" ",e.role," "),f(2),E(e.accessDetails),f(2),x("routerLink",Ae(4,rO,e.id))}}function mO(n,t){n&1&&(a(0,"tr")(1,"td",55),c(2,"No system users found."),l()())}function fO(n,t){if(n&1){let e=O();a(0,"app-confirmation-modal",56),y("cancel",function(){w(e);let r=b();return S(r.closeDeleteModal())})("confirm",function(){w(e);let r=b();return S(r.onConfirmDelete())}),l()}n&2&&x("itemType","User")("itemName",t.name)}var Xs=class Xs{constructor(){this.assetService=h(V);this.router=h(L);this.fb=h(K);this.users=this.assetService.authUsers;this.systemModules=this.assetService.systemModules;this.roles=["Super Admin","Admin","Approver","Viewer","Staff"];this.isDeleteModalOpen=D(!1);this.itemToDelete=D(null);this.userForm=this.fb.group({username:["",k.required],password:["",k.required],role:["Staff",k.required],assignClasses:[!1],modules:this.fb.array([])});this.roleValue=Si(this.userForm.get("role").valueChanges.pipe(Fi("Staff")),{initialValue:"Staff"});this.showAccessClasses=oe(()=>this.roleValue()==="Staff");Dt(()=>{let t=this.userForm.get("assignClasses");this.showAccessClasses()?t?.enable({emitEvent:!1}):(t?.disable({emitEvent:!1}),t?.setValue(!1))}),this.userForm.get("assignClasses")?.valueChanges.subscribe(t=>{this.updateModulesFormArray(t)})}get modulesArray(){return this.userForm.get("modules")}updateModulesFormArray(t){t?this.modulesArray.length!==this.systemModules().length&&(this.modulesArray.clear(),this.systemModules().forEach(()=>this.modulesArray.push(this.fb.control(!1)))):this.modulesArray.clear()}async onSubmit(){if(this.userForm.valid){let{username:t,password:e,role:i,assignClasses:r,modules:o}=this.userForm.value,s=[];r&&o&&(s=o.map((d,m)=>d?this.systemModules()[m].id:null).filter(d=>d!==null));let u=`${t}@example.com`;await this.assetService.addAuthUser({username:t,email:u,password:e,role:i,accessibleModules:s}),this.userForm.reset({username:"",password:"",role:"Staff",assignClasses:!1}),this.modulesArray.clear(),Object.keys(this.userForm.controls).forEach(d=>{this.userForm.get(d)?.markAsPristine(),this.userForm.get(d)?.markAsUntouched()})}}openDeleteModal(t){this.itemToDelete.set({id:t.id,name:t.username}),this.isDeleteModalOpen.set(!0)}closeDeleteModal(){this.isDeleteModalOpen.set(!1),this.itemToDelete.set(null)}async onConfirmDelete(){let t=this.itemToDelete();t&&(await this.assetService.deleteAuthUser(t.id),this.closeDeleteModal())}};Xs.\u0275fac=function(e){return new(e||Xs)},Xs.\u0275cmp=R({type:Xs,selectors:[["app-authentication-users"]],decls:53,vars:5,consts:[[1,"bg-gray-100","-m-6","md:-m-8","p-6","md:p-8","min-h-full"],[1,"max-w-7xl","mx-auto","space-y-8"],[1,"bg-white","p-6","md:p-8","rounded-lg","shadow-sm"],[1,"flex","items-start","mb-6"],[1,"bg-indigo-100","p-3","rounded-full","mr-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.5 22.5a12.318 12.318 0 01-6.498-3.265z"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","username","formControlName","username",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","role",1,"block","text-sm","font-medium","text-gray-700"],["id","role","formControlName","role",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[3,"value"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-4","space-y-4"],["type","submit",1,"w-full","flex","justify-center","py-3","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled"],[1,"bg-white","rounded-lg","shadow-sm","overflow-hidden"],[1,"p-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[3,"itemType","itemName"],[1,"relative","flex","items-start"],[1,"flex","items-center","h-5"],["id","assign_classes","formControlName","assignClasses","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","assign_classes",1,"font-medium","text-gray-700"],[1,"text-gray-500"],[1,"pl-8","pt-2","border-t","border-gray-200"],[1,"text-sm","text-gray-400","italic","pl-8"],["formArrayName","modules",1,"grid","grid-cols-2","sm:grid-cols-3","gap-x-4","gap-y-2"],[1,"flex","items-center","text-sm","text-gray-700"],["type","checkbox",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded","focus:ring-indigo-500","mr-2",3,"formControlName"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-700"],[1,"inline-flex","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4","mr-1.5","text-indigo-500"],["fill-rule","evenodd","d","M18 8a6 6 0 11-12 0 6 6 0 0112 0zM7 8a1 1 0 11-2 0 1 1 0 012 0zm5 0a1 1 0 11-2 0 1 1 0 012 0z","clip-rule","evenodd"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","flex","items-center","space-x-4"],["title","Edit",1,"text-indigo-600","hover:text-indigo-900",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"],["type","button","title","Delete",1,"text-red-600","hover:text-red-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],["title","Permissions (coming soon)","disabled","",1,"text-gray-400","cursor-not-allowed"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"],["colspan","4",1,"px-6","py-10","text-center","text-sm","text-gray-500"],[3,"cancel","confirm","itemType","itemName"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(),a(5,"svg",5),v(6,"path",6),l()(),j(),a(7,"div")(8,"h2",7),c(9,"User Management"),l(),a(10,"p",8),c(11,"Create accounts for Staff or Students"),l()()(),a(12,"form",9),y("ngSubmit",function(){return i.onSubmit()}),a(13,"div",10)(14,"div")(15,"label",11),c(16,"Username"),l(),v(17,"input",12),l(),a(18,"div")(19,"label",13),c(20,"Password"),l(),v(21,"input",14),l()(),a(22,"div")(23,"label",15),c(24,"Role"),l(),a(25,"select",16),U(26,oO,2,2,"option",17,Be),l()(),T(28,uO,11,1,"div",18),a(29,"div")(30,"button",19),c(31," Create User "),l()()()(),a(32,"div",20)(33,"div",21)(34,"h3",22),c(35,"System Users"),l()(),a(36,"div",23)(37,"table",24)(38,"thead",25)(39,"tr")(40,"th",26),c(41,"Username"),l(),a(42,"th",26),c(43,"Role"),l(),a(44,"th",26),c(45,"Access Details"),l(),a(46,"th",26),c(47,"Action"),l()()(),a(48,"tbody",27),U(49,dO,20,6,"tr",28,Mw,!1,mO,3,0,"tr"),l()()()()()(),T(52,fO,1,2,"app-confirmation-modal",29)),e&2){let r;f(12),x("formGroup",i.userForm),f(14),B(i.roles),f(2),I(i.showAccessClasses()?28:-1),f(2),x("disabled",i.userForm.invalid),f(19),B(i.users()),f(3),I((r=i.isDeleteModalOpen()&&i.itemToDelete())?52:-1,r)}},dependencies:[F,ae,J,Y,ct,ut,W,Cn,Ke,Q,Z,G,q,wi,ke],encapsulation:2,changeDetection:0});var Rf=Xs;var pO=(n,t)=>t.id;function hO(n,t){if(n&1&&(a(0,"option",15),c(1),l()),n&2){let e=t.$implicit;x("value",e),f(),E(e)}}function gO(n,t){if(n&1&&(a(0,"label",35),v(1,"input",36),c(2),l()),n&2){let e=t.$implicit,i=t.$index;f(),x("formControlName",i),f(),X(" ",e.name," ")}}function vO(n,t){if(n&1&&(a(0,"div",34),U(1,gO,3,2,"label",35,pO),l()),n&2){let e=b(4);f(),B(e.systemModules())}}function yO(n,t){if(n&1&&(a(0,"div",33),T(1,vO,3,0,"div",34),l()),n&2){let e=b(3);f(),I(e.modulesArray.length===e.systemModules().length?1:-1)}}function bO(n,t){if(n&1&&(a(0,"div",16)(1,"div",27)(2,"div",28),v(3,"input",29),l(),a(4,"div",30)(5,"label",31),c(6,"Assign Accessible Classes"),l(),a(7,"p",32),c(8,"Select the classes this viewer is allowed to see."),l()()(),T(9,yO,2,1,"div",33),l()),n&2){let e,i=b(2);f(9),I((e=i.userForm.get("assignClasses"))!=null&&e.value?9:-1)}}function _O(n,t){n&1&&(a(0,"p",23),c(1,"Passwords do not match."),l())}function xO(n,t){if(n&1){let e=O();a(0,"div",1)(1,"div",3)(2,"div",4),A(),a(3,"svg",5),v(4,"path",6),l()(),j(),a(5,"div")(6,"h2",7),c(7),l(),a(8,"p",8),c(9,"Update user account details and role."),l()()(),a(10,"form",9),y("ngSubmit",function(){w(e);let r=b();return S(r.onSubmit())}),a(11,"div",10)(12,"div")(13,"label",11),c(14,"Username"),l(),v(15,"input",12),l(),a(16,"div")(17,"label",13),c(18,"Role"),l(),a(19,"select",14),U(20,hO,2,2,"option",15,Be),l()()(),T(22,bO,10,1,"div",16),a(23,"div",17)(24,"p",18),c(25,"Leave password fields blank to keep the current password."),l(),a(26,"div",10)(27,"div")(28,"label",19),c(29,"New Password"),l(),v(30,"input",20),l(),a(31,"div")(32,"label",21),c(33,"Confirm New Password"),l(),v(34,"input",22),T(35,_O,2,0,"p",23),l()()(),a(36,"div",24)(37,"button",25),y("click",function(){w(e);let r=b();return S(r.onCancel())}),c(38,"Cancel"),l(),a(39,"button",26),c(40,"Update User"),l()()()()}if(n&2){let e,i=b();f(7),X("Edit User: ",i.user==null?null:i.user.username),f(3),x("formGroup",i.userForm),f(10),B(i.roles),f(2),I(i.showAccessClasses()?22:-1),f(13),I(i.userForm.errors!=null&&i.userForm.errors.passwordMismatch&&((e=i.userForm.get("confirmPassword"))!=null&&e.touched||(e=i.userForm.get("confirmPassword"))!=null&&e.dirty)?35:-1),f(4),x("disabled",i.userForm.invalid)}}function CO(n,t){n&1&&(a(0,"p",2),c(1,"User not found."),l())}function wO(n){let t=n.get("password"),e=n.get("confirmPassword");return t?.value&&t.value!==e?.value?{passwordMismatch:!0}:null}var ea=class ea{constructor(){this.fb=h(K);this.router=h(L);this.route=h(me);this.assetService=h(V);this.userForm=this.fb.group({username:["",k.required],role:["",k.required],password:["",[k.minLength(6)]],confirmPassword:[""],assignClasses:[!1],modules:this.fb.array([])},{validators:wO});this.roles=["Super Admin","Admin","Approver","Viewer","Staff"];this.systemModules=this.assetService.systemModules;this.roleValue=Si(this.userForm.get("role").valueChanges.pipe(Fi("")),{initialValue:""});this.showAccessClasses=oe(()=>this.roleValue()==="Staff");Dt(()=>{let t=this.userForm.get("assignClasses");this.showAccessClasses()?t?.enable({emitEvent:!1}):(t?.disable({emitEvent:!1}),this.userForm.dirty&&t?.setValue(!1))}),this.userForm.get("assignClasses")?.valueChanges.subscribe(t=>{let e=this.user?this.user.accessibleModules:[];this.updateModulesFormArray(t)})}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.user=this.assetService.getAuthUserById(t),this.user?(this.userForm.patchValue({username:this.user.username,role:this.user.role,assignClasses:(this.user.accessibleModules?.length??0)>0}),this.userForm.get("assignClasses")?.value&&this.updateModulesFormArray(!0,this.user.accessibleModules)):this.router.navigate(["/settings/authentication"])}get modulesArray(){return this.userForm.get("modules")}updateModulesFormArray(t,e=[]){t?this.modulesArray.length!==this.systemModules().length&&(this.modulesArray.clear(),this.systemModules().forEach(i=>{let r=e.includes(i.id);this.modulesArray.push(this.fb.control(r))})):this.modulesArray.clear()}async onSubmit(){if(this.userForm.valid&&this.user){let{username:t,role:e,password:i,assignClasses:r,modules:o}=this.userForm.value,s=[];r&&o&&(s=o.map((m,p)=>m?this.systemModules()[p].id:null).filter(m=>m!==null));let u="Restricted";e==="Admin"||e==="Super Admin"||e==="Approver"?u="All Access":s.length>0&&(u=`Restricted (${s.length} modules)`);let d=ie(N({},this.user),{username:t,role:e,accessDetails:u,accessibleModules:s});i&&(d.password=i),await this.assetService.updateAuthUser(d),this.router.navigate(["/settings/authentication"])}}onCancel(){this.router.navigate(["/settings/authentication"])}};ea.\u0275fac=function(e){return new(e||ea)},ea.\u0275cmp=R({type:ea,selectors:[["app-edit-authentication-user"]],decls:3,vars:1,consts:[[1,"bg-gray-100","-m-6","md:-m-8","p-6","md:p-8","min-h-full"],[1,"max-w-4xl","mx-auto","bg-white","p-6","md:p-8","rounded-lg","shadow-sm"],[1,"text-center","text-gray-500"],[1,"flex","items-start","mb-6"],[1,"bg-indigo-100","p-3","rounded-full","mr-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.5 22.5a12.318 12.318 0 01-6.498-3.265z"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","username","formControlName","username",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","role",1,"block","text-sm","font-medium","text-gray-700"],["id","role","formControlName","role",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[3,"value"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-4","space-y-4"],[1,"border-t","border-gray-200","pt-6","space-y-4"],[1,"text-sm","text-gray-500"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"mt-1","block","w-full","bg-white","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"mt-2","text-sm","text-red-600"],[1,"pt-2","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-gray-700","bg-gray-100","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled"],[1,"relative","flex","items-start"],[1,"flex","items-center","h-5"],["id","assign_classes","formControlName","assignClasses","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","assign_classes",1,"font-medium","text-gray-700"],[1,"text-gray-500"],[1,"pl-8","pt-2","border-t","border-gray-200"],["formArrayName","modules",1,"grid","grid-cols-2","sm:grid-cols-3","gap-x-4","gap-y-2"],[1,"flex","items-center","text-sm","text-gray-700"],["type","checkbox",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded","focus:ring-indigo-500","mr-2",3,"formControlName"]],template:function(e,i){e&1&&(a(0,"div",0),T(1,xO,41,5,"div",1)(2,CO,2,0,"p",2),l()),e&2&&(f(),I(i.userForm?1:2))},dependencies:[F,J,Y,ct,ut,W,Cn,Ke,Q,Z,G,q,wi],encapsulation:2,changeDetection:0});var Ff=ea;function SO(n,t){if(n&1&&(a(0,"option",23),c(1),l()),n&2){let e=t.$implicit;x("value",e),f(),E(e)}}var ta=class ta{constructor(){this.settings=rt.required();this.save=Gt();this.cancel=Gt();this.fb=h(K);this.securityTypes=["TLS","SSL","None"]}ngOnInit(){let t=this.settings();this.smtpForm=this.fb.group({serverName:[t.serverName,k.required],description:[t.description],serverAddress:[t.serverAddress,k.required],port:[t.port,[k.required,k.pattern(/^[0-9]+$/)]],userName:[t.userName,k.required],password:[t.password,k.required],securityType:[t.securityType,k.required],sender:[t.sender,[k.required,k.email]]})}onSave(){this.smtpForm.valid&&this.save.emit(this.smtpForm.value)}onCancel(){this.cancel.emit()}};ta.\u0275fac=function(e){return new(e||ta)},ta.\u0275cmp=R({type:ta,selectors:[["app-smtp-settings-modal"]],inputs:{settings:[1,"settings"]},outputs:{save:"save",cancel:"cancel"},decls:56,vars:2,consts:[[1,"fixed","inset-0","bg-black/50","z-50","flex","items-center","justify-center",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-lg","m-4",3,"click"],[1,"p-4","border-b","border-gray-200"],[1,"text-lg","font-bold","text-gray-800"],[1,"p-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-md","font-semibold","text-gray-700","mb-2"],[1,"grid","grid-cols-3","items-center","gap-4"],["for","serverName",1,"text-sm","font-medium","text-gray-600"],[1,"col-span-2"],["id","serverName","type","text","formControlName","serverName",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["for","description",1,"text-sm","font-medium","text-gray-600"],["id","description","type","text","formControlName","description",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["for","serverAddress",1,"text-sm","font-medium","text-gray-600"],["id","serverAddress","type","text","formControlName","serverAddress",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["for","port",1,"text-sm","font-medium","text-gray-600"],["id","port","type","number","formControlName","port",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["for","userName",1,"text-sm","font-medium","text-gray-600"],["id","userName","type","text","formControlName","userName",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["for","password",1,"text-sm","font-medium","text-gray-600"],["id","password","type","password","formControlName","password",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["for","securityType",1,"text-sm","font-medium","text-gray-600"],["id","securityType","formControlName","securityType",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500","bg-white"],[3,"value"],["for","sender",1,"text-sm","font-medium","text-gray-600"],["id","sender","type","email","formControlName","sender",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],[1,"pt-6","flex","justify-end","space-x-3"],["type","submit",1,"px-6","py-2","text-sm","font-semibold","text-white","bg-[#00a99e]","rounded-md","hover:bg-[#008e86]","shadow-sm","disabled:bg-gray-300","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"px-6","py-2","text-sm","font-semibold","text-gray-700","bg-gray-200","rounded-md","hover:bg-gray-300","shadow-sm",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0),y("click",function(){return i.onCancel()}),a(1,"div",1),y("click",function(o){return o.stopPropagation()}),a(2,"div",2)(3,"h2",3),c(4,"SMTP Option"),l()(),a(5,"div",4)(6,"form",5),y("ngSubmit",function(){return i.onSave()}),a(7,"h3",6),c(8,"Sender Information"),l(),a(9,"div",7)(10,"label",8),c(11,"SMTP Server Name"),l(),a(12,"div",9),v(13,"input",10),l()(),a(14,"div",7)(15,"label",11),c(16,"Description"),l(),a(17,"div",9),v(18,"input",12),l()(),a(19,"div",7)(20,"label",13),c(21,"Server Address"),l(),a(22,"div",9),v(23,"input",14),l()(),a(24,"div",7)(25,"label",15),c(26,"Port (default: 25)"),l(),a(27,"div",9),v(28,"input",16),l()(),a(29,"div",7)(30,"label",17),c(31,"User Name"),l(),a(32,"div",9),v(33,"input",18),l()(),a(34,"div",7)(35,"label",19),c(36,"Password"),l(),a(37,"div",9),v(38,"input",20),l()(),a(39,"div",7)(40,"label",21),c(41,"Security Type"),l(),a(42,"div",9)(43,"select",22),U(44,SO,2,2,"option",23,Be),l()()(),a(46,"div",7)(47,"label",24),c(48,"Sender"),l(),a(49,"div",9),v(50,"input",25),l()(),a(51,"div",26)(52,"button",27),c(53,"Apply"),l(),a(54,"button",28),y("click",function(){return i.onCancel()}),c(55,"Cancel"),l()()()()()()),e&2&&(f(6),x("formGroup",i.smtpForm),f(38),B(i.securityTypes),f(8),x("disabled",i.smtpForm.invalid))},dependencies:[F,J,Y,ct,ut,W,Ve,Ke,Q,Z,G,q],encapsulation:2,changeDetection:0});var Of=ta;function EO(n,t){if(n&1){let e=O();a(0,"app-smtp-settings-modal",35),y("save",function(r){w(e);let o=b();return S(o.onSmtpSave(r))})("cancel",function(){w(e);let r=b();return S(r.closeSmtpModal())}),l()}if(n&2){let e=b();x("settings",e.currentSmtpSettings())}}var na=class na{constructor(){this.assetService=h(V);this.router=h(L);this.fb=h(K);this.isSmtpModalOpen=D(!1);this.initialSettings=this.assetService.emailSettings(),this.currentSmtpSettings=D(this.initialSettings.smtp)}ngOnInit(){this.initialSettings=this.assetService.emailSettings(),this.settingsForm=this.fb.group({testRecipient:[this.initialSettings.testRecipient],visualFaceMobileEnrollment:[this.initialSettings.visualFaceMobileEnrollment],qr:[this.initialSettings.qr]})}openSmtpModal(){this.currentSmtpSettings.set(this.assetService.emailSettings().smtp),this.isSmtpModalOpen.set(!0)}closeSmtpModal(){this.isSmtpModalOpen.set(!1)}async onSmtpSave(t){let e=this.assetService.emailSettings();await this.assetService.updateEmailSettings(ie(N({},e),{smtp:t})),this.closeSmtpModal(),alert("SMTP settings saved successfully!")}async onApply(){if(this.settingsForm.valid){let t=this.settingsForm.value,e=this.assetService.emailSettings(),i=ie(N({},e),{testRecipient:t.testRecipient,visualFaceMobileEnrollment:t.visualFaceMobileEnrollment,qr:t.qr});await this.assetService.updateEmailSettings(i),this.router.navigate(["/settings"])}}onCancel(){this.router.navigate(["/settings"])}sendTestEmail(){let t=this.settingsForm.get("testRecipient")?.value;alert(t?`Sending test email to ${t}... (This is a simulation)`:"Please enter a test mail recipient address.")}};na.\u0275fac=function(e){return new(e||na)},na.\u0275cmp=R({type:na,selectors:[["app-email-settings"]],decls:59,vars:4,consts:[[1,"bg-[#eceef1]","-m-6","md:-m-8","p-6","md:p-8","min-h-full","font-sans"],[1,"max-w-4xl","mx-auto"],[1,"flex","items-center","mb-8"],["routerLink","/settings",1,"mr-4","p-2","rounded-full","hover:bg-gray-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-2xl","font-bold","text-gray-700"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-white","p-6","rounded-lg","border","border-gray-200","shadow-sm"],[1,"text-lg","font-semibold","text-gray-800","mb-6"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600","w-48"],["type","button",1,"px-4","py-1.5","text-sm","font-medium","text-gray-700","bg-gray-100","border","border-gray-300","rounded-md","hover:bg-gray-200",3,"click"],["for","test-recipient",1,"text-sm","font-medium","text-gray-600","w-48"],[1,"flex-grow","flex","items-center"],["id","test-recipient","type","email","formControlName","testRecipient",1,"w-full","px-3","py-1.5","text-sm","border","border-gray-300","rounded-md","focus:ring-1","focus:ring-cyan-500","focus:border-cyan-500"],["type","button",1,"ml-2","px-3","py-1.5","text-sm","font-medium","text-gray-700","bg-gray-100","border","border-gray-300","rounded-md","hover:bg-gray-200","flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],["for","visual-face",1,"text-sm","font-medium","text-gray-600"],["for","visual-face",1,"flex","items-center","cursor-pointer"],[1,"relative"],["type","checkbox","id","visual-face","formControlName","visualFaceMobileEnrollment",1,"sr-only"],[1,"block","bg-gray-200","w-12","h-6","rounded-full","transition"],[1,"dot","absolute","left-1","top-1","bg-white","w-4","h-4","rounded-full","transition"],[1,"ml-3","text-gray-700","text-sm","font-medium"],["for","qr",1,"text-sm","font-medium","text-gray-600"],["for","qr",1,"flex","items-center","cursor-pointer"],["type","checkbox","id","qr","formControlName","qr",1,"sr-only"],[1,"flex","justify-end","space-x-3","pt-4"],["type","submit",1,"px-6","py-2","text-sm","font-semibold","text-white","bg-[#00a99e]","rounded-md","hover:bg-[#008e86]","shadow-sm"],["type","button",1,"px-6","py-2","text-sm","font-semibold","text-gray-700","bg-gray-200","rounded-md","hover:bg-gray-300","shadow-sm",3,"click"],[3,"settings"],[3,"save","cancel","settings"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"header",2)(3,"a",3),A(),a(4,"svg",4),v(5,"path",5),l()(),j(),a(6,"h1",6),c(7,"EMAIL SETTING"),l()(),a(8,"form",7),y("ngSubmit",function(){return i.onApply()}),a(9,"div",8)(10,"h2",9),c(11,"Email Contents Setting"),l(),a(12,"div",10)(13,"div",11)(14,"label",12),c(15,"SMTP Setting"),l(),a(16,"button",13),y("click",function(){return i.openSmtpModal()}),c(17,"SMTP se.."),l()(),a(18,"div",11)(19,"label",14),c(20,"Test Mail Recipient Address"),l(),a(21,"div",15),v(22,"input",16),a(23,"button",17),y("click",function(){return i.sendTestEmail()}),A(),a(24,"svg",18),v(25,"path",19),l(),c(26," Send "),l()()()()(),j(),a(27,"div",8)(28,"h2",20),c(29,"Visual Face Mobile Enrollment"),l(),a(30,"div",11)(31,"label",21),c(32,"Visual Face Mobile Enrollment"),l(),a(33,"label",22)(34,"div",23),v(35,"input",24)(36,"div",25)(37,"div",26),l(),a(38,"div",27),c(39),l()()()(),a(40,"div",8)(41,"h2",20),c(42,"QR"),l(),a(43,"div",11)(44,"label",28),c(45,"QR"),l(),a(46,"label",29)(47,"div",23),v(48,"input",30)(49,"div",25)(50,"div",26),l(),a(51,"div",27),c(52),l()()()(),a(53,"div",31)(54,"button",32),c(55,"Apply"),l(),a(56,"button",33),y("click",function(){return i.onCancel()}),c(57,"Cancel"),l()()()()(),T(58,EO,1,1,"app-smtp-settings-modal",34)),e&2){let r,o;f(8),x("formGroup",i.settingsForm),f(31),X(" ",(r=i.settingsForm.get("visualFaceMobileEnrollment"))!=null&&r.value?"Use":"Not Use"," "),f(13),X(" ",(o=i.settingsForm.get("qr"))!=null&&o.value?"Use":"Not Use"," "),f(6),I(i.isSmtpModalOpen()?58:-1)}},dependencies:[F,ae,J,Y,W,Cn,Q,Z,G,q,Of],styles:["input[type=checkbox][_ngcontent-%COMP%]:checked ~ .dot[_ngcontent-%COMP%]{transform:translate(100%);background-color:#00a99e}input[type=checkbox][_ngcontent-%COMP%]:checked ~ .block[_ngcontent-%COMP%]{background-color:#a7e2de}"],changeDetection:0});var Lf=na;function DO(n,t){if(n&1){let e=O();a(0,"tr")(1,"td",23),c(2),l(),a(3,"td",24)(4,"button",25),y("click",function(){let r=w(e).$implicit,o=b();return S(o.removeRecipient(r))}),c(5,"Remove"),l()()()}if(n&2){let e=t.$implicit;f(2),E(e)}}function TO(n,t){n&1&&(a(0,"tr")(1,"td",26),c(2,"No recipients configured."),l()())}var ia=class ia{constructor(){this.assetService=h(V);this.router=h(L);this.fb=h(K);this.settings=this.assetService.notificationSettings;this.recipientForm=this.fb.group({email:["",[k.required,k.email]]})}async addRecipient(){if(this.recipientForm.valid){let t=this.recipientForm.value.email;if(this.settings().recipients.includes(t)){alert("This email address is already in the recipient list.");return}await this.assetService.addNotificationRecipient(t),this.recipientForm.reset()}}async removeRecipient(t){confirm(`Are you sure you want to remove ${t} from the recipient list?`)&&await this.assetService.removeNotificationRecipient(t)}};ia.\u0275fac=function(e){return new(e||ia)},ia.\u0275cmp=R({type:ia,selectors:[["app-notification-settings"]],decls:38,vars:3,consts:[[1,"bg-gray-100","-m-6","md:-m-8","p-6","md:p-8","min-h-full"],[1,"max-w-4xl","mx-auto"],[1,"flex","items-center","mb-8"],["routerLink","/settings",1,"mr-4","p-2","rounded-full","hover:bg-gray-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-2xl","font-bold","text-gray-700"],[1,"bg-white","p-6","rounded-lg","border","border-gray-200","shadow-sm","space-y-6"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-md","font-medium","text-gray-700","mb-2"],[1,"p-4","bg-gray-50","border","rounded-md"],[1,"flex","items-center","gap-3",3,"ngSubmit","formGroup"],["for","recipient-email",1,"sr-only"],["id","recipient-email","type","email","formControlName","email","placeholder","recipient@example.com",1,"flex-grow","w-full","px-3","py-2","text-sm","text-gray-900","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500"],["type","submit",1,"inline-flex","items-center","justify-center","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","-ml-1","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"border","rounded-md","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-red-600","hover:text-red-900",3,"click"],["colspan","2",1,"px-6","py-4","text-center","text-sm","text-gray-500"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"header",2)(3,"a",3),A(),a(4,"svg",4),v(5,"path",5),l()(),j(),a(6,"h1",6),c(7,"Notification Settings"),l()(),a(8,"div",7)(9,"h2",8),c(10,"Asset Update Notifications"),l(),a(11,"div")(12,"h3",9),c(13,"Add Recipient"),l(),a(14,"div",10)(15,"form",11),y("ngSubmit",function(){return i.addRecipient()}),a(16,"label",12),c(17,"Recipient Email"),l(),v(18,"input",13),a(19,"button",14),A(),a(20,"svg",15),v(21,"path",16),l(),c(22," Add "),l()()()(),j(),a(23,"div")(24,"h3",9),c(25,"Action List (Recipients)"),l(),a(26,"div",17)(27,"table",18)(28,"thead",19)(29,"tr")(30,"th",20),c(31,"Email Address"),l(),a(32,"th",21),c(33,"Action"),l()()(),a(34,"tbody",22),U(35,DO,6,1,"tr",null,Be,!1,TO,3,0,"tr"),l()()()()()()()),e&2&&(f(15),x("formGroup",i.recipientForm),f(4),x("disabled",i.recipientForm.invalid),f(16),B(i.settings().recipients))},dependencies:[F,ae,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Pf=ia;var IO=(n,t)=>t.field;function kO(n,t){if(n&1&&(a(0,"tr")(1,"td",15),c(2),l(),a(3,"td",21),c(4),l(),a(5,"td",21),c(6),l()()),n&2){let e=t.$implicit;f(2),E(e.field),f(2),E(e.oldValue),f(2),E(e.newValue)}}function AO(n,t){if(n&1&&(a(0,"section",10)(1,"h3",18),c(2,"Changes Made:"),l(),a(3,"table",12)(4,"thead")(5,"tr",19)(6,"th",20),c(7,"Field"),l(),a(8,"th",20),c(9,"Old Value"),l(),a(10,"th",20),c(11,"New Value"),l()()(),a(12,"tbody"),U(13,kO,7,3,"tr",null,IO),l()()()),n&2){let e=b();f(13),B(e.changes())}}var ra=class ra{constructor(){this.asset=rt.required();this.changes=rt.required()}};ra.\u0275fac=function(e){return new(e||ra)},ra.\u0275cmp=R({type:ra,selectors:[["app-asset-update-email"]],inputs:{asset:[1,"asset"],changes:[1,"changes"]},decls:47,vars:7,consts:[[1,"bg-gray-100","p-4","sm:p-8","font-sans"],[1,"max-w-2xl","mx-auto","bg-white","p-6","sm:p-8"],[1,"text-center","mb-8"],[1,"inline-flex","items-center","text-gray-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-orange-400","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"text-3xl","font-bold"],[1,"text-sm","text-gray-500","mt-1"],[1,"border-l-4","border-orange-400","pl-6","py-4"],[1,"text-2xl","font-bold","text-gray-800","mb-6"],[1,"mb-8"],[1,"text-lg","font-bold","text-gray-700","mb-3"],[1,"w-full","text-sm","border-collapse","border","border-gray-300"],[1,"border","border-gray-300","p-2","font-semibold","text-gray-600","w-1/3"],[1,"border","border-gray-300","p-2","text-gray-800"],[1,"border","border-gray-300","p-2","font-semibold","text-gray-600"],[1,"text-center","mt-10","pt-4","border-t","border-gray-200"],[1,"text-xs","text-gray-500"],[1,"text-lg","font-bold","text-orange-500","mb-3"],[1,"bg-gray-50"],[1,"border","border-gray-300","p-2","text-left","font-semibold","text-gray-700"],[1,"border","border-gray-300","p-2","text-gray-600"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3),A(),a(4,"svg",4),v(5,"path",5),l(),j(),a(6,"h1",6),c(7,"Asset Updated"),l()(),a(8,"p",7),c(9,"Asset Management System Notification"),l()(),a(10,"main",8)(11,"h2",9),c(12),l(),T(13,AO,15,0,"section",10),a(14,"section")(15,"h3",11),c(16,"Current Asset Details:"),l(),a(17,"table",12)(18,"tbody")(19,"tr")(20,"td",13),c(21,"AMS Asset ID"),l(),a(22,"td",14),c(23),l()(),a(24,"tr")(25,"td",15),c(26,"Model"),l(),a(27,"td",14),c(28),l()(),a(29,"tr")(30,"td",15),c(31,"Status"),l(),a(32,"td",14),c(33),l()(),a(34,"tr")(35,"td",15),c(36,"Assigned To"),l(),a(37,"td",14),c(38),l()(),a(39,"tr")(40,"td",15),c(41,"Location"),l(),a(42,"td",14),c(43),l()()()()()(),a(44,"footer",16)(45,"p",17),c(46,"This is an automated notification. Please do not reply to this email."),l()()()()),e&2){let r;f(12),X("Asset: ",i.asset().asset_tag),f(),I(i.changes().length>0?13:-1),f(10),E(i.asset().asset_tag),f(5),E(i.asset().model),f(5),E(i.asset().status.name),f(5),E(((r=i.asset().assigned_to)==null?null:r.name)||"Unassigned"),f(5),E(i.asset().location)}},dependencies:[F],encapsulation:2,changeDetection:0});var Vf=ra;function MO(n,t){if(n&1){let e=O();a(0,"div",1)(1,"header",3)(2,"h2",4),c(3,"Email Notification Preview"),l(),a(4,"p",5),c(5),l(),a(6,"button",6),y("click",function(){w(e);let r=b();return S(r.continueToAssetList())}),c(7," Continue to Asset List "),l()(),v(8,"app-asset-update-email",7),l()}if(n&2){let e=t,i=b();f(5),X("This email has been sent to ",i.recipients().length," recipient(s)."),f(3),x("asset",e.asset)("changes",e.changes)}}function NO(n,t){if(n&1){let e=O();a(0,"div",2)(1,"h2",8),c(2,"No Notification to Preview"),l(),a(3,"p",9),c(4,"No asset update has been triggered recently."),l(),a(5,"button",10),y("click",function(){w(e);let r=b();return S(r.continueToAssetList())}),c(6," Go to Asset List "),l()()}}var oa=class oa{constructor(){this.notificationService=h(ps);this.assetService=h(V);this.router=h(L);this.updateData=this.notificationService.lastAssetUpdate;this.recipients=oe(()=>this.assetService.notificationSettings().recipients)}continueToAssetList(){this.router.navigate(["/assets"])}};oa.\u0275fac=function(e){return new(e||oa)},oa.\u0275cmp=R({type:oa,selectors:[["app-email-preview"]],decls:3,vars:1,consts:[[1,"bg-slate-900","-m-6","md:-m-8","p-6","md:p-8","min-h-full"],[1,"max-w-4xl","mx-auto"],[1,"text-center","p-12","bg-slate-800/50","border","border-slate-700/50","rounded-lg"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-4","mb-8","text-center"],[1,"text-2xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"mt-4","inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"click"],[3,"asset","changes"],[1,"text-xl","font-bold","text-white"],[1,"text-slate-400","mt-2"],[1,"mt-6","inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-slate-900","focus:ring-sky-500",3,"click"]],template:function(e,i){if(e&1&&(a(0,"div",0),T(1,MO,9,3,"div",1)(2,NO,7,0,"div",2),l()),e&2){let r;f(),I((r=i.updateData())?1:2,r)}},dependencies:[F,Vf],encapsulation:2,changeDetection:0});var jf=oa;var Tr=class Tr{constructor(){this.assetService=h(V);this.amsFileNames=D([]);this.farFileNames=D([]);this.amsData=D([]);this.farData=D([]);this.isAmsLoading=D(!1);this.isFarLoading=D(!1);this.processedAssets=oe(()=>{let t=this.amsData(),e=this.farData(),i=new Map;for(let r of t){let o=this.findSerialColumn(r.data);if(!o)continue;let s=this.findColumnFlexible(r.data,["Asset Tag","AssetTag","Asset_Tag","Tag","AMS ID","AMS Index"]);for(let u of r.data){let d=u[o];if(!this.isValidSerial(d))continue;let m=String(d).trim().toUpperCase(),p=this.extractModelInfo(u,r.data),g=s&&u[s]?String(u[s]):"";if(!i.has(m))i.set(m,{serial:m,amsData:u,farData:null,status:"ams_only",deviceModel:p,amsTag:g,farTag:""});else{let C=i.get(m);C.amsData=u,C.deviceModel||(C.deviceModel=p),C.amsTag||(C.amsTag=g)}}}for(let r of e){let o=this.findSerialColumn(r.data);if(!o)continue;let s=this.findColumnFlexible(r.data,["Asset","Asset Number","Asset #","FAR ID","FAR Tag","System Number","Sub number","Main Asset","Index"]);for(let u of r.data){let d=u[o];if(!this.isValidSerial(d))continue;let m=String(d).trim().toUpperCase(),p=this.extractModelInfo(u,r.data),g=s&&u[s]?String(u[s]):"";if(i.has(m)){let C=i.get(m);C.farData=u,C.status="both",C.deviceModel||(C.deviceModel=p),C.farTag||(C.farTag=g)}else i.set(m,{serial:m,amsData:null,farData:u,status:"far_only",deviceModel:p,amsTag:"",farTag:g})}}return Array.from(i.values())});this.stats=oe(()=>{let t=this.processedAssets();return{total:t.length,amsOnly:t.filter(e=>e.status==="ams_only").length,farOnly:t.filter(e=>e.status==="far_only").length,both:t.filter(e=>e.status==="both").length}})}getAssetsByCategory(t){let e=this.processedAssets();switch(t){case"ams_only":return e.filter(i=>i.status==="ams_only");case"far_only":return e.filter(i=>i.status==="far_only");case"both":return e.filter(i=>i.status==="both");case"total":default:return e}}isValidSerial(t){if(t==null)return!1;let e=String(t).trim().toUpperCase();return e!==""&&e!=="NULL"&&e!=="UNDEFINED"&&e!=="N/A"}extractModelInfo(t,e){let i=this.findColumnFlexible(e,["Model","Model No","Description","Device Type","Product"]);return i&&t[i]?String(t[i]):""}findColumnFlexible(t,e){if(!t||t.length===0)return null;let i=t[0],r=Object.keys(i);for(let o of r){let s=o.toLowerCase().trim();for(let u of e)if(s.includes(u.toLowerCase()))return o}return null}findSerialColumn(t){let e=["Serial Number","SerialNumber","Serial","S/N","SN","Serial_No"];if(!t||t.length===0)return null;let i=t[0],r=Object.keys(i);for(let o of r){let s=o.toLowerCase().trim();for(let u of e)if(s===u.toLowerCase())return o}return this.findColumnFlexible(t,e)}async loadFiles(t,e){let i=e==="ams"?this.isAmsLoading:this.isFarLoading,r=e==="ams"?this.amsData:this.farData,o=e==="ams"?this.amsFileNames:this.farFileNames;i.set(!0);let s=[],u=[];for(let d of Array.from(t)){u.push(d.name);try{let m=await this.readFile(d),p=XLSX.read(m,{type:"binary"}),g=p.SheetNames[0],C=XLSX.utils.sheet_to_json(p.Sheets[g]);s.push({fileName:d.name,data:C})}catch(m){console.error(`Error reading file ${d.name}:`,m)}}r.update(d=>[...d,...s]),o.update(d=>[...d,...u]),i.set(!1)}readFile(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>e(o.target.result),r.onerror=o=>i(o),r.readAsBinaryString(t)})}clearData(){this.amsFileNames.set([]),this.farFileNames.set([]),this.amsData.set([]),this.farData.set([])}search(t){let e=t.trim().toUpperCase(),i=this.assetService.assets().find(m=>m.serial_number?.toUpperCase()===e),o=this.processedAssets().find(m=>m.serial===e),s={found:!1},u={found:!1};o&&(o.amsData&&(s={found:!0,data:o.amsData,file:"AMS File"}),o.farData&&(u={found:!0,data:o.farData,file:"FAR File"}));let d="not_found";return s.found&&u.found?d="verified":s.found?d="ams_only":u.found&&(d="far_only"),{ams:s,far:u,inventory:{found:!!i,data:i},status:d}}};Tr.\u0275fac=function(e){return new(e||Tr)},Tr.\u0275prov=ee({token:Tr,factory:Tr.\u0275fac,providedIn:"root"});var sa=Tr;function RO(n,t){n&1&&(a(0,"div",25),c(1,"Loading..."),l())}function FO(n,t){if(n&1&&(a(0,"li"),c(1),l()),n&2){let e=t.$implicit;f(),E(e)}}function OO(n,t){n&1&&(a(0,"li",35),c(1,"No AMS files uploaded."),l())}function LO(n,t){if(n&1&&(a(0,"ul",26),U(1,FO,2,1,"li",null,Be,!1,OO,2,0,"li",35),l()),n&2){let e=b();f(),B(e.amsFileNames())}}function PO(n,t){n&1&&(a(0,"div",25),c(1,"Loading..."),l())}function VO(n,t){if(n&1&&(a(0,"li"),c(1),l()),n&2){let e=t.$implicit;f(),E(e)}}function jO(n,t){n&1&&(a(0,"li",35),c(1,"No FAR files uploaded."),l())}function UO(n,t){if(n&1&&(a(0,"ul",26),U(1,VO,2,1,"li",null,Be,!1,jO,2,0,"li",35),l()),n&2){let e=b();f(),B(e.farFileNames())}}function BO(n,t){if(n&1){let e=O();a(0,"div",27)(1,"button",36),y("click",function(){w(e);let r=b();return S(r.clearAllData())}),c(2,"Clear All Uploaded Data"),l()()}}function $O(n,t){if(n&1){let e=O();a(0,"button",37),y("click",function(){w(e);let r=b();return S(r.clearSearch())}),c(1," Clear "),l()}}function HO(n,t){n&1&&(a(0,"div",40),A(),a(1,"svg",48),v(2,"path",18),l(),j(),a(3,"div")(4,"strong",49),c(5,"Verified"),l(),a(6,"span",50),c(7,"Asset found in both AMS and FAR records."),l()()())}function GO(n,t){n&1&&(a(0,"div",41),A(),a(1,"svg",48),v(2,"path",51),l(),j(),a(3,"div")(4,"strong",49),c(5,"Discrepancy"),l(),a(6,"span",50),c(7,"Asset found ONLY in AMS files. Missing from FAR."),l()()())}function zO(n,t){n&1&&(a(0,"div",41),A(),a(1,"svg",48),v(2,"path",51),l(),j(),a(3,"div")(4,"strong",49),c(5,"Discrepancy"),l(),a(6,"span",50),c(7,"Asset found ONLY in FAR files. Missing from AMS."),l()()())}function qO(n,t){n&1&&(a(0,"div",42),A(),a(1,"svg",48),v(2,"path",52),l(),j(),a(3,"div")(4,"strong",49),c(5,"Not Found"),l(),a(6,"span",50),c(7,"Asset not found in any uploaded files."),l()()())}function WO(n,t){n&1&&(a(0,"div",43)(1,"strong"),c(2,"Inventory Match:"),l(),c(3," This serial number also exists in your main system inventory. "),l())}function QO(n,t){if(n&1&&(a(0,"div",55)(1,"dt",56),c(2),l(),a(3,"dd",57),c(4),l()()),n&2){let e=t.$implicit,i=b(2);f(2),E(e),f(2),E(i.ams.data[e])}}function ZO(n,t){if(n&1&&(a(0,"div",46)(1,"p",53),c(2,"Found in: "),a(3,"span",54),c(4),l()(),a(5,"dl",50),U(6,QO,5,2,"div",55,Be),l()()),n&2){let e=b(),i=b(2);f(4),E(e.ams.file),f(2),B(i.objectKeys(e.ams.data))}}function YO(n,t){n&1&&(a(0,"div",47),c(1,"Not Found in any AMS files."),l())}function KO(n,t){if(n&1&&(a(0,"div",55)(1,"dt",56),c(2),l(),a(3,"dd",57),c(4),l()()),n&2){let e=t.$implicit,i=b(2);f(2),E(e),f(2),E(i.far.data[e])}}function JO(n,t){if(n&1&&(a(0,"div",46)(1,"p",53),c(2,"Found in: "),a(3,"span",54),c(4),l()(),a(5,"dl",50),U(6,KO,5,2,"div",55,Be),l()()),n&2){let e=b(),i=b(2);f(4),E(e.far.file),f(2),B(i.objectKeys(e.far.data))}}function XO(n,t){n&1&&(a(0,"div",47),c(1,"Not Found in any FAR files."),l())}function e4(n,t){if(n&1&&(a(0,"div",38),T(1,HO,8,0,"div",40)(2,GO,8,0,"div",41)(3,zO,8,0,"div",41)(4,qO,8,0,"div",42),T(5,WO,4,0,"div",43),a(6,"div",19)(7,"div",44)(8,"h3",45),c(9,"AMS Data"),l(),T(10,ZO,8,1,"div",46)(11,YO,2,0,"div",47),l(),a(12,"div",44)(13,"h3",45),c(14,"FAR Data"),l(),T(15,JO,8,1,"div",46)(16,XO,2,0,"div",47),l()()()),n&2){let e,i=t;f(),I((e=i.status)==="verified"?1:e==="ams_only"?2:e==="far_only"?3:e==="not_found"?4:-1),f(4),I(i.inventory.found?5:-1),f(5),I(i.ams.found?10:11),f(5),I(i.far.found?15:16)}}function t4(n,t){n&1&&(a(0,"div",39),c(1," Performing search... "),l())}function n4(n,t){if(n&1&&T(0,e4,17,4,"div",38)(1,t4,2,0,"div",39),n&2){let e,i=b();I((e=i.searchResult())?0:1,e)}}var aa=class aa{constructor(){this.amsFarService=h(sa);this.fb=h(K);this.router=h(L);this.searchForm=this.fb.group({serialNumber:["",k.required]});this.searchResult=D(null);this.hasSearched=D(!1);this.stats=this.amsFarService.stats;this.amsFileNames=this.amsFarService.amsFileNames;this.farFileNames=this.amsFarService.farFileNames;this.isAmsLoading=this.amsFarService.isAmsLoading;this.isFarLoading=this.amsFarService.isFarLoading}objectKeys(t){return t?Object.keys(t):[]}handleFileInput(t,e){let i=t.target;i.files&&i.files.length>0&&this.amsFarService.loadFiles(i.files,e),i.value=""}onSearch(){if(this.searchForm.valid){let t=this.searchForm.value.serialNumber,e=this.amsFarService.search(t);this.searchResult.set(e),this.hasSearched.set(!0)}}clearSearch(){this.searchForm.reset(),this.searchResult.set(null),this.hasSearched.set(!1)}clearAllData(){confirm("Are you sure you want to clear all uploaded file data?")&&(this.amsFarService.clearData(),this.clearSearch())}navigateToDetails(t){this.stats().total>0&&this.router.navigate(["/ams-far-check/details",t])}};aa.\u0275fac=function(e){return new(e||aa)},aa.\u0275cmp=R({type:aa,selectors:[["app-ams-far-check"]],decls:73,vars:11,consts:[[1,"space-y-8"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","p-4","flex","items-center","justify-between","cursor-pointer","hover:bg-slate-50","transition-colors","transform","hover:scale-[1.02]","duration-200",3,"click"],[1,"text-xs","font-semibold","text-slate-500","uppercase"],[1,"text-2xl","font-bold","text-slate-800","mt-1"],[1,"p-3","bg-blue-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"p-3","bg-green-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 10h16M4 14h16M4 18h16"],[1,"p-3","bg-amber-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-amber-600"],["stroke-linecap","round","stroke-linejoin","round","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"p-3","bg-purple-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-white"],[1,"cursor-pointer","text-sm","font-medium","text-white","bg-sky-600","hover:bg-sky-700","px-4","py-2","rounded-md","transition-colors"],["type","file","multiple","","accept",".xlsx, .xls, .csv",1,"hidden",3,"change"],[1,"text-slate-400"],[1,"text-sm","text-slate-300","space-y-1","list-disc","list-inside"],[1,"flex","justify-end"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6"],[1,"flex","flex-col","sm:flex-row","items-end","gap-4",3,"ngSubmit","formGroup"],[1,"flex-grow","w-full"],["for","serialNumber",1,"block","text-sm","font-medium","text-slate-300","mb-1"],["type","text","id","serialNumber","formControlName","serialNumber","placeholder","Enter serial number to search",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500"],["type","submit",1,"w-full","sm:w-auto","px-6","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","sm:w-auto","px-6","py-2","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700","hover:bg-slate-600"],[1,"list-none","text-slate-500"],[1,"text-sm","text-red-400","hover:text-red-300",3,"click"],["type","button",1,"w-full","sm:w-auto","px-6","py-2","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700","hover:bg-slate-600",3,"click"],[1,"space-y-6"],[1,"text-center","p-6","bg-slate-800/50","border","border-slate-700/50","rounded-lg","text-slate-400"],[1,"bg-green-500/20","border","border-green-500/50","text-green-300","rounded-lg","p-4","flex","items-center"],[1,"bg-yellow-500/20","border","border-yellow-500/50","text-yellow-300","rounded-lg","p-4","flex","items-center"],[1,"bg-red-500/20","border","border-red-500/50","text-red-300","rounded-lg","p-4","flex","items-center"],[1,"bg-sky-500/20","border","border-sky-500/50","text-sky-300","rounded-lg","p-4","text-center"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg"],[1,"text-lg","font-semibold","text-white","p-4","border-b","border-slate-700/50"],[1,"p-4","space-y-2"],[1,"p-6","text-center","text-slate-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","mr-3"],[1,"block","text-lg"],[1,"text-sm"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-slate-400"],[1,"font-medium","text-slate-300"],[1,"flex","justify-between","py-1","border-b","border-slate-700/50","last:border-b-0"],[1,"font-medium","text-slate-400"],[1,"text-slate-200","text-right"]],template:function(e,i){if(e&1){let r=O();a(0,"div",0)(1,"header")(2,"h2",1),c(3,"AMS vs FAR Check"),l(),a(4,"p",2),c(5,"Compare datasets and verify assets across AMS and FAR files."),l()(),a(6,"div",3)(7,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("total"))}),a(8,"div")(9,"p",5),c(10,"Total Devices"),l(),a(11,"p",6),c(12),l()(),a(13,"div",7),A(),a(14,"svg",8),v(15,"path",9),l()()(),j(),a(16,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("ams_only"))}),a(17,"div")(18,"p",5),c(19,"AMS Source (Only)"),l(),a(20,"p",6),c(21),l()(),a(22,"div",10),A(),a(23,"svg",11),v(24,"path",12),l()()(),j(),a(25,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("far_only"))}),a(26,"div")(27,"p",5),c(28,"FAR Source (Only)"),l(),a(29,"p",6),c(30),l()(),a(31,"div",13),A(),a(32,"svg",14),v(33,"path",15),l()()(),j(),a(34,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("both"))}),a(35,"div")(36,"p",5),c(37,"Verified (Both)"),l(),a(38,"p",6),c(39),l()(),a(40,"div",16),A(),a(41,"svg",17),v(42,"path",18),l()()()(),j(),a(43,"div",19)(44,"div",20)(45,"div",21)(46,"h3",22),c(47,"AMS Files"),l(),a(48,"label",23),c(49," Upload AMS "),a(50,"input",24),y("change",function(s){return w(r),S(i.handleFileInput(s,"ams"))}),l()()(),T(51,RO,2,0,"div",25)(52,LO,4,1,"ul",26),l(),a(53,"div",20)(54,"div",21)(55,"h3",22),c(56,"FAR Files"),l(),a(57,"label",23),c(58," Upload FAR "),a(59,"input",24),y("change",function(s){return w(r),S(i.handleFileInput(s,"far"))}),l()()(),T(60,PO,2,0,"div",25)(61,UO,4,1,"ul",26),l()(),T(62,BO,3,0,"div",27),a(63,"div",28)(64,"form",29),y("ngSubmit",function(){return w(r),S(i.onSearch())}),a(65,"div",30)(66,"label",31),c(67,"Serial Number"),l(),v(68,"input",32),l(),a(69,"button",33),c(70," Search "),l(),T(71,$O,2,0,"button",34),l()(),T(72,n4,2,1),l()}if(e&2){let r=i.stats();f(12),E(r.total),f(9),E(r.amsOnly),f(9),E(r.farOnly),f(9),E(r.both),f(12),I(i.isAmsLoading()?51:52),f(9),I(i.isFarLoading()?60:61),f(2),I(i.amsFileNames().length>0||i.farFileNames().length>0?62:-1),f(2),x("formGroup",i.searchForm),f(5),x("disabled",i.searchForm.invalid),f(2),I(i.hasSearched()?71:-1),f(),I(i.hasSearched()?72:-1)}},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Uf=aa;var i4=(n,t)=>t.serial;function r4(n,t){n&1&&(a(0,"span",22),c(1,"Found"),l())}function o4(n,t){n&1&&(a(0,"span",23),c(1,"Missing"),l())}function s4(n,t){n&1&&(a(0,"span",22),c(1,"Found"),l())}function a4(n,t){n&1&&(a(0,"span",23),c(1,"Missing"),l())}function l4(n,t){if(n&1&&(a(0,"tr",17)(1,"td",18),c(2),l(),a(3,"td",19),c(4),l(),a(5,"td",20),c(6),l(),a(7,"td",20),c(8),l(),a(9,"td",20),c(10),l(),a(11,"td",21),T(12,r4,2,0,"span",22)(13,o4,2,0,"span",23),l(),a(14,"td",21),T(15,s4,2,0,"span",22)(16,a4,2,0,"span",23),l(),a(17,"td",21)(18,"span",24),c(19),l()()()),n&2){let e=t.$implicit,i=t.$index,r=b();f(2),E(i+1),f(2),E(e.serial),f(2),E(e.deviceModel||"\u2014"),f(2),E(e.amsTag||"\u2014"),f(2),E(e.farTag||"\u2014"),f(2),I(e.amsData?12:13),f(3),I(e.farData?15:16),f(3),Fe(r.getStatusColor(e.status)),f(),X(" ",r.getStatusLabel(e.status)," ")}}function c4(n,t){n&1&&(a(0,"tr")(1,"td",25),c(2,"No records found for this category."),l()())}var la=class la{constructor(){this.route=h(me);this.router=h(L);this.amsFarService=h(sa);this.category=D("");this.assets=D([]);this.categoryTitle=D("")}ngOnInit(){let t=this.route.snapshot.paramMap.get("category");if(!t){this.router.navigate(["/ams-far-check"]);return}switch(this.category.set(t),t){case"ams_only":this.categoryTitle.set("AMS Only Assets");break;case"far_only":this.categoryTitle.set("FAR Only Assets");break;case"both":this.categoryTitle.set("Verified Assets (In Both)");break;default:this.categoryTitle.set("All Assets");break}let e=this.amsFarService.getAssetsByCategory(t);e.length===0&&this.amsFarService.amsFileNames().length===0&&this.amsFarService.farFileNames().length===0?this.router.navigate(["/ams-far-check"]):this.assets.set(e)}goBack(){this.router.navigate(["/ams-far-check"])}getStatusColor(t){switch(t){case"both":return"text-green-400 bg-green-400/10";case"ams_only":return"text-blue-400 bg-blue-400/10";case"far_only":return"text-amber-400 bg-amber-400/10";default:return"text-slate-400"}}getStatusLabel(t){switch(t){case"both":return"Verified";case"ams_only":return"AMS Only";case"far_only":return"FAR Only";default:return t}}exportToCsv(){let t=this.assets();if(t.length===0){alert("No data to export.");return}let i=[["Serial Number","Device Model","AMS Tag","FAR Asset ID","AMS Status","FAR Status","Overall Status"].join(",")];t.forEach(p=>{let g=p.amsData?"Found":"Missing",C=p.farData?"Found":"Missing",_=this.getStatusLabel(p.status),M=[`"${p.serial.replace(/"/g,'""')}"`,`"${(p.deviceModel||"").replace(/"/g,'""')}"`,`"${(p.amsTag||"").replace(/"/g,'""')}"`,`"${(p.farTag||"").replace(/"/g,'""')}"`,g,C,_];i.push(M.join(","))});let r=i.join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(o),u=document.createElement("a"),d=new Date().toISOString().split("T")[0],m=`ams_far_check_${this.category()}_${d}.csv`;u.setAttribute("href",s),u.setAttribute("download",m),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}};la.\u0275fac=function(e){return new(e||la)},la.\u0275cmp=R({type:la,selectors:[["app-ams-far-details"]],decls:40,vars:4,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"p-2","rounded-full","hover:bg-slate-700","text-slate-400","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1","ml-12"],[1,"flex","items-center","px-4","py-2","bg-green-600","hover:bg-green-700","disabled:bg-slate-700","disabled:text-slate-500","disabled:cursor-not-allowed","text-white","rounded-md","text-sm","font-medium","transition-colors","shadow-sm",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-mono","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-500/10","text-green-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-500/10","text-red-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium"],["colspan","8",1,"px-6","py-10","text-center","text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"div",2)(4,"button",3),y("click",function(){return i.goBack()}),A(),a(5,"svg",4),v(6,"path",5),l()(),j(),a(7,"h2",6),c(8),l()(),a(9,"p",7),c(10),l()(),a(11,"button",8),y("click",function(){return i.exportToCsv()}),A(),a(12,"svg",9),v(13,"path",10),l(),c(14," Export CSV "),l()(),j(),a(15,"div",11)(16,"div",12)(17,"table",13)(18,"thead",14)(19,"tr")(20,"th",15),c(21,"#"),l(),a(22,"th",15),c(23,"Serial Number"),l(),a(24,"th",15),c(25,"Device Model"),l(),a(26,"th",15),c(27,"AMS Tag"),l(),a(28,"th",15),c(29,"FAR Asset ID"),l(),a(30,"th",15),c(31,"AMS Status"),l(),a(32,"th",15),c(33,"FAR Status"),l(),a(34,"th",15),c(35,"Overall Status"),l()()(),a(36,"tbody",16),U(37,l4,20,10,"tr",17,i4,!1,c4,3,0,"tr"),l()()()()()),e&2&&(f(8),E(i.categoryTitle()),f(2),X("Found ",i.assets().length," records."),f(),x("disabled",i.assets().length===0),f(26),B(i.assets()))},dependencies:[F],encapsulation:2,changeDetection:0});var Bf=la;function u4(n,t){n&1&&c(0," Testing... ")}function d4(n,t){n&1&&c(0," Test Connection ")}function m4(n,t){n&1&&(A(),a(0,"svg",74),v(1,"path",78),l())}function f4(n,t){n&1&&(A(),a(0,"svg",75),v(1,"path",79),l())}function p4(n,t){if(n&1&&(a(0,"div",71)(1,"div",72)(2,"div",73),T(3,m4,2,0,":svg:svg",74)(4,f4,2,0,":svg:svg",75),l(),a(5,"div",76)(6,"p",77),c(7),l()()()()),n&2){let e,i,r,o,s,u,d=b(2);se("bg-green-50",(e=d.testStatus())==null?null:e.success)("bg-red-50",!((i=d.testStatus())!=null&&i.success)),f(3),I((r=d.testStatus())!=null&&r.success?3:4),f(3),se("text-green-800",(o=d.testStatus())==null?null:o.success)("text-red-800",!((s=d.testStatus())!=null&&s.success)),f(),X(" ",(u=d.testStatus())==null?null:u.message," ")}}function h4(n,t){if(n&1){let e=O();a(0,"form",14),y("ngSubmit",function(){w(e);let r=b();return S(r.saveLdap())}),a(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"h3",19),c(6,"LDAP Server"),l(),a(7,"p",20),c(8,"Connectivity settings for your On-Premise Domain Controller."),l(),a(9,"div",21)(10,"div",22),v(11,"input",23),l(),a(12,"div",24)(13,"label",25),c(14,"Enable LDAP Integration"),l()()()(),a(15,"div",26)(16,"div",27)(17,"div",28)(18,"label",29),c(19,"LDAP Server URL"),l(),v(20,"input",30),a(21,"p",31),c(22,"Must start with ldap:// or ldaps://"),l()(),a(23,"div",28)(24,"div",32)(25,"div",22),v(26,"input",33),l(),a(27,"div",24)(28,"label",34),c(29,"This is Active Directory"),l(),a(30,"p",35),c(31,"Optimizes filters for MS AD."),l()()()(),a(32,"div",36)(33,"label",37),c(34,"LDAP Bind DN"),l(),v(35,"input",38),l(),a(36,"div",39)(37,"label",40),c(38,"Bind Password"),l(),v(39,"input",41),l(),a(40,"div",42)(41,"div",43)(42,"div",3),v(43,"input",44),a(44,"label",45),c(45,"Use StartTLS"),l()(),a(46,"div",3),v(47,"input",46),a(48,"label",47),c(49,"Allow Invalid SSL Cert"),l()()()()()()()()(),a(50,"div",15)(51,"div",16)(52,"div",17)(53,"div",18)(54,"h3",19),c(55,"LDAP Filters"),l(),a(56,"p",20),c(57,"Define where to look for users and how they log in."),l()(),a(58,"div",26)(59,"div",27)(60,"div",42)(61,"label",48),c(62,"Base DN"),l(),v(63,"input",49),l(),a(64,"div",42)(65,"label",50),c(66,"LDAP Filter"),l(),v(67,"input",51),a(68,"p",31),c(69,"e.g. &(objectClass=user)(objectCategory=person)(memberOf=CN=Staff,OU=Users...)"),l()(),a(70,"div",28)(71,"label",52),c(72,"Authentication Query"),l(),v(73,"input",53),a(74,"p",31),c(75,"Usually sAMAccountName= or uid="),l()(),a(76,"div",28)(77,"label",54),c(78,"Append Email Domain"),l(),v(79,"input",55),l()()()()()(),a(80,"div",15)(81,"div",16)(82,"div",17)(83,"div",18)(84,"h3",19),c(85,"Attribute Mapping"),l(),a(86,"p",20),c(87,"Map Asset Manager fields to your directory attributes."),l()(),a(88,"div",56)(89,"div",57)(90,"div")(91,"label",58),c(92,"Username"),l(),v(93,"input",59),l(),a(94,"div")(95,"label",58),c(96,"Email"),l(),v(97,"input",60),l(),a(98,"div")(99,"label",58),c(100,"First Name"),l(),v(101,"input",61),l(),a(102,"div")(103,"label",58),c(104,"Last Name"),l(),v(105,"input",62),l(),a(106,"div")(107,"label",58),c(108,"Employee ID"),l(),v(109,"input",63),l(),a(110,"div")(111,"label",58),c(112,"Department"),l(),v(113,"input",64),l(),a(114,"div")(115,"label",58),c(116,"Job Title"),l(),v(117,"input",65),l(),a(118,"div")(119,"label",58),c(120,"Phone"),l(),v(121,"input",66),l()()()()()(),a(122,"div",67)(123,"button",68),y("click",function(){w(e);let r=b();return S(r.testLdap())}),T(124,u4,1,0)(125,d4,1,0),l(),a(126,"button",69),c(127," Save LDAP Settings "),l()(),T(128,p4,8,10,"div",70),l()}if(n&2){let e=b();x("formGroup",e.ldapForm),f(123),x("disabled",e.isTestingConnection()),f(),I(e.isTestingConnection()?124:125),f(4),I(e.testStatus()?128:-1)}}function g4(n,t){if(n&1){let e=O();a(0,"form",14),y("ngSubmit",function(){w(e);let r=b();return S(r.saveAzure())}),a(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"h3",19),c(6,"Microsoft Entra ID"),l(),a(7,"p",20),c(8,"Configure connection to Azure AD for OAuth Login and Graph API Sync."),l(),a(9,"div",21)(10,"div",22),v(11,"input",80),l(),a(12,"div",24)(13,"label",81),c(14,"Enable Azure AD Integration"),l()()()(),a(15,"div",26)(16,"div",27)(17,"div",42)(18,"label",82),c(19,"Tenant ID"),l(),v(20,"input",83),l(),a(21,"div",42)(22,"label",84),c(23,"Client ID (Application ID)"),l(),v(24,"input",85),l(),a(25,"div",42)(26,"label",86),c(27,"Client Secret"),l(),v(28,"input",87),a(29,"p",31),c(30,"Value hidden for security. Enter only to update."),l()(),a(31,"div",28)(32,"label",88),c(33,"Sync Interval (Hours)"),l(),v(34,"input",89),l(),a(35,"div",42)(36,"div",43)(37,"div",3),v(38,"input",90),a(39,"label",91),c(40,"Auto-create users on login"),l()(),a(41,"div",3),v(42,"input",92),a(43,"label",93),c(44,"Enable Intune Device Sync"),l()()()()()()()()(),a(45,"div",67)(46,"button",69),c(47," Save Azure Settings "),l()()()}if(n&2){let e=b();x("formGroup",e.azureForm)}}var ca=class ca{constructor(){this.assetService=h(V);this.fb=h(K);this.activeTab=D("ldap");this.isTestingConnection=D(!1);this.testStatus=D(null)}ngOnInit(){let t=this.assetService.ldapSettings(),e=this.assetService.azureAdSettings();this.ldapForm=this.fb.group({enabled:[t.enabled],isAd:[t.isAd],serverUrl:[t.serverUrl,[k.required,k.pattern(/^(ldap|ldaps):\/\//)]],startTls:[t.startTls],ignoreCertErrors:[t.ignoreCertErrors],bindDn:[t.bindDn,k.required],bindPassword:[t.bindPassword],baseDn:[t.baseDn,k.required],searchFilter:[t.searchFilter,k.required],authQuery:[t.authQuery,k.required],emailDomain:[t.emailDomain],activeFlag:[t.activeFlag],activeFlagValue:[t.activeFlagValue],map:this.fb.group({username:[t.map.username],firstName:[t.map.firstName],lastName:[t.map.lastName],email:[t.map.email],employeeId:[t.map.employeeId],dept:[t.map.dept],jobTitle:[t.map.jobTitle],phone:[t.map.phone],manager:[t.map.manager],location:[t.map.location]})}),this.azureForm=this.fb.group({enabled:[e.enabled],tenantId:[e.tenantId,k.required],clientId:[e.clientId,k.required],clientSecret:[e.clientSecret],syncIntervalHours:[e.syncIntervalHours,[k.min(1),k.max(168)]],autoCreateUsers:[e.autoCreateUsers],intuneEnabled:[e.intuneEnabled]})}setTab(t){this.activeTab.set(t),this.testStatus.set(null)}async testLdap(){if(this.ldapForm.invalid){this.ldapForm.markAllAsTouched();return}this.isTestingConnection.set(!0),this.testStatus.set(null);try{let t=await this.assetService.testLdapConnection(this.ldapForm.value);this.testStatus.set(t)}catch{this.testStatus.set({success:!1,message:"Network error or server unreachable."})}finally{this.isTestingConnection.set(!1)}}saveLdap(){this.ldapForm.valid?(this.assetService.updateLdapSettings(this.ldapForm.value),alert("LDAP Settings Saved Successfully.")):alert("Please fix validation errors.")}saveAzure(){this.azureForm.valid?(this.assetService.updateAzureAdSettings(this.azureForm.value),alert("Azure AD Settings Saved Successfully.")):alert("Please fix validation errors.")}};ca.\u0275fac=function(e){return new(e||ca)},ca.\u0275cmp=R({type:ca,selectors:[["app-ldap-settings"]],decls:21,vars:18,consts:[[1,"bg-gray-100","-m-6","md:-m-8","p-6","md:p-8","min-h-full","font-sans","text-gray-800"],[1,"max-w-6xl","mx-auto","space-y-8"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4","mb-4"],[1,"flex","items-center"],["routerLink","/settings",1,"mr-4","p-2","rounded-full","hover:bg-gray-200","text-gray-500","transition-colors"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-gray-500","mt-1"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","hover:text-gray-700","hover:border-gray-300","transition-colors",3,"click"],[1,"mt-6"],[1,"space-y-8",3,"formGroup"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"bg-white","shadow","sm:rounded-lg","overflow-hidden"],[1,"px-4","py-5","sm:p-6"],[1,"md:grid","md:grid-cols-3","md:gap-6"],[1,"md:col-span-1"],[1,"text-lg","font-medium","leading-6","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-4","flex","items-center"],[1,"flex","items-center","h-5"],["id","enabled","formControlName","enabled","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","enabled",1,"font-medium","text-gray-700"],[1,"mt-5","md:mt-0","md:col-span-2","space-y-6"],[1,"grid","grid-cols-6","gap-6"],[1,"col-span-6","sm:col-span-3"],["for","serverUrl",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","serverUrl","formControlName","serverUrl","placeholder","ldaps://ad.example.com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"mt-1","text-xs","text-gray-500"],[1,"flex","items-start","mt-6"],["id","isAd","formControlName","isAd","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],["for","isAd",1,"font-medium","text-gray-700"],[1,"text-gray-500"],[1,"col-span-6","sm:col-span-4"],["for","bindDn",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","bindDn","formControlName","bindDn","placeholder","CN=ServiceAcct,OU=Service,DC=example,DC=com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"col-span-6","sm:col-span-2"],["for","bindPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","bindPassword","formControlName","bindPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"col-span-6"],[1,"flex","items-center","gap-6"],["id","startTls","formControlName","startTls","type","checkbox",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded"],["for","startTls",1,"ml-2","block","text-sm","text-gray-900"],["id","ignoreCertErrors","formControlName","ignoreCertErrors","type","checkbox",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded"],["for","ignoreCertErrors",1,"ml-2","block","text-sm","text-gray-900"],["for","baseDn",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","baseDn","formControlName","baseDn","placeholder","DC=example,DC=com",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","searchFilter",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","searchFilter","formControlName","searchFilter",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","font-mono"],["for","authQuery",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","authQuery","formControlName","authQuery",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","emailDomain",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","emailDomain","formControlName","emailDomain",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["formGroupName","map",1,"mt-5","md:mt-0","md:col-span-2","space-y-6"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-xs","font-medium","text-gray-500","uppercase"],["type","text","formControlName","username",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","email",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","firstName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","lastName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","employeeId",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","dept",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","jobTitle",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],["type","text","formControlName","phone",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","py-1","px-2","text-sm"],[1,"flex","justify-end","gap-3"],["type","button",1,"bg-white","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click","disabled"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"rounded-md","p-4",3,"bg-green-50","bg-red-50"],[1,"rounded-md","p-4"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],[1,"ml-3"],[1,"text-sm","font-medium"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],["id","azure_enabled","formControlName","enabled","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],["for","azure_enabled",1,"font-medium","text-gray-700"],["for","tenantId",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","tenantId","formControlName","tenantId",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","font-mono"],["for","clientId",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","clientId","formControlName","clientId",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","font-mono"],["for","clientSecret",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","clientSecret","formControlName","clientSecret","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","syncInterval",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","syncInterval","formControlName","syncIntervalHours",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["id","autoCreateUsers","formControlName","autoCreateUsers","type","checkbox",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded"],["for","autoCreateUsers",1,"ml-2","block","text-sm","text-gray-900"],["id","intuneEnabled","formControlName","intuneEnabled","type","checkbox",1,"h-4","w-4","text-indigo-600","border-gray-300","rounded"],["for","intuneEnabled",1,"ml-2","block","text-sm","text-gray-900"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"a",4),A(),a(5,"svg",5),v(6,"path",6),l()(),j(),a(7,"div")(8,"h1",7),c(9,"LDAP / AD / Azure"),l(),a(10,"p",8),c(11,"Configure identity management and directory sync."),l()()()(),a(12,"div",9)(13,"nav",10)(14,"button",11),y("click",function(){return i.setTab("ldap")}),c(15," LDAP / Active Directory (On-Prem) "),l(),a(16,"button",11),y("click",function(){return i.setTab("azure")}),c(17," Azure AD / Microsoft Entra ID (Cloud) "),l()()(),a(18,"div",12),T(19,h4,129,4,"form",13),T(20,g4,48,1,"form",13),l()()()),e&2&&(f(14),se("border-indigo-500",i.activeTab()==="ldap")("text-indigo-600",i.activeTab()==="ldap")("border-transparent",i.activeTab()!=="ldap")("text-gray-500",i.activeTab()!=="ldap"),f(2),se("border-indigo-500",i.activeTab()==="azure")("text-indigo-600",i.activeTab()==="azure")("border-transparent",i.activeTab()!=="azure")("text-gray-500",i.activeTab()!=="azure"),f(3),I(i.activeTab()==="ldap"?19:-1),f(),I(i.activeTab()==="azure"?20:-1))},dependencies:[F,J,Y,W,Ve,Cn,Q,Z,G,q,Zo,ae],encapsulation:2,changeDetection:0});var $f=ca;var Ir=class Ir{constructor(){this.assetService=h(V);this.ams1FileNames=D([]);this.ams2FileNames=D([]);this.ams1Data=D([]);this.ams2Data=D([]);this.isAms1Loading=D(!1);this.isAms2Loading=D(!1);this.processedAssets=oe(()=>{let t=this.ams1Data(),e=this.ams2Data(),i=new Map,r=["Username","User Name","user_name","Assigned To","User ID"],o=["User","Assigned User","Assigned To","User ID","UserID"],s=["Last Update","Last Sync","Last Seen","Updated At","Modified On","Last Check-in","Modified Date","Date Modified","Updated"];for(let u of t){let d=this.findSerialColumn(u.data);if(!d)continue;let m=this.findColumnFlexible(u.data,["Asset Tag","AssetTag","Asset_Tag","Tag","AMS ID","AMS Index"]),p=this.findColumnFlexible(u.data,r);for(let g of u.data){let C=g[d];if(!this.isValidSerial(C))continue;let _=String(C).trim().toUpperCase(),M=this.extractModelInfo(g,u.data),P=m&&g[m]?String(g[m]):"",$=p&&g[p]?String(g[p]).trim():null;if(!i.has(_))i.set(_,{serial:_,ams1Data:g,ams2Data:null,status:"ams1_only",deviceModel:M,ams1Tag:P,ams2Tag:"",ams1UserId:$,ams2UserId:null,userIdMismatch:!1,ams2LastUpdate:null,daysOffline:null});else{let z=i.get(_);z.ams1Data=g,z.deviceModel||(z.deviceModel=M),z.ams1Tag||(z.ams1Tag=P),z.ams1UserId||(z.ams1UserId=$)}}}for(let u of e){let d=this.findSerialColumn(u.data);if(!d)continue;let m=this.findColumnFlexible(u.data,["Asset","Asset Number","Asset #","AMS 2.0 ID","AMS 2.0 Tag","System Number","Sub number","Main Asset","Index"]),p=this.findColumnFlexible(u.data,o),g=this.findColumnFlexible(u.data,s);for(let C of u.data){let _=C[d];if(!this.isValidSerial(_))continue;let M=String(_).trim().toUpperCase(),P=this.extractModelInfo(C,u.data),$=m&&C[m]?String(C[m]):"",z=p&&C[p]?String(C[p]).trim():null,Ie=null,Ce=null;if(g&&C[g]&&(Ie=this.parseDate(C[g]),Ie&&!isNaN(Ie.getTime()))){let Re=new Date,vt=Date.UTC(Re.getUTCFullYear(),Re.getUTCMonth(),Re.getUTCDate()),Qt=Ie.getTime(),Ei=Math.floor((vt-Qt)/864e5);Ce=Math.max(0,Ei)}if(i.has(M)){let Te=i.get(M);Te.ams2Data=C,Te.status="both",Te.ams2UserId=z,Te.ams2LastUpdate=Ie,Te.daysOffline=Ce,Te.deviceModel||(Te.deviceModel=P),Te.ams2Tag||(Te.ams2Tag=$);let Re=Te.ams1UserId,vt=!!Re&&Re.toUpperCase()!=="N/A",Qt=!!z&&z.toUpperCase()!=="N/A";Te.userIdMismatch=vt&&Qt?Re.toUpperCase()!==z.toUpperCase():vt!==Qt}else i.set(M,{serial:M,ams1Data:null,ams2Data:C,status:"ams2_only",deviceModel:P,ams1Tag:"",ams2Tag:$,ams1UserId:null,ams2UserId:z,userIdMismatch:!1,ams2LastUpdate:Ie,daysOffline:Ce})}}return Array.from(i.values())});this.stats=oe(()=>{let t=this.processedAssets();return{total:t.length,ams1Only:t.filter(e=>e.status==="ams1_only").length,ams2Only:t.filter(e=>e.status==="ams2_only").length,both:t.filter(e=>e.status==="both").length,userIdMismatch:t.filter(e=>e.userIdMismatch).length,offline2to7:t.filter(e=>e.daysOffline!==null&&e.daysOffline>=2&&e.daysOffline<=7).length,offline8to29:t.filter(e=>e.daysOffline!==null&&e.daysOffline>=8&&e.daysOffline<=29).length,offline30plus:t.filter(e=>e.daysOffline!==null&&e.daysOffline>=30).length}})}parseDate(t){if(t==null||t==="")return null;if(t instanceof Date&&!isNaN(t.getTime()))return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()));let e=NaN;if(typeof t=="number"?e=t:typeof t=="string"&&/^[\d.]+$/.test(t.trim())&&(e=parseFloat(t.trim())),!isNaN(e)&&e>1){let i=(e-25569)*86400*1e3,r=new Date(i);if(!isNaN(r.getTime()))return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()))}if(typeof t=="string"){let i=new Date(t);if(!isNaN(i.getTime()))return new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()))}return null}getAssetsByCategory(t){let e=this.processedAssets();switch(t){case"ams1_only":return e.filter(i=>i.status==="ams1_only");case"ams2_only":return e.filter(i=>i.status==="ams2_only");case"both":return e.filter(i=>i.status==="both");case"userIdMismatch":return e.filter(i=>i.userIdMismatch);case"offline2to7":return e.filter(i=>i.daysOffline!==null&&i.daysOffline>=2&&i.daysOffline<=7);case"offline8to29":return e.filter(i=>i.daysOffline!==null&&i.daysOffline>=8&&i.daysOffline<=29);case"offline30plus":return e.filter(i=>i.daysOffline!==null&&i.daysOffline>=30);case"total":default:return e}}isValidSerial(t){if(t==null)return!1;let e=String(t).trim().toUpperCase();return e!==""&&e!=="NULL"&&e!=="UNDEFINED"&&e!=="N/A"}extractModelInfo(t,e){let i=this.findColumnFlexible(e,["Model","Model No","Description","Device Type","Product"]);return i&&t[i]?String(t[i]):""}findColumnFlexible(t,e){if(!t||t.length===0)return null;let i=t[0];if(!i)return null;let r=Object.keys(i);for(let o of e){let s=o.toLowerCase().replace(/[\s_]/g,"");for(let u of r)if(u.toLowerCase().replace(/[\s_]/g,"").includes(s))return u}return null}findSerialColumn(t){let e=["Serial Number","SerialNumber","Serial","S/N","SN","Serial_No"];if(!t||t.length===0)return null;let i=t[0];if(!i)return null;let r=Object.keys(i);for(let o of r){let s=o.toLowerCase().trim();for(let u of e)if(s===u.toLowerCase())return o}return this.findColumnFlexible(t,e)}async loadFiles(t,e){let i=e==="ams1"?this.isAms1Loading:this.isAms2Loading,r=e==="ams1"?this.ams1Data:this.ams2Data,o=e==="ams1"?this.ams1FileNames:this.ams2FileNames;i.set(!0);let s=[],u=[];for(let d of Array.from(t)){u.push(d.name);try{let m=await this.readFile(d),p=XLSX.read(m,{type:"binary",cellDates:!0}),g=p.SheetNames[0],C=XLSX.utils.sheet_to_json(p.Sheets[g]);s.push({fileName:d.name,data:C})}catch(m){console.error(`Error reading file ${d.name}:`,m)}}r.update(d=>[...d,...s]),o.update(d=>[...d,...u]),i.set(!1)}readFile(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>e(o.target.result),r.onerror=o=>i(o),r.readAsBinaryString(t)})}clearData(){this.ams1FileNames.set([]),this.ams2FileNames.set([]),this.ams1Data.set([]),this.ams2Data.set([])}search(t){let e=t.trim().toUpperCase(),i=this.assetService.assets().find(m=>m.serial_number?.toUpperCase()===e),o=this.processedAssets().find(m=>m.serial===e),s={found:!1},u={found:!1};o&&(o.ams1Data&&(s={found:!0,data:o.ams1Data,file:"AMS 1.0 File"}),o.ams2Data&&(u={found:!0,data:o.ams2Data,file:"AMS 2.0 File"}));let d="not_found";return s.found&&u.found?d="verified":s.found?d="ams1_only":u.found&&(d="ams2_only"),{ams1:s,ams2:u,inventory:{found:!!i,data:i},status:d}}};Ir.\u0275fac=function(e){return new(e||Ir)},Ir.\u0275prov=ee({token:Ir,factory:Ir.\u0275fac,providedIn:"root"});var ua=Ir;function v4(n,t){n&1&&(a(0,"div",36),c(1,"Loading..."),l())}function y4(n,t){if(n&1&&(a(0,"li"),c(1),l()),n&2){let e=t.$implicit;f(),E(e)}}function b4(n,t){n&1&&(a(0,"li",46),c(1,"No AMS 1.0 files uploaded."),l())}function _4(n,t){if(n&1&&(a(0,"ul",37),U(1,y4,2,1,"li",null,Be,!1,b4,2,0,"li",46),l()),n&2){let e=b();f(),B(e.ams1FileNames())}}function x4(n,t){n&1&&(a(0,"div",36),c(1,"Loading..."),l())}function C4(n,t){if(n&1&&(a(0,"li"),c(1),l()),n&2){let e=t.$implicit;f(),E(e)}}function w4(n,t){n&1&&(a(0,"li",46),c(1,"No AMS 2.0 files uploaded."),l())}function S4(n,t){if(n&1&&(a(0,"ul",37),U(1,C4,2,1,"li",null,Be,!1,w4,2,0,"li",46),l()),n&2){let e=b();f(),B(e.ams2FileNames())}}function E4(n,t){if(n&1){let e=O();a(0,"div",38)(1,"button",47),y("click",function(){w(e);let r=b();return S(r.clearAllData())}),c(2,"Clear All Uploaded Data"),l()()}}function D4(n,t){if(n&1){let e=O();a(0,"button",48),y("click",function(){w(e);let r=b();return S(r.clearSearch())}),c(1," Clear "),l()}}function T4(n,t){n&1&&(a(0,"div",51),A(),a(1,"svg",59),v(2,"path",18),l(),j(),a(3,"div")(4,"strong",60),c(5,"Verified"),l(),a(6,"span",61),c(7,"Asset found in both AMS 1.0 and AMS 2.0 records."),l()()())}function I4(n,t){n&1&&(a(0,"div",52),A(),a(1,"svg",59),v(2,"path",62),l(),j(),a(3,"div")(4,"strong",60),c(5,"Discrepancy"),l(),a(6,"span",61),c(7,"Asset found ONLY in AMS 1.0 files. Missing from AMS 2.0."),l()()())}function k4(n,t){n&1&&(a(0,"div",52),A(),a(1,"svg",59),v(2,"path",62),l(),j(),a(3,"div")(4,"strong",60),c(5,"Discrepancy"),l(),a(6,"span",61),c(7,"Asset found ONLY in AMS 2.0 files. Missing from AMS 1.0."),l()()())}function A4(n,t){n&1&&(a(0,"div",53),A(),a(1,"svg",59),v(2,"path",63),l(),j(),a(3,"div")(4,"strong",60),c(5,"Not Found"),l(),a(6,"span",61),c(7,"Asset not found in any uploaded files."),l()()())}function M4(n,t){n&1&&(a(0,"div",54)(1,"strong"),c(2,"Inventory Match:"),l(),c(3," This serial number also exists in your main system inventory. "),l())}function N4(n,t){if(n&1&&(a(0,"div",66)(1,"dt",67),c(2),l(),a(3,"dd",68),c(4),l()()),n&2){let e=t.$implicit,i=b(2);f(2),E(e),f(2),E(i.ams1.data[e])}}function R4(n,t){if(n&1&&(a(0,"div",57)(1,"p",64),c(2,"Found in: "),a(3,"span",65),c(4),l()(),a(5,"dl",61),U(6,N4,5,2,"div",66,Be),l()()),n&2){let e=b(),i=b(2);f(4),E(e.ams1.file),f(2),B(i.objectKeys(e.ams1.data))}}function F4(n,t){n&1&&(a(0,"div",58),c(1,"Not Found in any AMS 1.0 files."),l())}function O4(n,t){if(n&1&&(a(0,"div",66)(1,"dt",67),c(2),l(),a(3,"dd",68),c(4),l()()),n&2){let e=t.$implicit,i=b(2);f(2),E(e),f(2),E(i.ams2.data[e])}}function L4(n,t){if(n&1&&(a(0,"div",57)(1,"p",64),c(2,"Found in: "),a(3,"span",65),c(4),l()(),a(5,"dl",61),U(6,O4,5,2,"div",66,Be),l()()),n&2){let e=b(),i=b(2);f(4),E(e.ams2.file),f(2),B(i.objectKeys(e.ams2.data))}}function P4(n,t){n&1&&(a(0,"div",58),c(1,"Not Found in any AMS 2.0 files."),l())}function V4(n,t){if(n&1&&(a(0,"div",49),T(1,T4,8,0,"div",51)(2,I4,8,0,"div",52)(3,k4,8,0,"div",52)(4,A4,8,0,"div",53),T(5,M4,4,0,"div",54),a(6,"div",30)(7,"div",55)(8,"h3",56),c(9,"AMS 1.0 Data"),l(),T(10,R4,8,1,"div",57)(11,F4,2,0,"div",58),l(),a(12,"div",55)(13,"h3",56),c(14,"AMS 2.0 Data"),l(),T(15,L4,8,1,"div",57)(16,P4,2,0,"div",58),l()()()),n&2){let e,i=t;f(),I((e=i.status)==="verified"?1:e==="ams1_only"?2:e==="ams2_only"?3:e==="not_found"?4:-1),f(4),I(i.inventory.found?5:-1),f(5),I(i.ams1.found?10:11),f(5),I(i.ams2.found?15:16)}}function j4(n,t){n&1&&(a(0,"div",50),c(1," Performing search... "),l())}function U4(n,t){if(n&1&&T(0,V4,17,4,"div",49)(1,j4,2,0,"div",50),n&2){let e,i=b();I((e=i.searchResult())?0:1,e)}}var da=class da{constructor(){this.amsCheckService=h(ua);this.fb=h(K);this.router=h(L);this.searchForm=this.fb.group({serialNumber:["",k.required]});this.searchResult=D(null);this.hasSearched=D(!1);this.stats=this.amsCheckService.stats;this.ams1FileNames=this.amsCheckService.ams1FileNames;this.ams2FileNames=this.amsCheckService.ams2FileNames;this.isAms1Loading=this.amsCheckService.isAms1Loading;this.isAms2Loading=this.amsCheckService.isAms2Loading}objectKeys(t){return t?Object.keys(t):[]}handleFileInput(t,e){let i=t.target;i.files&&i.files.length>0&&this.amsCheckService.loadFiles(i.files,e),i.value=""}onSearch(){if(this.searchForm.valid){let t=this.searchForm.value.serialNumber,e=this.amsCheckService.search(t);this.searchResult.set(e),this.hasSearched.set(!0)}}clearSearch(){this.searchForm.reset(),this.searchResult.set(null),this.hasSearched.set(!1)}clearAllData(){confirm("Are you sure you want to clear all uploaded file data?")&&(this.amsCheckService.clearData(),this.clearSearch())}navigateToDetails(t){let e=this.stats(),i=0;switch(t){case"total":i=e.total;break;case"ams1_only":i=e.ams1Only;break;case"ams2_only":i=e.ams2Only;break;case"both":i=e.both;break;case"userIdMismatch":i=e.userIdMismatch;break;case"offline2to7":i=e.offline2to7;break;case"offline8to29":i=e.offline8to29;break;case"offline30plus":i=e.offline30plus;break}i>0&&this.router.navigate(["/ams-check/details",t])}};da.\u0275fac=function(e){return new(e||da)},da.\u0275cmp=R({type:da,selectors:[["app-ams-check"]],decls:109,vars:95,consts:[[1,"space-y-8"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow","p-4","flex","items-center","justify-between","transition-all","duration-200",3,"click"],[1,"text-xs","font-semibold","text-slate-500","uppercase"],[1,"text-2xl","font-bold","text-slate-800","mt-1"],[1,"p-3","bg-blue-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"p-3","bg-green-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 10h16M4 14h16M4 18h16"],[1,"p-3","bg-amber-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-amber-600"],["stroke-linecap","round","stroke-linejoin","round","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"p-3","bg-purple-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","bg-pink-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6","text-pink-600"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.952A3 3 0 006 11.25m-3 2.952A3 3 0 00.75 15m0 0A3 3 0 003 12.75m0 0A3 3 0 006 15m-3 0h.008c.011 0 .021 0 .031 0h.008c.011 0 .021 0 .031 0h.008c.011 0 .021 0 .031 0h.008c.011 0 .021 0 .031 0h.008c.011 0 .021 0 .031 0h.008c.011 0 .021 0 .031 0zm9-3.75a3 3 0 00-3-3"],[1,"p-3","bg-orange-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","bg-red-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6","text-red-600"],[1,"p-3","bg-slate-500/10","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6","text-slate-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6","space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-white"],[1,"cursor-pointer","text-sm","font-medium","text-white","bg-sky-600","hover:bg-sky-700","px-4","py-2","rounded-md","transition-colors"],["type","file","multiple","","accept",".xlsx, .xls, .csv",1,"hidden",3,"change"],[1,"text-slate-400"],[1,"text-sm","text-slate-300","space-y-1","list-disc","list-inside"],[1,"flex","justify-end"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","p-6"],[1,"flex","flex-col","sm:flex-row","items-end","gap-4",3,"ngSubmit","formGroup"],[1,"flex-grow","w-full"],["for","serialNumber",1,"block","text-sm","font-medium","text-slate-300","mb-1"],["type","text","id","serialNumber","formControlName","serialNumber","placeholder","Enter serial number to search",1,"block","w-full","bg-slate-700/50","border","border-slate-600","rounded-md","py-2","px-3","text-white","focus:outline-none","focus:ring-1","focus:ring-sky-500","focus:border-sky-500"],["type","submit",1,"w-full","sm:w-auto","px-6","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-sky-600","hover:bg-sky-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","sm:w-auto","px-6","py-2","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700","hover:bg-slate-600"],[1,"list-none","text-slate-500"],[1,"text-sm","text-red-400","hover:text-red-300",3,"click"],["type","button",1,"w-full","sm:w-auto","px-6","py-2","border","border-slate-600","text-sm","font-medium","rounded-md","shadow-sm","text-slate-300","bg-slate-700","hover:bg-slate-600",3,"click"],[1,"space-y-6"],[1,"text-center","p-6","bg-slate-800/50","border","border-slate-700/50","rounded-lg","text-slate-400"],[1,"bg-green-500/20","border","border-green-500/50","text-green-300","rounded-lg","p-4","flex","items-center"],[1,"bg-yellow-500/20","border","border-yellow-500/50","text-yellow-300","rounded-lg","p-4","flex","items-center"],[1,"bg-red-500/20","border","border-red-500/50","text-red-300","rounded-lg","p-4","flex","items-center"],[1,"bg-sky-500/20","border","border-sky-500/50","text-sky-300","rounded-lg","p-4","text-center"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg"],[1,"text-lg","font-semibold","text-white","p-4","border-b","border-slate-700/50"],[1,"p-4","space-y-2"],[1,"p-6","text-center","text-slate-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6","mr-3"],[1,"block","text-lg"],[1,"text-sm"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-slate-400"],[1,"font-medium","text-slate-300"],[1,"flex","justify-between","py-1","border-b","border-slate-700/50","last:border-b-0"],[1,"font-medium","text-slate-400"],[1,"text-slate-200","text-right"]],template:function(e,i){if(e&1){let r=O();a(0,"div",0)(1,"header")(2,"h2",1),c(3,"AMS 1.0 vs AMS 2.0 Check"),l(),a(4,"p",2),c(5,"Compare datasets and verify assets across AMS versions."),l()(),a(6,"div",3)(7,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("total"))}),a(8,"div")(9,"p",5),c(10,"Total Devices"),l(),a(11,"p",6),c(12),l()(),a(13,"div",7),A(),a(14,"svg",8),v(15,"path",9),l()()(),j(),a(16,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("ams1_only"))}),a(17,"div")(18,"p",5),c(19,"AMS 1.0 (Only)"),l(),a(20,"p",6),c(21),l()(),a(22,"div",10),A(),a(23,"svg",11),v(24,"path",12),l()()(),j(),a(25,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("ams2_only"))}),a(26,"div")(27,"p",5),c(28,"AMS 2.0 (Only)"),l(),a(29,"p",6),c(30),l()(),a(31,"div",13),A(),a(32,"svg",14),v(33,"path",15),l()()(),j(),a(34,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("both"))}),a(35,"div")(36,"p",5),c(37,"Verified (Both)"),l(),a(38,"p",6),c(39),l()(),a(40,"div",16),A(),a(41,"svg",17),v(42,"path",18),l()()(),j(),a(43,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("userIdMismatch"))}),a(44,"div")(45,"p",5),c(46,"User ID Mismatch"),l(),a(47,"p",6),c(48),l()(),a(49,"div",19),A(),a(50,"svg",20),v(51,"path",21),l()()(),j(),a(52,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("offline2to7"))}),a(53,"div")(54,"p",5),c(55,"2-7 Days Offline"),l(),a(56,"p",6),c(57),l()(),a(58,"div",22),A(),a(59,"svg",23),v(60,"path",24),l()()(),j(),a(61,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("offline8to29"))}),a(62,"div")(63,"p",5),c(64,"8-29 Days Offline"),l(),a(65,"p",6),c(66),l()(),a(67,"div",25),A(),a(68,"svg",26),v(69,"path",24),l()()(),j(),a(70,"div",4),y("click",function(){return w(r),S(i.navigateToDetails("offline30plus"))}),a(71,"div")(72,"p",5),c(73,"30+ Days Offline"),l(),a(74,"p",6),c(75),l()(),a(76,"div",27),A(),a(77,"svg",28),v(78,"path",29),l()()()(),j(),a(79,"div",30)(80,"div",31)(81,"div",32)(82,"h3",33),c(83,"AMS 1.0 Files"),l(),a(84,"label",34),c(85," Upload AMS 1.0 "),a(86,"input",35),y("change",function(s){return w(r),S(i.handleFileInput(s,"ams1"))}),l()()(),T(87,v4,2,0,"div",36)(88,_4,4,1,"ul",37),l(),a(89,"div",31)(90,"div",32)(91,"h3",33),c(92,"AMS 2.0 Files"),l(),a(93,"label",34),c(94," Upload AMS 2.0 "),a(95,"input",35),y("change",function(s){return w(r),S(i.handleFileInput(s,"ams2"))}),l()()(),T(96,x4,2,0,"div",36)(97,S4,4,1,"ul",37),l()(),T(98,E4,3,0,"div",38),a(99,"div",39)(100,"form",40),y("ngSubmit",function(){return w(r),S(i.onSearch())}),a(101,"div",41)(102,"label",42),c(103,"Serial Number"),l(),v(104,"input",43),l(),a(105,"button",44),c(106," Search "),l(),T(107,D4,2,0,"button",45),l()(),T(108,U4,2,1),l()}if(e&2){let r=i.stats();f(7),se("opacity-50",r.total===0)("cursor-not-allowed",r.total===0)("cursor-pointer",r.total>0)("hover:bg-slate-50",r.total>0)("hover:scale-[1",r.total>0),f(5),E(r.total),f(4),se("opacity-50",r.ams1Only===0)("cursor-not-allowed",r.ams1Only===0)("cursor-pointer",r.ams1Only>0)("hover:bg-slate-50",r.ams1Only>0)("hover:scale-[1",r.ams1Only>0),f(5),E(r.ams1Only),f(4),se("opacity-50",r.ams2Only===0)("cursor-not-allowed",r.ams2Only===0)("cursor-pointer",r.ams2Only>0)("hover:bg-slate-50",r.ams2Only>0)("hover:scale-[1",r.ams2Only>0),f(5),E(r.ams2Only),f(4),se("opacity-50",r.both===0)("cursor-not-allowed",r.both===0)("cursor-pointer",r.both>0)("hover:bg-slate-50",r.both>0)("hover:scale-[1",r.both>0),f(5),E(r.both),f(4),se("opacity-50",r.userIdMismatch===0)("cursor-not-allowed",r.userIdMismatch===0)("cursor-pointer",r.userIdMismatch>0)("hover:bg-slate-50",r.userIdMismatch>0)("hover:scale-[1",r.userIdMismatch>0),f(5),E(r.userIdMismatch),f(4),se("opacity-50",r.offline2to7===0)("cursor-not-allowed",r.offline2to7===0)("cursor-pointer",r.offline2to7>0)("hover:bg-slate-50",r.offline2to7>0)("hover:scale-[1",r.offline2to7>0),f(5),E(r.offline2to7),f(4),se("opacity-50",r.offline8to29===0)("cursor-not-allowed",r.offline8to29===0)("cursor-pointer",r.offline8to29>0)("hover:bg-slate-50",r.offline8to29>0)("hover:scale-[1",r.offline8to29>0),f(5),E(r.offline8to29),f(4),se("opacity-50",r.offline30plus===0)("cursor-not-allowed",r.offline30plus===0)("cursor-pointer",r.offline30plus>0)("hover:bg-slate-50",r.offline30plus>0)("hover:scale-[1",r.offline30plus>0),f(5),E(r.offline30plus),f(12),I(i.isAms1Loading()?87:88),f(9),I(i.isAms2Loading()?96:97),f(2),I(i.ams1FileNames().length>0||i.ams2FileNames().length>0?98:-1),f(2),x("formGroup",i.searchForm),f(5),x("disabled",i.searchForm.invalid),f(2),I(i.hasSearched()?107:-1),f(),I(i.hasSearched()?108:-1)}},dependencies:[F,J,Y,W,Q,Z,G,q],encapsulation:2,changeDetection:0});var Hf=da;var B4=(n,t)=>t.serial;function $4(n,t){n&1&&(a(0,"span",22),c(1,"Found"),l())}function H4(n,t){n&1&&(a(0,"span",23),c(1,"Missing"),l())}function G4(n,t){n&1&&(a(0,"span",22),c(1,"Found"),l())}function z4(n,t){n&1&&(a(0,"span",23),c(1,"Missing"),l())}function q4(n,t){if(n&1&&(a(0,"tr",17)(1,"td",18),c(2),l(),a(3,"td",19),c(4),l(),a(5,"td",20),c(6),l(),a(7,"td",20),c(8),l(),a(9,"td",20),c(10),l(),a(11,"td",20),c(12),l(),a(13,"td",20),c(14),l(),a(15,"td",20),c(16),l(),a(17,"td",21),T(18,$4,2,0,"span",22)(19,H4,2,0,"span",23),l(),a(20,"td",21),T(21,G4,2,0,"span",22)(22,z4,2,0,"span",23),l(),a(23,"td",21)(24,"span",24),c(25),l()()()),n&2){let e=t.$implicit,i=t.$index,r=b();f(2),E(i+1),f(2),E(e.serial),f(2),E(e.deviceModel||"\u2014"),f(2),E(e.ams1Tag||"\u2014"),f(2),E(e.ams2Tag||"\u2014"),f(),se("text-orange-400",e.userIdMismatch),f(),E(e.ams1UserId||"\u2014"),f(),se("text-orange-400",e.userIdMismatch),f(),E(e.ams2UserId||"\u2014"),f(2),E(e.daysOffline!==null?e.daysOffline:"N/A"),f(2),I(e.ams1Data?18:19),f(3),I(e.ams2Data?21:22),f(3),Fe(r.getStatusColor(e.status)),f(),X(" ",r.getStatusLabel(e.status)," ")}}function W4(n,t){n&1&&(a(0,"tr")(1,"td",25),c(2,"No records found for this category."),l()())}var ma=class ma{constructor(){this.route=h(me);this.router=h(L);this.amsCheckService=h(ua);this.category=D("");this.assets=D([]);this.categoryTitle=D("")}ngOnInit(){let t=this.route.snapshot.paramMap.get("category");if(!t){this.router.navigate(["/ams-check"]);return}switch(this.category.set(t),t){case"ams1_only":this.categoryTitle.set("AMS 1.0 Only Assets");break;case"ams2_only":this.categoryTitle.set("AMS 2.0 Only Assets");break;case"both":this.categoryTitle.set("Verified Assets (In Both)");break;case"userIdMismatch":this.categoryTitle.set("Assets with User ID Mismatch");break;case"offline2to7":this.categoryTitle.set("Assets Offline for 2-7 Days");break;case"offline8to29":this.categoryTitle.set("Assets Offline for 8-29 Days");break;case"offline30plus":this.categoryTitle.set("Assets Offline for 30+ Days");break;default:this.categoryTitle.set("All Assets");break}let e=this.amsCheckService.getAssetsByCategory(t);e.length===0&&this.amsCheckService.ams1FileNames().length===0&&this.amsCheckService.ams2FileNames().length===0?this.router.navigate(["/ams-check"]):this.assets.set(e)}goBack(){this.router.navigate(["/ams-check"])}getStatusColor(t){switch(t){case"both":return"text-green-400 bg-green-400/10";case"ams1_only":return"text-blue-400 bg-blue-400/10";case"ams2_only":return"text-amber-400 bg-amber-400/10";default:return"text-slate-400"}}getStatusLabel(t){switch(t){case"both":return"Verified";case"ams1_only":return"AMS 1.0 Only";case"ams2_only":return"AMS 2.0 Only";default:return t}}exportToCsv(){let t=this.assets();if(t.length===0){alert("No data to export.");return}let i=[["Serial Number","Device Model","AMS 1.0 Tag","AMS 2.0 Asset ID","AMS 1.0 User","AMS 2.0 User","Days Offline","AMS 1.0 Status","AMS 2.0 Status","Overall Status"].join(",")];t.forEach(p=>{let g=p.ams1Data?"Found":"Missing",C=p.ams2Data?"Found":"Missing",_=this.getStatusLabel(p.status),M=[`"${p.serial.replace(/"/g,'""')}"`,`"${(p.deviceModel||"").replace(/"/g,'""')}"`,`"${(p.ams1Tag||"").replace(/"/g,'""')}"`,`"${(p.ams2Tag||"").replace(/"/g,'""')}"`,`"${(p.ams1UserId||"").replace(/"/g,'""')}"`,`"${(p.ams2UserId||"").replace(/"/g,'""')}"`,p.daysOffline!==null?p.daysOffline:"",g,C,_];i.push(M.join(","))});let r=i.join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(o),u=document.createElement("a"),d=new Date().toISOString().split("T")[0],m=`ams_check_${this.category()}_${d}.csv`;u.setAttribute("href",s),u.setAttribute("download",m),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}};ma.\u0275fac=function(e){return new(e||ma)},ma.\u0275cmp=R({type:ma,selectors:[["app-ams-check-details"]],decls:46,vars:4,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"p-2","rounded-full","hover:bg-slate-700","text-slate-400","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"text-3xl","font-bold","text-white"],[1,"text-slate-400","mt-1","ml-12"],[1,"flex","items-center","px-4","py-2","bg-green-600","hover:bg-green-700","disabled:bg-slate-700","disabled:text-slate-500","disabled:cursor-not-allowed","text-white","rounded-md","text-sm","font-medium","transition-colors","shadow-sm",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],[1,"bg-slate-800/50","border","border-slate-700/50","rounded-lg","shadow","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full"],[1,"bg-slate-800"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-800/40"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-mono","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-500/10","text-green-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-red-500/10","text-red-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium"],["colspan","11",1,"px-6","py-10","text-center","text-slate-400"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header",1)(2,"div")(3,"div",2)(4,"button",3),y("click",function(){return i.goBack()}),A(),a(5,"svg",4),v(6,"path",5),l()(),j(),a(7,"h2",6),c(8),l()(),a(9,"p",7),c(10),l()(),a(11,"button",8),y("click",function(){return i.exportToCsv()}),A(),a(12,"svg",9),v(13,"path",10),l(),c(14," Export CSV "),l()(),j(),a(15,"div",11)(16,"div",12)(17,"table",13)(18,"thead",14)(19,"tr")(20,"th",15),c(21,"#"),l(),a(22,"th",15),c(23,"Serial Number"),l(),a(24,"th",15),c(25,"Device Model"),l(),a(26,"th",15),c(27,"AMS 1.0 Tag"),l(),a(28,"th",15),c(29,"AMS 2.0 Asset ID"),l(),a(30,"th",15),c(31,"AMS 1.0 User"),l(),a(32,"th",15),c(33,"AMS 2.0 User"),l(),a(34,"th",15),c(35,"Days Offline"),l(),a(36,"th",15),c(37,"AMS 1.0 Status"),l(),a(38,"th",15),c(39,"AMS 2.0 Status"),l(),a(40,"th",15),c(41,"Overall Status"),l()()(),a(42,"tbody",16),U(43,q4,26,17,"tr",17,B4,!1,W4,3,0,"tr"),l()()()()()),e&2&&(f(8),E(i.categoryTitle()),f(2),X("Found ",i.assets().length," records."),f(),x("disabled",i.assets().length===0),f(32),B(i.assets()))},dependencies:[F],encapsulation:2,changeDetection:0});var Gf=ma;var Nw=[{path:"login",component:Qm},{path:"",canActivate:[Aw],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:bm},{path:"assets",component:Fm},{path:"accessories",component:Om},{path:"consumables",component:Lm},{path:"components",component:Bm},{path:"licenses",component:Pm},{path:"people",component:Vm},{path:"reports",component:jm},{path:"settings",component:Um},{path:"settings/status-labels",component:rf},{path:"settings/status-label/create",component:gf},{path:"settings/status-label/edit/:id",component:hf},{path:"settings/asset-models",component:of},{path:"settings/asset-model/create",component:vf},{path:"settings/asset-model/edit/:id",component:yf},{path:"settings/categories",component:sf},{path:"settings/category/create",component:bf},{path:"settings/category/edit/:id",component:_f},{path:"settings/manufacturers",component:af},{path:"settings/manufacturer/create",component:xf},{path:"settings/manufacturer/edit/:id",component:Cf},{path:"settings/suppliers",component:lf},{path:"settings/supplier/create",component:wf},{path:"settings/supplier/edit/:id",component:Sf},{path:"settings/departments",component:cf},{path:"settings/department/create",component:Ef},{path:"settings/department/edit/:id",component:Df},{path:"settings/locations",component:uf},{path:"settings/location/create",component:Tf},{path:"settings/location/edit/:id",component:If},{path:"settings/companies",component:df},{path:"settings/company/create",component:kf},{path:"settings/company/edit/:id",component:Af},{path:"settings/authentication",component:Rf},{path:"settings/authentication/edit/:id",component:Ff},{path:"settings/users",component:mf},{path:"settings/sbus",component:ff},{path:"settings/sbu/create",component:Mf},{path:"settings/sbu/edit/:id",component:Nf},{path:"settings/barcodes-labels",component:pf},{path:"settings/email",component:Lf},{path:"settings/notifications",component:Pf},{path:"settings/ldap",component:$f},{path:"asset/create",component:$m},{path:"asset/edit/:id",component:Ym},{path:"license/create",component:Hm},{path:"license/edit/:id",component:Km},{path:"accessory/create",component:Gm},{path:"accessory/edit/:id",component:Jm},{path:"consumable/create",component:zm},{path:"consumable/edit/:id",component:Xm},{path:"component/create",component:Wm},{path:"component/edit/:id",component:ef},{path:"user/create",component:qm},{path:"user/edit/:id",component:tf},{path:"data-management",component:Zm},{path:"ams-far-check",component:Uf},{path:"ams-far-check/details/:category",component:Bf},{path:"ams-check",component:Hf},{path:"ams-check/details/:category",component:Gf},{path:"qr-sticker",component:nf},{path:"email-preview/asset-updated",component:jf}]},{path:"**",redirectTo:"",pathMatch:"full"}];Z0(ym,{providers:[R0(),Ig(Nw,kg()),ng(ig())]}).catch(n=>console.error(n));
